{"version":3,"sources":["webpack://Autodesk.Extensions.[name]/webpack/bootstrap","webpack://Autodesk.Extensions.[name]/external \"THREE\"","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/resolve.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/node_modules/fast-deep-equal/index.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/error_classes.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/schema_obj.js","webpack://Autodesk.Extensions.[name]/./node_modules/fast-json-stable-stringify/index.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/validate.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/_limit.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/_limitItems.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/_limitLength.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/ajv.js","webpack://Autodesk.Extensions.[name]/./extensions/StandardSurface/std-surf-vert.glsl","webpack://Autodesk.Extensions.[name]/./extensions/StandardSurface/std-surf-frag.glsl","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/util.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/index.js","webpack://Autodesk.Extensions.[name]/./node_modules/uri-js/dist/es5/uri.all.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/ucs2length.js","webpack://Autodesk.Extensions.[name]/./node_modules/json-schema-traverse/index.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/cache.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/formats.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/rules.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/index.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/ref.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/allOf.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/anyOf.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/comment.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/const.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/contains.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/dependencies.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/enum.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/format.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/if.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/items.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/multipleOf.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/not.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/oneOf.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/pattern.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/properties.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/propertyNames.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/required.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/data.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/compile/async.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/keyword.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/dotjs/custom.js","webpack://Autodesk.Extensions.[name]/./node_modules/ajv/lib/definition_schema.js","webpack://Autodesk.Extensions.[name]/./extensions/StandardSurface/StandardSurfaceMaterial.js","webpack://Autodesk.Extensions.[name]/./extensions/StandardSurface/parseMaterial.js","webpack://Autodesk.Extensions.[name]/./extensions/StandardSurface/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","THREE","URI","equal","util","SchemaObject","traverse","resolve","compile","root","ref","refVal","this","_refs","_schemas","inlineRef","schema","_opts","inlineRefs","validate","_compile","v","baseId","res","resolveSchema","undefined","parse","refPath","_getFullPath","getFullPath","_getId","keys","length","id","normalizeId","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","fullPath","url","ids","schemaId","baseIds","fullPaths","localRefs","self","allKeys","sch","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","escapeFragment","Error","PREVENT_SCOPE_CHANGE","toHash","fragment","slice","parts","split","part","unescapeFragment","$ref","SIMPLE_INLINED","limit","checkNoRef","item","Array","isArray","countKeys","count","Infinity","normalize","serialize","TRAILING_SLASH_HASH","replace","a","b","constructor","RegExp","source","flags","valueOf","toString","MissingRefError","message","missingRef","missingSchema","errorSubclass","Subclass","Validation","errors","ajv","validation","MissingRef","obj","copy","data","opts","cmp","f","cycles","node","aobj","bobj","seen","stringify","toJSON","isFinite","JSON","out","indexOf","TypeError","seenIndex","push","sort","splice","it","$keyword","$ruleType","$async","$refKeywords","schemaHasRulesExcept","RULES","all","$id","strictKeywords","$unknownKwd","schemaUnknownRules","keywords","$keywordsMsg","logger","warn","isTop","async","sourceCode","processCode","$lvl","level","$dataLvl","dataLevel","$schema","$schemaPath","schemaPath","getProperty","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$data","$valid","$$outStack","createErrors","toQuotedString","messages","verbose","__err","pop","compositeRule","$top","rootId","dataPathArr","default","useDefaults","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","type","$typeIsArray","nullable","concat","extendRefs","$comment","code","coerceTypes","$coerceToTypes","coerceToTypes","$rulesGroup","types","$shouldUseGroup","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","join","$parentData","arr2","i2","l2","checkDataType","properties","arr3","$propertyKey","i3","l3","$sch","$passData","useDefault","items","arr4","l4","arr5","rules","$rule","i5","l5","$shouldUseRule","$code","keyword","implements","impl","$ruleImplementsSomeKeyword","cleanUpCode","finalCleanUpCode","$schemaValue","$isData","getData","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$errorKeyword","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","Math","unicode","compileSchema","Cache","stableStringify","formats","$dataMetaSchema","Ajv","schemaKeyRef","getSchema","schemaObj","_addSchema","valid","_meta","addSchema","_skipValidation","checkUnique","addMetaSchema","skipValidation","validateSchema","throwOrLogError","defaultMeta","meta","META_SCHEMA_ID","errorsText","error","keyRef","_getSchemaObj","_fragments","_getSchemaFragment","removeSchema","_removeAllSchemas","_cache","clear","del","cacheKey","addFormat","format","_formats","options","separator","dataVar","text","e","dataPath","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","put","compiling","callValidate","currentOpts","_metaOpts","refs","_validate","result","apply","arguments","compileAsync","customKeyword","addKeyword","add","getKeyword","removeKeyword","remove","validateKeyword","errorClasses","ValidationError","META_IGNORE_OPTIONS","META_SUPPORT_DATA","log","noop","console","setLogger","cache","_loadingSchemas","_compilations","_get$IdOrId","_get$Id","chooseGetId","loopRequired","errorDataPath","_errorDataPathProperty","metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","$dataSchema","metaSchema","addDefaultMetaSchema","optsSchemas","schemas","addInitialSchemas","regex","test","dataType","negate","EQUAL","AND","OK","NOT","to","checkDataTypes","dataTypes","array","null","number","integer","optionCoerceTypes","COERCE_TO_TYPES","escapeQuotes","ucs2length","varOccurences","str","matches","match","varReplace","expr","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","ERRORS_REGEXP","REMOVE_ERRORS_ASYNC","RETURN_ASYNC","REMOVE_ERRORS","ROOTDATA_REGEXP","REMOVE_ROOTDATA","schemaHasRules","exceptKeyword","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","prop","path","escapeJsonPointer","lvl","paths","up","jsonPointer","JSON_POINTER","RELATIVE_JSON_POINTER","segments","segment","unescapeJsonPointer","decodeURIComponent","encodeURIComponent","arr","hash","IDENTIFIER","SINGLE_QUOTE","validateGenerator","checkCompiling","index","compIndex","endCompiling","patternCode","patterns","defaultCode","refValCode","customRuleCode","vars","statement","patternsHash","defaults","defaultsHash","customRules","compilation","localCompile","cv","_schema","_root","isRoot","errorPath","resolveRef","usePattern","useCustomRule","Function","makeValidate","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","refId","replaceLocalRef","removeLocalRef","inline","regexStr","valueStr","rule","deps","definition","dependencies","every","macro","merge","_len","sets","_key","xl","x","subexp","typeOf","shift","toLowerCase","toUpperCase","buildExps","isIRI","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","DIGIT$$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","maxInt","regexPunycode","regexNonASCII","regexSeparators","floor","stringFromCharCode","String","fromCharCode","error$1","RangeError","mapDomain","string","fn","encoded","map","ucs2decode","output","counter","charCodeAt","extra","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","base","decode","input","codePoint","inputLength","bias","basic","lastIndexOf","j","oldi","w","baseMinusT","fromCodePoint","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","return","basicLength","handledCPCount","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","q","qMinusT","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c2","_c","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","scheme","userinfo","host","query","_stripLeadingZeros","_normalizeIPv4","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","reduce","acc","field","lastLongest","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","isNaN","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","charAt","absolutePath","resolveComponents","relative","skipNormalization","target","tolerant","unescapeComponent","handler","handler$1","O","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$2","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","_x","_xl","subject","body","_x2","_xl2","addr","setInterval","toAddr","atIdx","localPart","domain","URN_PARSE","handler$3","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$4","uuidComponents","uuid","baseURI","relativeURI","schemelessOptions","assign","uri","uriA","uriB","escapeComponent","factory","len","pos","cb","_traverse","pre","post","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","additionalProperties","propertyNames","not","allOf","anyOf","oneOf","definitions","patternProperties","enum","const","required","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","DATE","DAYS","TIME","HOSTNAME","URITEMPLATE","URL","JSON_POINTER_URI_FRAGMENT","date","year","month","day","isLeapYear","time","full","hour","minute","second","timeZone","fast","email","hostname","ipv4","ipv6","dateTime","DATE_TIME_SEPARATOR","NOT_URI_FRAGMENT","Z_ANCHOR","ruleModules","ALL","forEach","group","implKeywords","custom","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","$wasComposite","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","$additionalItems","$currErrSchemaPath","multipleOfPrecision","$allErrorsOption","$prevValid","$passingSchemas","$key","$dataProperties","$schemaKeys","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","i1","$pProperty","$additionalProperty","$useDefaults","$hasDefault","i4","$invalidName","$propertySch","$loopRequired","$itemType","KEYWORDS","keywordsJsonPointers","callback","loadSchema","loadMetaSchemaOf","then","_compileAsync","loadMissingSchema","added","schemaPromise","removePromise","Promise","definitionSchema","_addRule","ruleGroup","rg","throwError","_validateKeyword","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","$parentDataProperty","def_callRuleValidate","modifying","def_customError","simpleTypes","size","max","min","rng","tex","avp","Autodesk","Viewing","Private","chunks","ShaderChunks","GetPrismMapUniforms","PrismUtil","STANDARD_SURFACE_UNIFORMS","u_base","u_base_color","u_coat","u_coat_affect_color","u_coat_affect_roughness","u_coat_anisotropy","u_coat_color","u_coat_IOR","u_coat_normal","u_coat_rotation","u_coat_roughness","u_diffuse_roughness","u_emission","u_emission_color","u_metalness","u_normal","u_opacity","u_sheen","u_sheen_color","u_sheen_roughness","u_specular","u_specular_anisotropy","u_specular_color","u_specular_IOR","u_specular_rotation","u_specular_roughness","u_subsurface","u_subsurface_anisotropy","u_subsurface_color","u_subsurface_radius","u_subsurface_scale","u_thin_film_IOR","u_thin_film_thickness","u_thin_walled","u_transmission","u_transmission_color","u_transmission_depth","u_transmission_dispersion","u_transmission_extra_roughness","u_transmission_scatter","u_transmission_scatter_anisotropy","SHEEN_ALBEDO_DATA_TEXTURE","sqrt","Uint8Array","enc","flat","makeDataTexture","generateMipmaps","SAMPLING_RANDOM_DATA_TEXTURE","buildRandomTable","getMapUniforms","args","needsUpdate","getTypeString","StandardSurfaceShader","uniforms","common","lights","fog","CutPlanesUniforms","IdUniforms","ThemingUniform","ShadowMapUniforms","u_sheenAlbedo","u_samplingRandomMap","irradianceMap","envMap","exposureBias","envMapExposure","envRotationSin","envRotationCos","envExponentMin","envExponentMax","envExponentCount","envMapMipLevels","tilingOverallTransform","uv2tile","tile2uv","tileAlignOffset","tilingUVTransform","tilingRandomAxisS","tilingRandomAxisT","tilingRandomAlignmentOffset","vertexShader","std_surf_vert","fragmentShader","std_surf_frag","entries","isNormal","padEnd","buildFragmentShader","snakeToCamel","StandardSurfaceMaterial","clone","supportsMrtNormals","defines","SHEEN_ALBEDO_TABLE_SIZE","SHEEN_ALBEDO_TABLE_RANGE","SHEEN_ALBEDO_TABLE_MIN","SAMPLING_RANDOM_TABLE_SIZE","NUM_SAMPLES","shading","isStandardSurfaceMaterial","refreshTextureUniforms","matrix","invert","encoding","rgbScale","isHeightMap","set","heightMapScale","val","mat","standardSurface","tag","packedNormals","tonemapOutput","cutplanes","textureMaps","texturesLoaded","g","u_transmission_map","_setter","_getter","convertAngleUnit","unit","units","PI","textureScaleAngle","convertDistanceUnit","sceneUnit","convertUnits","textureScaleDistance","noConversion","noTextureScale","convertValueUnit","coat_rotation","specular_rotation","subsurface_scale","transmission_depth","thin_film_thickness","textureValueScale","normalMap","coat_normal","normal","UNIT_CONVERSIONS","nanometer","millimeter","centimeter","inch","decimeter","foot","yard","meter","kilometer","mile","cenimeter","normalizeUnits","from","getByPointer","ptr","tokens","filter","validateTextureRefs","refPtr","convertStandardSurface","suppressErrors","AJV","isStandardSurface","mtl","transparent","maps","params","parameters","uKey","Color","Vector3","y","z","texture","mapName","texData","unitScale","bitmap","textureObj","converter","convertStandardSurfaceTexture","mtlSpecific","maxAnisotropy","anisotropy","mapping","UVMapping","wrapS","uRepeat","ClampToEdgeWrapping","RepeatWrapping","wrapT","vRepeat","magFilter","minFilter","filtering","NearestFilter","LinearFilter","realWorldOffsetX","realWorldOffsetY","realWorldScaleX","realWorldScaleY","uOffset","uScale","vOffset","vScale","wAngle","cos","sin","cx","cy","Matrix3","elements","av","StandardSurfaceExtension","viewer","toolbar","ro","renderoptions","func","wait","immediate","timeout","_updateNumSamplesUI","updateNumSamples","context","later","callNow","clearTimeout","setTimeout","OptionSlider","_numSamples","tbody","setGlobalManager","globalManager","setValue","sliderElement","step","addEventListener","detail","debug","uninitialize","RenderOptionsPanel","model","info","stdSurfMats","processMaterials","materials","scene","SceneUnit","updated","_updateMaterial","TextureLoader","loadMaterialTextures","sceneUpdated","fragList","getFragmentList","matman","_getMaterialHash","oldMtl","_materials","dispose","addMaterial","useThreeMesh","meshes","vizmeshes","material","matId","materialmap","materialIdMap","updateCount","invalidate","Extension","theExtensionManager","registerExtension"],"mappings":"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","file":"StandardSurface/StandardSurface.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 868);\n","module.exports = THREE;","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","module.exports = \"varying vec3 vWorldNormal;\\nvarying vec3 vWorldPosition;\\n#if defined(USE_MAP) || defined(USE_BASE_MAP) || defined(USE_BASE_COLOR_MAP) || defined(USE_COAT_MAP) || defined(USE_COAT_AFFECT_COLOR_MAP) || defined(USE_COAT_AFFECT_ROUGHNESS_MAP) || defined(USE_COAT_ANISOTROPY_MAP) || defined(USE_COAT_COLOR_MAP) || defined(USE_COAT_IOR_MAP) || defined(USE_COAT_NORMAL_MAP) || defined(USE_COAT_ROTATION_MAP) || defined(USE_COAT_ROUGHNESS_MAP) || defined(USE_DIFFUSE_ROUGHNESS_MAP) || defined(USE_EMISSION_MAP) || defined(USE_EMISSION_COLOR_MAP) || defined(USE_METALNESS_MAP) || defined(USE_NORMAL_MAP) || defined(USE_OPACITY_MAP) || defined(USE_SHEEN_MAP) || defined(USE_SHEEN_COLOR_MAP) || defined(USE_SHEEN_ROUGHNESS_MAP) || defined(USE_SPECULAR_MAP) || defined(USE_SPECULAR_ANISOTROPY_MAP) || defined(USE_SPECULAR_COLOR_MAP) || defined(USE_SPECULAR_IOR_MAP) || defined(USE_SPECULAR_ROTATION_MAP) || defined(USE_SPECULAR_ROUGHNESS_MAP) || defined(USE_SUBSURFACE_MAP) || defined(USE_SUBSURFACE_ANISOTROPY_MAP) || defined(USE_SUBSURFACE_COLOR_MAP) || defined(USE_SUBSURFACE_RADIUS_MAP) || defined(USE_SUBSURFACE_SCALE_MAP) || defined(USE_THIN_FILM_IOR_MAP) || defined(USE_THIN_FILM_THICKNESS_MAP) || defined(USE_THIN_WALLED_MAP) || defined(USE_TRANSMISSION_MAP) || defined(USE_TRANSMISSION_COLOR_MAP) || defined(USE_TRANSMISSION_DEPTH_MAP) || defined(USE_TRANSMISSION_DISPERSION_MAP) || defined(USE_TRANSMISSION_EXTRA_ROUGHNESS_MAP) || defined(USE_TRANSMISSION_SCATTER_MAP) || defined(USE_TRANSMISSION_SCATTER_ANISOTROPY_MAP)\\n#define USE_MAP\\n#endif\\nvarying vec2 vUv;\\n#ifdef MRT_NORMALS\\nvarying float depth;\\nvarying vec3 vGeomNormal;\\n#endif\\n#include<pack_normals>\\n#include<instancing_decl_vert>\\n#include<id_decl_vert>\\n#include<shadowmap_decl_vert>\\nvoid main() {\\n#ifdef UNPACK_NORMALS\\n    vec3 instNorm = decodeNormal(normal);\\n#else\\n    vec3 instNorm = normal;\\n#endif\\n    instNorm = getInstanceNormal(instNorm);\\n    vec3 instPos = getInstancePos(position);\\n#ifdef MRT_NORMALS\\n    vGeomNormal = normalize(normalMatrix * instNorm);\\n#endif\\n    vec4 positionWorld = modelMatrix * vec4(instPos, 1.0);\\n    mat3 worldInverseTransposeMatrix = mat3(modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz);\\n    vec4 mvPosition = modelViewMatrix * vec4(instPos, 1.0);\\n    gl_Position = projectionMatrix * mvPosition;\\n    vWorldNormal = normalize(worldInverseTransposeMatrix * instNorm);\\n    vWorldPosition = positionWorld.xyz;\\n    vUv = uv;\\n#ifdef MRT_NORMALS\\n    depth = mvPosition.z;\\n#endif\\n#include<id_vert>\\n#include<shadowmap_vert>\\n}\\n\";","module.exports = \"#include<common>\\n#define M_PI_INV 1.0/PI\\n#define M_GOLDEN_RATIO 1.6180339887498948482045868343656\\n#define M_FLOAT_EPS 0.000001\\n#define MAX_LIGHTS (MAX_POINT_LIGHTS + MAX_SPOT_LIGHTS + MAX_DIR_LIGHTS)\\n#define BSDF vec3\\n#define EDF vec3\\nstruct VDF { vec3 absorption; vec3 scattering; };\\nstruct surfaceshader { vec3 color; vec3 transparency; };\\nstruct volumeshader { VDF vdf; EDF edf; };\\nstruct displacementshader { vec3 offset; float scale; };\\nstruct lightshader { vec3 intensity; vec3 direction; };\\nuniform sampler2D u_sheenAlbedo;\\nuniform sampler2D u_samplingRandomMap;\\n#inject<uniforms>\\n#ifdef USE_TILING\\nuniform mat4 tilingOverallTransform;\\nuniform sampler2D TilingMap;\\nuniform mat3 TilingMap_texMatrix;\\nuniform vec4 uv2tile;\\nuniform vec4 tile2uv;\\nuniform vec2 tileAlignOffset;\\nuniform mat4 tilingUVTransform;\\n#ifdef USE_TILING_NORMAL\\nuniform sampler2D TilingNormalMap;\\nuniform mat3 TilingNormalMap_texMatrix;\\n#endif\\n#ifdef USE_TILING_RANDOM\\nuniform sampler2D TilingRandomMap;\\nuniform mat3 TilingRandomMap_texMatrix;\\nuniform vec2 tilingRandomAxisS;\\nuniform vec2 tilingRandomAxisT;\\nuniform vec2 tilingRandomAlignmentOffset;\\n#endif\\n#endif\\nuniform float envExponentMin;\\nuniform float envExponentMax;\\nuniform float envExponentCount;\\n#include<env_sample>\\n#if TONEMAP_OUTPUT > 0\\nuniform float exposureBias;\\n#include<tonemap>\\n#endif\\nvarying vec3 vWorldPosition;\\n#include<id_decl_frag>\\n#include<theming_decl_frag>\\n#include<shadowmap_decl_frag>\\n#ifdef MRT_NORMALS\\nvarying vec3 vGeomNormal;\\n#endif\\n#ifdef USE_FOG\\nuniform vec3 fogColor;\\nuniform float fogNear;\\nuniform float fogFar;\\n#endif\\n#if defined(USE_MAP) || defined(USE_BASE_MAP) || defined(USE_BASE_COLOR_MAP) || defined(USE_COAT_MAP) || defined(USE_COAT_AFFECT_COLOR_MAP) || defined(USE_COAT_AFFECT_ROUGHNESS_MAP) || defined(USE_COAT_ANISOTROPY_MAP) || defined(USE_COAT_COLOR_MAP) || defined(USE_COAT_IOR_MAP) || defined(USE_COAT_NORMAL_MAP) || defined(USE_COAT_ROTATION_MAP) || defined(USE_COAT_ROUGHNESS_MAP) || defined(USE_DIFFUSE_ROUGHNESS_MAP) || defined(USE_EMISSION_MAP) || defined(USE_EMISSION_COLOR_MAP) || defined(USE_METALNESS_MAP) || defined(USE_NORMAL_MAP) || defined(USE_OPACITY_MAP) || defined(USE_SHEEN_MAP) || defined(USE_SHEEN_COLOR_MAP) || defined(USE_SHEEN_ROUGHNESS_MAP) || defined(USE_SPECULAR_MAP) || defined(USE_SPECULAR_ANISOTROPY_MAP) || defined(USE_SPECULAR_COLOR_MAP) || defined(USE_SPECULAR_IOR_MAP) || defined(USE_SPECULAR_ROTATION_MAP) || defined(USE_SPECULAR_ROUGHNESS_MAP) || defined(USE_SUBSURFACE_MAP) || defined(USE_SUBSURFACE_ANISOTROPY_MAP) || defined(USE_SUBSURFACE_COLOR_MAP) || defined(USE_SUBSURFACE_RADIUS_MAP) || defined(USE_SUBSURFACE_SCALE_MAP) || defined(USE_THIN_FILM_IOR_MAP) || defined(USE_THIN_FILM_THICKNESS_MAP) || defined(USE_THIN_WALLED_MAP) || defined(USE_TRANSMISSION_MAP) || defined(USE_TRANSMISSION_COLOR_MAP) || defined(USE_TRANSMISSION_DEPTH_MAP) || defined(USE_TRANSMISSION_DISPERSION_MAP) || defined(USE_TRANSMISSION_EXTRA_ROUGHNESS_MAP) || defined(USE_TRANSMISSION_SCATTER_MAP) || defined(USE_TRANSMISSION_SCATTER_ANISOTROPY_MAP)\\n#define USE_MAP\\n#endif\\nvarying vec2 vUv;\\nfloat linear_to_srgb(in float v) {\\n    float o = v;\\n    if (o <= 0.0031308) {\\n        o *= 12.92;\\n    } else {\\n        o = 1.055 * pow(o, 1.0 / 2.4) - 0.055;\\n    }\\n    return o;\\n}\\nvec3 linear_to_srgb(in vec3 v) {\\n    vec3 o = v;\\n    o.r = linear_to_srgb(o.r);\\n    o.g = linear_to_srgb(o.g);\\n    o.b = linear_to_srgb(o.b);\\n    return o;\\n}\\nfloat srgb_to_linear(in float v) {\\n    float o = v;\\n    if (o <= 0.04045) {\\n        o *= 0.07739938;\\n    } else {\\n        o = pow(abs((o + 0.055) * 0.947867298), 2.4);\\n    }\\n    return o;\\n}\\nvec3 srgb_to_linear(in vec3 v) {\\n    vec3 o = v;\\n    o.r = srgb_to_linear(o.r);\\n    o.g = srgb_to_linear(o.g);\\n    o.b = srgb_to_linear(o.b);\\n    return o;\\n}\\n#if defined(USE_ENVMAP)\\nuniform samplerCube envMap;\\nuniform float envMapExposure;\\nuniform int envMapMipLevels;\\n#if defined(USE_IRRADIANCEMAP)\\nuniform samplerCube irradianceMap;\\n#endif\\n#endif\\nvarying vec3 vWorldNormal;\\n#ifndef _LMVWEBGL2_\\nint clamp(int x, int minVal, int maxVal) {\\n    if (x < minVal) return minVal;\\n    if (x > maxVal) return maxVal;\\n    return x;\\n}\\n#endif\\nvec3 sample_map(vec2 st, sampler2D map, int invert, int encoding, float valueScale) {\\n    vec3 raw = texture2D(map, st).rgb;\\n    if (encoding == 0) {\\n        raw = srgb_to_linear(raw);\\n    }\\n    if (invert == 1) {\\n        raw = vec3(1.0) - raw;\\n    }\\n    return raw * valueScale;\\n}\\nmat3 two_vector(in vec3 N, in vec3 Np) {\\n    vec3 v = cross(N, Np);\\n    float c = dot(N, Np);\\n    if (abs(c) > 0.999) {\\n        return sign(c) * mat3(1.0);\\n    }\\n    mat3 vX = mat3(0.0, v.z, -v.y, -v.z, 0.0, v.x, v.y, -v.x, 0.0);\\n    return mat3(1.0) + vX + (vX * vX) * 1.0 / (1.0 - c);\\n}\\nvoid transform_basis(inout vec3 T, inout vec3 B, inout vec3 N, in vec2 uv, in sampler2D map, in mat3 texMatrix, in int invert, in int encoding, in float valueScale, in int isHeight, in vec2 heightScale) {\\n    vec2 st = (texMatrix * vec3(uv, 1.0)).xy;\\n    vec3 Np = vec3(0.0, 0.0, 1.0);\\n    mat3 TBN = mat3(T, B, N);\\n    if (isHeight == 1) {\\n        vec2 offset = fwidth(st);\\n        float h0 = sample_map(st, map, invert, encoding, valueScale).x;\\n        float hx = sample_map(st + vec2(offset.x, 0.0), map, invert, encoding, valueScale).x;\\n        float hy = sample_map(st + vec2(0.0, offset.y), map, invert, encoding, valueScale).x;\\n        vec2 diff = vec2(h0 - hx, h0 - hy) / offset;\\n        Np = normalize(vec3(diff.x * heightScale.x, diff.y * heightScale.y, 1.0));\\n        Np = normalize(inverse(texMatrix) * Np);\\n    } else {\\n        Np = normalize(2.0 * sample_map(st, map, invert, encoding, valueScale).xyz - 1.0);\\n    }\\n    N = normalize(TBN * Np);\\n    B = cross(N, T);\\n    T = cross(TBN[1], N);\\n}\\nvec3 sample_irradiance_map(vec3 dir) {\\n    return applyEnvShadow(sampleIrradianceMap(dir, irradianceMap, envMapExposure), dir);\\n}\\nvec3 sample_radiance_map(vec3 dir, float lod) {\\n    vec3 direction = adjustLookupVector(dir);\\n#ifdef HAVE_TEXTURE_LOD\\n    vec4 val = textureCubeLodEXT(envMap, direction, lod);\\n#else\\n    vec4 val = textureCube(envMap, direction, lod);\\n#endif\\n#ifdef ENV_GAMMA\\n    return GammaDecode(val, envMapExposure);\\n#elif defined(ENV_RGBM)\\n    return RGBMDecode(val, envMapExposure);\\n#else\\n#ifdef GAMMA_INPUT\\n    return val.xyz * val.xyz;\\n#else\\n    return val.xyz;\\n#endif\\n#endif\\n}\\n#include<hatch_pattern>\\nfloat read_sheen_albedo_table(vec2 uv) {\\n    vec4 tex = texture2D(u_sheenAlbedo, vec2(uv.x, 1.0 - uv.y));\\n    float adj = 256.0 / 255.0;\\n    float val = dot(tex, vec4(adj, adj / 255.0, adj / 65025.0, adj / 16581375.0));\\n    return val * SHEEN_ALBEDO_TABLE_RANGE + SHEEN_ALBEDO_TABLE_MIN;\\n}\\n#if MAX_LIGHTS > 0\\nfloat calc_light_attenuation(float distance, float cutoffDistance, float decayExp) {\\n    if (decayExp > 0.0) {\\n        return pow(clamp(1.0 - distance / cutoffDistance, 0.0, 1.0), decayExp);\\n    }\\n    return 1.0;\\n}\\n#if MAX_POINT_LIGHTS > 0\\nuniform vec3  pointLightColor[MAX_POINT_LIGHTS];\\nuniform vec3  pointLightPosition[MAX_POINT_LIGHTS];\\nuniform float pointLightDistance[MAX_POINT_LIGHTS];\\nuniform float pointLightDecay[MAX_POINT_LIGHTS];\\nvoid sample_point_light(int idx, vec3 position, out lightshader result) {\\n    for (int i = 0; i < MAX_POINT_LIGHTS; ++i) {\\n        if (i == idx) {\\n            vec3 lightWorldPosition = pointLightPosition[i];\\n            vec3 lightWorldVector = lightWorldPosition - position;\\n            float attenuation = calc_light_attenuation(length(lightWorldVector), pointLightDistance[i], pointLightDecay[i]);\\n            result.direction = normalize(lightWorldVector);\\n            result.intensity = pointLightColor[i] * attenuation;\\n            return;\\n        }\\n    }\\n}\\n#endif\\n#if MAX_SPOT_LIGHTS > 0\\nuniform vec3  spotLightColor[MAX_SPOT_LIGHTS];\\nuniform vec3  spotLightPosition[MAX_SPOT_LIGHTS];\\nuniform vec3  spotLightDirection[MAX_SPOT_LIGHTS];\\nuniform float spotLightAngleCos[MAX_SPOT_LIGHTS];\\nuniform float spotLightExponent[MAX_SPOT_LIGHTS];\\nuniform float spotLightDistance[MAX_SPOT_LIGHTS];\\nuniform float spotLightDecay[MAX_SPOT_LIGHTS];\\nvoid sample_spot_light(int idx, vec3 position, out lightshader result) {\\n    for (int i = 0; i < MAX_SPOT_LIGHTS; ++i) {\\n        if (i == idx) {\\n            vec3 lightWorldPosition = spotLightPosition[i];\\n            vec3 lightWorldVector = lightWorldPosition + position;\\n            float attenuation = calc_light_attenuation(length(lightWorldVector), spotLightDistance[i], spotLightDecay[i]);\\n            float spotEffect = dot(spotLightDirection[i], normalize(spotLightPosition[i] - position));\\n            result.direction = normalize(lightWorldVector);\\n            if (spotEffect > spotLightAngleCos[i]) {\\n                spotEffect = max(pow(max(spotEffect, 0.0), spotLightExponent[i]), 0.0);\\n                result.intensity = spotLightColor[i] * attenuation * spotEffect;\\n            } else {\\n                result.intensity = vec3(0.0);\\n            }\\n            return;\\n        }\\n    }\\n}\\n#endif\\n#if MAX_DIR_LIGHTS > 0\\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\\nvoid sample_dir_light(int idx, vec3 position, out lightshader result) {\\n    for (int i = 0; i < MAX_DIR_LIGHTS; ++i) {\\n        if (i == idx) {\\n            vec3 lightWorldVector = directionalLightDirection[i];\\n            result.direction = normalize(lightWorldVector);\\n            result.intensity = directionalLightColor[i];\\n            return;\\n        }\\n    }\\n}\\n#endif\\nvoid sample_light(int idx, vec3 position, out lightshader result) {\\n#if MAX_POINT_LIGHTS > 0\\n    if (idx < MAX_POINT_LIGHTS) {\\n        sample_point_light(idx, position, result);\\n        return;\\n    }\\n#endif\\n#if MAX_SPOT_LIGHTS > 0\\n    if (idx < MAX_POINT_LIGHTS + MAX_SPOT_LIGHTS) {\\n        sample_spot_light(idx - MAX_POINT_LIGHTS, position, result);\\n        return;\\n    }\\n#endif\\n#if MAX_DIR_LIGHTS > 0\\n    if (idx < MAX_POINT_LIGHTS + MAX_SPOT_LIGHTS + MAX_DIR_LIGHTS) {\\n        sample_dir_light(idx - (MAX_POINT_LIGHTS + MAX_SPOT_LIGHTS), position, result);\\n        return;\\n    }\\n#endif\\n    result.intensity = vec3(0.0);\\n}\\n#endif\\n#inject<getters>\\nvoid computeTangets(in vec3 pos, in vec2 uv, out vec3 T, out vec3 B) {\\n    vec3 q0 = dFdx( pos );\\n    vec3 q1 = dFdy( pos );\\n    vec2 st0 = dFdx( uv );\\n    vec2 st1 = dFdy( uv );\\n    float scale = 1.0 / (st1.t * st0.s - st0.t * st1.s);\\n    T = normalize((  q0 * st1.t - q1 * st0.t ) * scale );\\n    B = normalize(( -q0 * st1.s + q1 * st0.s ) * scale );\\n}\\nfloat mx_square(float x) { return x*x; }\\nvec2 mx_square(vec2 x) { return x*x; }\\nvec3 mx_square(vec3 x) { return x*x; }\\nvec4 mx_square(vec4 x) { return x*x; }\\nfloat mx_pow5(float x) { return mx_square(mx_square(x)) * x; }\\nfloat mx_max_component(vec2 v) { return max(v.x, v.y); }\\nfloat mx_max_component(vec3 v) { return max(max(v.x, v.y), v.z); }\\nfloat mx_max_component(vec4 v) { return max(max(max(v.x, v.y), v.z), v.w); }\\nbool mx_is_tiny(float v) { return abs(v) < EPSILON; }\\nbool mx_is_tiny(vec3 v) { return all(lessThan(abs(v), vec3(EPSILON))); }\\nfloat mx_mix(float v00, float v01, float v10, float v11, float x, float y) {\\n    float v0_ = mix(v00, v01, x);\\n    float v1_ = mix(v10, v11, x);\\n    return mix(v0_, v1_, y);\\n}\\n#ifdef USE_LMV_SAMPLING\\nvec2 hammersley(int index, int envSamples) {\\n    float u = (float(index) + 0.5) / float(SAMPLING_RANDOM_TABLE_SIZE);\\n    const float v = 0.5;\\n    float noise = texture2D(u_samplingRandomMap, vec2(u, v), 0.0).r;\\n    return vec2(float(index/envSamples), noise);\\n}\\n#else\\nfloat mx_golden_ratio_sequence(int i) {\\n    return fract((float(i) + 1.0) * M_GOLDEN_RATIO);\\n}\\nvec2 mx_spherical_fibonacci(int i, int numSamples) {\\n    return vec2((float(i) + 0.5) / float(numSamples), mx_golden_ratio_sequence(i));\\n}\\n#endif\\nfloat mx_orennayar(vec3 L, vec3 V, vec3 N, float NdotL, float roughness) {\\n    float LdotV = dot(L, V);\\n    float NdotV = dot(N, V);\\n    float t = LdotV - NdotL * NdotV;\\n    t = t > 0.0 ? t / max(NdotL, NdotV) : 0.0;\\n    float sigma2 = mx_square(roughness * PI);\\n    float A = 1.0 - 0.5 * (sigma2 / (sigma2 + 0.33));\\n    float B = 0.45 * sigma2 / (sigma2 + 0.09);\\n    return A + B * t;\\n}\\nfloat mx_microfacet_ggx_NDF(vec3 X, vec3 Y, vec3 H, float NdotH, float alphaX, float alphaY) {\\n    float XdotH = dot(X, H);\\n    float YdotH = dot(Y, H);\\n    float denom = mx_square(XdotH / alphaX) + mx_square(YdotH / alphaY) + mx_square(NdotH);\\n    return 1.0 / (PI * alphaX * alphaY * mx_square(denom));\\n}\\nfloat mx_microfacet_ggx_PDF(vec3 X, vec3 Y, vec3 H, float NdotH, float LdotH, float alphaX, float alphaY) {\\n    return mx_microfacet_ggx_NDF(X, Y, H, NdotH, alphaX, alphaY) * NdotH / (4.0 * LdotH);\\n}\\nvec3 mx_microfacet_ggx_IS(vec2 Xi, vec3 X, vec3 Y, vec3 N, float alphaX, float alphaY) {\\n    float phi = 2.0 * PI * Xi.x;\\n    float tanTheta = sqrt(Xi.y / (1.0 - Xi.y));\\n    vec3 H = vec3(X * (tanTheta * alphaX * cos(phi)) +\\n    Y * (tanTheta * alphaY * sin(phi)) +\\n    N);\\n    return normalize(H);\\n}\\nfloat mx_microfacet_ggx_G1(float cosTheta, float alpha) {\\n    float cosTheta2 = cosTheta * cosTheta;\\n    float tanTheta2 = (1.0 - cosTheta2) / cosTheta2;\\n    return 2.0 / (1.0 + sqrt(1.0 + alpha * alpha * tanTheta2));\\n}\\nfloat mx_microfacet_ggx_smith_G(float NdotL, float NdotV, float alpha) {\\n    return mx_microfacet_ggx_G1(NdotL, alpha) * mx_microfacet_ggx_G1(NdotV, alpha);\\n}\\nfloat mx_microfacet_sheen_NDF(float cosTheta, float roughness) {\\n    float invRoughness = 1.0 / roughness;\\n    float cos2 = cosTheta * cosTheta;\\n    float sin2 = 1.0 - cos2;\\n    return (2.0 + invRoughness) * pow(sin2, invRoughness * 0.5) / (2.0 * PI);\\n}\\nfloat mx_microfacet_sheen_albedo(float cosTheta, float roughness) {\\n    return clamp(read_sheen_albedo_table(vec2(cosTheta, roughness)), 0.0, 1.0);\\n}\\nfloat mx_fresnel_schlick(float cosTheta, float F0, float F90, float exponent) {\\n    float x = clamp(1.0 - cosTheta, 0.0, 1.0);\\n    return mix(F0, F90, pow(x, exponent));\\n}\\nvec3 mx_fresnel_schlick(float cosTheta, vec3 F0, vec3 F90, float exponent) {\\n    float x = clamp(1.0 - cosTheta, 0.0, 1.0);\\n    return mix(F0, F90, pow(x, exponent));\\n}\\nvec3 mx_fresnel_schlick(float cosTheta, vec3 F0) {\\n    if (cosTheta < 0.0) return vec3(1.0);\\n    float x = 1.0 - cosTheta;\\n    float x2 = x*x;\\n    float x5 = x2*x2*x;\\n    return F0 + (1.0 - F0) * x5;\\n}\\nfloat mx_fresnel_schlick(float cosTheta, float ior) {\\n    if (cosTheta < 0.0) return 1.0;\\n    float F0 = (ior - 1.0) / (ior + 1.0);\\n    F0 *= F0;\\n    float x = 1.0 - cosTheta;\\n    float x2 = x*x;\\n    float x5 = x2*x2*x;\\n    return F0 + (1.0 - F0) * x5;\\n}\\nfloat mx_fresnel_schlick_roughness(float cosTheta, float ior, float roughness) {\\n    cosTheta = abs(cosTheta);\\n    float F0 = (ior - 1.0) / (ior + 1.0);\\n    F0 *= F0;\\n    float x = 1.0 - cosTheta;\\n    float x2 = x*x;\\n    float x5 = x2*x2*x;\\n    return F0 + (max(1.0 - roughness, F0) - F0) * x5;\\n}\\nfloat mx_fresnel_dielectric(float cosTheta, float ior) {\\n    if (cosTheta < 0.0) return 1.0;\\n    float g =  ior*ior + cosTheta*cosTheta - 1.0;\\n    if (g < 0.0) return 1.0;\\n    g = sqrt(g);\\n    float gmc = g - cosTheta;\\n    float gpc = g + cosTheta;\\n    float x = gmc / gpc;\\n    float y = (gpc * cosTheta - 1.0) / (gmc * cosTheta + 1.0);\\n    return 0.5 * x * x * (1.0 + y * y);\\n}\\nvec3 mx_fresnel_conductor(float cosTheta, vec3 n, vec3 k) {\\n    float c2 = cosTheta*cosTheta;\\n    vec3 n2_k2 = n*n + k*k;\\n    vec3 nc2 = 2.0 * n * cosTheta;\\n    vec3 rs_a = n2_k2 + c2;\\n    vec3 rp_a = n2_k2 * c2 + 1.0;\\n    vec3 rs = (rs_a - nc2) / (rs_a + nc2);\\n    vec3 rp = (rp_a - nc2) / (rp_a + nc2);\\n    return 0.5 * (rs + rp);\\n}\\nfloat mx_burley_diffuse(vec3 L, vec3 V, vec3 N, float NdotL, float roughness) {\\n    vec3 H = normalize(L + V);\\n    float LdotH = max(dot(L, H), 0.0);\\n    float NdotV = max(dot(N, V), 0.0);\\n    float F90 = 0.5 + (2.0 * roughness * mx_square(LdotH));\\n    float refL = mx_fresnel_schlick(NdotL, 1.0, F90, 5.0);\\n    float refV = mx_fresnel_schlick(NdotV, 1.0, F90, 5.0);\\n    return refL * refV * M_PI_INV;\\n}\\nfloat mx_burley_directional_albedo(vec3 V, vec3 N, float roughness) {\\n    float x = dot(N, V);\\n    float fit0 = 0.97619 - 0.488095 * mx_pow5(1.0 - x);\\n    float fit1 = 1.55754 + (-2.02221 + (2.56283 - 1.06244 * x) * x) * x;\\n    return mix(fit0, fit1, roughness);\\n}\\nfloat mx_compute_lod(vec3 dir, float pdf, int maxMipLevel, int envSamples) {\\n    const float MIP_LEVEL_OFFSET = 1.5;\\n    float effectiveMaxMipLevel = float(maxMipLevel) - MIP_LEVEL_OFFSET;\\n    float distortion = sqrt(1.0 - mx_square(dir.y));\\n    return max(effectiveMaxMipLevel - 0.5 * log2(float(envSamples) * pdf * distortion), 0.0);\\n}\\nvec3 mx_environment_radiance(vec3 N, vec3 V, vec3 X, vec2 roughness, int distribution) {\\n    vec3 Y = normalize(cross(N, X));\\n    X = cross(Y, N);\\n    float NdotV = clamp(dot(N, V), 1e-8, 1.0);\\n    vec3 radiance = vec3(0.0);\\n    for (int i = 0; i < NUM_SAMPLES; i++) {\\n#ifdef USE_LMV_SAMPLING\\n        vec2 Xi = hammersley(i, NUM_SAMPLES);\\n#else\\n        vec2 Xi = mx_spherical_fibonacci(i, NUM_SAMPLES);\\n#endif\\n        vec3 H = mx_microfacet_ggx_IS(Xi, X, Y, N, roughness.x, roughness.y);\\n        vec3 L = -reflect(V, H);\\n        float NdotH = clamp(dot(N, H), 1e-8, 1.0);\\n        float NdotL = clamp(dot(N, L), 1e-8, 1.0);\\n        float VdotH = clamp(dot(V, H), 1e-8, 1.0);\\n        float LdotH = VdotH;\\n        float pdf = mx_microfacet_ggx_PDF(X, Y, H, NdotH, LdotH, roughness.x, roughness.y);\\n        float lod = mx_compute_lod(L, pdf, envMapMipLevels, NUM_SAMPLES);\\n        vec3 sampleColor = sample_radiance_map(L, lod);\\n        float G = mx_microfacet_ggx_smith_G(NdotL, NdotV, max(roughness.x, roughness.y));\\n        const float F = 1.0;\\n        radiance += sampleColor * G * F * VdotH / (NdotV * NdotH);\\n    }\\n    radiance /= float(NUM_SAMPLES);\\n    return radiance;\\n}\\nvec3 mx_environment_irradiance(vec3 N) {\\n    return sample_irradiance_map(N);\\n}\\nvoid mx_luminance_color3(vec3 _in, vec3 lumacoeffs, out vec3 result) {\\n    result = vec3(dot(_in, lumacoeffs));\\n}\\nvoid mx_roughness_anisotropy(float roughness, float anisotropy, out vec2 result) {\\n    float roughness_sqr = clamp(roughness*roughness, EPSILON, 1.0);\\n    if (anisotropy > 0.0) {\\n        float aspect = sqrt(1.0 - clamp(anisotropy, 0.0, 0.98));\\n        result.x = min(roughness_sqr / aspect, 1.0);\\n        result.y = roughness_sqr * aspect;\\n    } else {\\n        result.x = roughness_sqr;\\n        result.y = roughness_sqr;\\n    }\\n}\\nvoid mx_fresnel_ior(float ior, vec3 N, vec3 V, out float result) {\\n    float cosTheta = dot(N, -V);\\n    result = mx_fresnel_dielectric(cosTheta, ior);\\n}\\nmat4 mx_rotationMatrix(vec3 axis, float angle) {\\n    axis = normalize(axis);\\n    float s = sin(angle);\\n    float c = cos(angle);\\n    float oc = 1.0 - c;\\n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\\n                0.0,                                0.0,                                0.0,                                1.0);\\n}\\nvoid mx_rotate_vector3(vec3 v, float amount, vec3 axis, out vec3 result) {\\n    float rotationRadians = radians(amount);\\n    mat4 m = mx_rotationMatrix(axis, rotationRadians);\\n    result = (m * vec4(v, 1.0)).xyz;\\n}\\nvoid mx_complex_to_artistic_ior(vec3 ior, vec3 extinction, out vec3 reflectivity, out vec3 edge_color) {\\n    vec3 nm1 = ior - 1.0;\\n    vec3 np1 = ior + 1.0;\\n    vec3 k2  = extinction * extinction;\\n    vec3 r = (nm1*nm1 + k2) / (np1*np1 + k2);\\n    reflectivity = r;\\n    vec3 r_sqrt = sqrt(r);\\n    vec3 n_min = (1.0 - r) / (1.0 + r);\\n    vec3 n_max = (1.0 + r_sqrt) / (1.0 - r_sqrt);\\n    edge_color = (n_max - ior) / (n_max - n_min);\\n}\\nvoid mx_artistic_to_complex_ior(vec3 reflectivity, vec3 edge_color, out vec3 ior, out vec3 extinction) {\\n    vec3 r = clamp(reflectivity, 0.0, 0.99);\\n    vec3 r_sqrt = sqrt(r);\\n    vec3 n_min = (1.0 - r) / (1.0 + r);\\n    vec3 n_max = (1.0 + r_sqrt) / (1.0 - r_sqrt);\\n    ior = mix(n_max, n_min, edge_color);\\n    vec3 np1 = ior + 1.0;\\n    vec3 nm1 = ior - 1.0;\\n    vec3 k2 = (np1*np1 * r - nm1*nm1) / (1.0 - r);\\n    k2 = max(k2, 0.0);\\n    extinction = sqrt(k2);\\n}\\nvoid mx_conductor_brdf_reflection(vec3 L, vec3 V, float weight, vec3 reflectivity, vec3 edge_color, vec2 roughness, vec3 N, vec3 X, int distribution, out BSDF result) {\\n    if (weight < EPSILON) {\\n        result = BSDF(0.0);\\n        return;\\n    }\\n    float NdotL = dot(N, L);\\n    float NdotV = dot(N, V);\\n    if (NdotL <= 0.0 || NdotV <= 0.0) {\\n        result = BSDF(0.0);\\n        return;\\n    }\\n    vec3 Y = normalize(cross(N, X));\\n    vec3 H = normalize(L + V);\\n    float NdotH = dot(N, H);\\n    float D = mx_microfacet_ggx_NDF(X, Y, H, NdotH, roughness.x, roughness.y);\\n    float G = mx_microfacet_ggx_smith_G(NdotL, NdotV, max(roughness.x, roughness.y));\\n    vec3 ior_n, ior_k;\\n    mx_artistic_to_complex_ior(reflectivity, edge_color, ior_n, ior_k);\\n    float VdotH = dot(V, H);\\n    vec3 F = mx_fresnel_conductor(VdotH, ior_n, ior_k);\\n    F *= weight;\\n    result = F * D * G / (4.0 * NdotV);\\n}\\nvoid mx_conductor_brdf_indirect(vec3 V, float weight, vec3 reflectivity, vec3 edge_color, vec2 roughness, vec3 N, vec3 Li, out vec3 result) {\\n    if (weight < EPSILON) {\\n        result = vec3(0.0);\\n        return;\\n    }\\n    vec3 ior_n, ior_k;\\n    mx_artistic_to_complex_ior(reflectivity, edge_color, ior_n, ior_k);\\n    vec3 F = mx_fresnel_conductor(dot(N, V), ior_n, ior_k);\\n    F *= weight;\\n    result = Li * F;\\n}\\nvoid mx_dielectric_btdf_transmission(vec3 V, float weight, vec3 tint, float ior, vec2 roughness, vec3 normal, vec3 tangent, int distribution, VDF interior, out BSDF result) {\\n    result = tint * weight;\\n}\\nvoid mx_diffuse_btdf_reflection(vec3 L, vec3 V, float weight, vec3 color, vec3 normal, out BSDF result) {\\n    float NdotL = dot(L, -normal);\\n    if (NdotL <= 0.0 || weight < EPSILON) {\\n        result = BSDF(0.0);\\n        return;\\n    }\\n    result = color * weight * NdotL * M_PI_INV;\\n}\\nvoid mx_diffuse_btdf_indirect(vec3 V, float weight, vec3 color, vec3 normal, out vec3 result) {\\n    if (weight < EPSILON) {\\n        result = vec3(0.0);\\n        return;\\n    }\\n    vec3 Li = mx_environment_irradiance(-normal);\\n    result = Li * color * weight;\\n}\\nvoid mx_subsurface_brdf_reflection(vec3 L, vec3 V, float weight, vec3 color, vec3 radius, float anisotropy, vec3 normal, out BSDF result) {\\n    float NdotL = dot(L, -normal);\\n    if (NdotL <= 0.0 || weight < EPSILON) {\\n        result = BSDF(0.0);\\n        return;\\n    }\\n    result = color * weight * NdotL * M_PI_INV;\\n}\\nvoid mx_subsurface_brdf_indirect(vec3 V, float weight, vec3 color, vec3 radius, float anisotropy, vec3 normal, out vec3 result) {\\n    if (weight < EPSILON) {\\n        result = vec3(0.0);\\n        return;\\n    }\\n    vec3 Li = mx_environment_irradiance(-normal);\\n    result = Li * color * weight;\\n}\\nvoid mx_diffuse_brdf_reflection(vec3 L, vec3 V, float weight, vec3 color, float roughness, vec3 normal, out BSDF result) {\\n    float NdotL = dot(L, normal);\\n    if (NdotL <= 0.0 || weight < EPSILON) {\\n        result = BSDF(0.0);\\n        return;\\n    }\\n    result = color * weight * NdotL * M_PI_INV;\\n    if (roughness > 0.0) {\\n        result *= mx_orennayar(L, V, normal, NdotL, roughness);\\n    }\\n}\\nvoid mx_diffuse_brdf_indirect(vec3 V, float weight, vec3 color, float roughness, vec3 normal, out vec3 result) {\\n    if (weight < EPSILON) {\\n        result = vec3(0.0);\\n        return;\\n    }\\n    vec3 Li = mx_environment_irradiance(normal);\\n    result = Li * color * weight;\\n}\\nvoid mx_mix_bsdf_reflection(vec3 L, vec3 V, BSDF fg, BSDF bg, float w, out BSDF result) {\\n    result = mix(bg, fg, clamp(w, 0.0, 1.0));\\n}\\nvoid mx_mix_bsdf_transmission(vec3 V, BSDF fg, BSDF bg, float w, out BSDF result) {\\n    result = mix(bg, fg, clamp(w, 0.0, 1.0));\\n}\\nvoid mx_mix_bsdf_indirect(vec3 V, vec3 fg, vec3 bg, float w, out vec3 result) {\\n    result = mix(bg, fg, clamp(w, 0.0, 1.0));\\n}\\nvoid mx_sheen_brdf_reflection(vec3 L, vec3 V, float weight, vec3 color, float roughness, vec3 N, BSDF base, out BSDF result) {\\n    if (weight < EPSILON) {\\n        result = base;\\n        return;\\n    }\\n    float NdotL = dot(N, L);\\n    float NdotV = dot(N, V);\\n    if (NdotL <= 0.0 || NdotV <= 0.0) {\\n        result = base;\\n        return;\\n    }\\n    vec3 H = normalize(L + V);\\n    float NdotH = dot(N, H);\\n    float alpha = clamp(roughness, EPSILON, 1.0);\\n    float D = mx_microfacet_sheen_NDF(NdotH, alpha);\\n    vec3 F = color * weight;\\n    vec3 fr = D * F / (4.0 * (NdotL + NdotV - NdotL*NdotV));\\n    float albedo = weight * mx_microfacet_sheen_albedo(NdotV, alpha);\\n    result = fr * NdotL + base * (1.0 - albedo);\\n}\\nvoid mx_sheen_brdf_indirect(vec3 V, float weight, vec3 color, float roughness, vec3 N, BSDF base, out vec3 result) {\\n    if (weight <= 0.0) {\\n        result = base;\\n        return;\\n    }\\n    float NdotV = abs(dot(N, V));\\n    float alpha = clamp(roughness, EPSILON, 1.0);\\n    float albedo = weight * mx_microfacet_sheen_albedo(NdotV, alpha);\\n    vec3 Li = mx_environment_irradiance(N);\\n    result = Li * color * albedo + base * (1.0 - albedo);\\n}\\nvoid mx_uniform_edf(vec3 N, vec3 L, vec3 color, out EDF result) {\\n    result = color;\\n}\\nvoid mx_dielectric_brdf_reflection(vec3 L, vec3 V, float weight, vec3 tint, float ior, vec2 roughness, vec3 N, vec3 X, int distribution, BSDF base, out BSDF result) {\\n    if (weight < EPSILON) {\\n        result = base;\\n        return;\\n    }\\n    float NdotL = dot(N, L);\\n    float NdotV = dot(N, V);\\n    if (NdotL <= 0.0 || NdotV <= 0.0) {\\n        result = base;\\n        return;\\n    }\\n    vec3 Y = normalize(cross(N, X));\\n    vec3 H = normalize(L + V);\\n    float NdotH = dot(N, H);\\n    float D = mx_microfacet_ggx_NDF(X, Y, H, NdotH, roughness.x, roughness.y);\\n    float G = mx_microfacet_ggx_smith_G(NdotL, NdotV, max(roughness.x, roughness.y));\\n    float VdotH = dot(V, H);\\n    float F = mx_fresnel_schlick(VdotH, ior);\\n    F *= weight;\\n    result = tint * D * G * F / (4.0 * NdotV) + base * (1.0 - F);\\n}\\nvoid mx_dielectric_brdf_transmission(vec3 V, float weight, vec3 tint, float ior, vec2 roughness, vec3 N, vec3 X, int distribution, BSDF base, out BSDF result) {\\n    if (weight < EPSILON) {\\n        result = base;\\n        return;\\n    }\\n    float NdotV = abs(dot(N, V));\\n    float F = mx_fresnel_schlick(NdotV, ior);\\n    F *= weight;\\n    result = base * (1.0 - F);\\n}\\nvoid mx_dielectric_brdf_indirect(vec3 V, float weight, vec3 tint, float ior, vec2 roughness, vec3 N, vec3 Li, BSDF base, out BSDF result) {\\n    if (weight < EPSILON) {\\n        result = base;\\n        return;\\n    }\\n    float NdotV = dot(N, V);\\n    float F = mx_fresnel_schlick_roughness(NdotV, ior, max(roughness.x, roughness.y));\\n    F *= weight;\\n    result = Li * tint * F + base * (1.0 - F);\\n}\\nvoid mx_multiply_bsdf_color_reflection(vec3 L, vec3 V, BSDF in1, vec3 in2, out BSDF result) {\\n    result = in1 * clamp(in2, 0.0, 1.0);\\n}\\nvoid mx_multiply_bsdf_color_transmission(vec3 V, BSDF in1, vec3 in2, out BSDF result) {\\n    result = in1 * clamp(in2, 0.0, 1.0);\\n}\\nvoid mx_multiply_bsdf_color_indirect(vec3 V, vec3 in1, vec3 in2, out vec3 result) {\\n    result = in1 * clamp(in2, 0.0, 1.0);\\n}\\nvoid IMPL_standard_surface_surfaceshader(float base, vec3 base_color, float diffuse_roughness, float metalness, float specular, vec3 specular_color, float specular_roughness, float specular_IOR, float specular_anisotropy, float specular_rotation, float transmission, vec3 transmission_color, float transmission_depth, vec3 transmission_scatter, float transmission_scatter_anisotropy, float transmission_dispersion, float transmission_extra_roughness, float subsurface, vec3 subsurface_color, vec3 subsurface_radius, float subsurface_scale, float subsurface_anisotropy, float sheen, vec3 sheen_color, float sheen_roughness, float coat, vec3 coat_color, float coat_roughness, float coat_anisotropy, float coat_rotation, float coat_IOR, vec3 coat_normal, float coat_affect_color, float coat_affect_roughness, float thin_film_thickness, float thin_film_IOR, float emission, vec3 emission_color, vec3 opacity, int thin_walled, vec3 normal, vec3 tangent, vec3 geomWorldPosition, vec3 geomWorldNormal, vec3 camWorldPosition, out surfaceshader out275) {\\n    vec3 opacity_luminance_out = vec3(0.0);\\n    const vec3 lum = vec3(0.272287, 0.674082, 0.053689);\\n    mx_luminance_color3(opacity, lum, opacity_luminance_out);\\n    vec3 emission_weight_out = emission_color * emission;\\n    float subsurface_selector_out = float(thin_walled);\\n    vec3 geomprop_Vworld_out = normalize(geomWorldPosition - camWorldPosition);\\n    float coat_affect_roughness_multiply1_out = coat_affect_roughness * coat;\\n    const float tangent_rotate_degree_in2_tmp = 360.0;\\n    float tangent_rotate_degree_out = specular_rotation * tangent_rotate_degree_in2_tmp;\\n    vec3 metal_edgecolor_out = specular_color * specular;\\n    vec3 subsurface_radius_vector_out = vec3(subsurface_radius.x, subsurface_radius.y, subsurface_radius.z);\\n    vec3 metal_reflectivity_out = base_color * base;\\n    const float coat_tangent_rotate_degree_in2_tmp = 360.0;\\n    float coat_tangent_rotate_degree_out = coat_rotation * coat_tangent_rotate_degree_in2_tmp;\\n    float coat_clamped_out = clamp(coat, 0.0, 1.0);\\n    vec3 coat_attenuation_out = mix(vec3(1.0), coat_color, coat);\\n    vec2 coat_roughness_out = vec2(0.0);\\n    mx_roughness_anisotropy(coat_roughness, coat_anisotropy, coat_roughness_out);\\n    float coat_fresnel_out = 0.0;\\n    mx_fresnel_ior(coat_IOR, coat_normal, geomprop_Vworld_out, coat_fresnel_out);\\n    float coat_affect_roughness_multiply2_out = coat_affect_roughness_multiply1_out * coat_roughness;\\n    vec3 tangent_rotate_out = vec3(0.0);\\n    mx_rotate_vector3(tangent, tangent_rotate_degree_out, normal, tangent_rotate_out);\\n    vec3 subsurface_radius_scaled_out = subsurface_radius_vector_out * subsurface_scale;\\n    vec3 coat_tangent_rotate_out = vec3(0.0);\\n    mx_rotate_vector3(tangent, coat_tangent_rotate_degree_out, coat_normal, coat_tangent_rotate_out);\\n    float coat_gamma_multiply_out = coat_clamped_out * coat_affect_color;\\n    float coat_fresnel_inv_out = 1.0 - coat_fresnel_out;\\n    float coat_affected_roughness_out = mix(specular_roughness, 1.0, coat_affect_roughness_multiply2_out);\\n    vec3 tangent_rotate_normalize_out = normalize(tangent_rotate_out);\\n    vec3 coat_tangent_rotate_normalize_out = normalize(coat_tangent_rotate_out);\\n    float coat_gamma_out = coat_gamma_multiply_out + 1.0;\\n    vec3 coat_color_fresnel_out = coat_color * coat_fresnel_inv_out;\\n    vec2 main_roughness_out = vec2(0.0);\\n    mx_roughness_anisotropy(coat_affected_roughness_out, specular_anisotropy, main_roughness_out);\\n    vec3 main_tangent_out = vec3(0.0);\\n    if (specular_anisotropy > 0.0) {\\n        main_tangent_out = tangent_rotate_normalize_out;\\n    } else {\\n        main_tangent_out = tangent;\\n    }\\n    vec3 coat_tangent_out = vec3(0.0);\\n    if (coat_anisotropy > 0.0) {\\n        coat_tangent_out = coat_tangent_rotate_normalize_out;\\n    } else {\\n        coat_tangent_out = tangent;\\n    }\\n    vec3 coat_affected_subsurface_color_out = pow(subsurface_color, vec3(coat_gamma_out));\\n    vec3 coat_affected_diffuse_color_out = pow(base_color, vec3(coat_gamma_out));\\n    vec3 coat_emission_attenuation_out = mix(vec3(1.0), coat_color_fresnel_out, coat);\\n    vec3 emission_weight_attenuated_out = emission_weight_out * coat_emission_attenuation_out;\\n    surfaceshader standard_surface_constructor_out = surfaceshader(vec3(0.0), vec3(0.0));\\n    {\\n        float surfaceOpacity = opacity_luminance_out.x;\\n        if (surfaceOpacity < 0.001) discard;\\n        vec3 N = normalize(geomWorldNormal);\\n        vec3 V = normalize(camWorldPosition - geomWorldPosition);\\n        lightshader lightShader;\\n#if MAX_LIGHTS > 0\\n        for (int lightIdx = 0; lightIdx < MAX_LIGHTS; ++lightIdx) {\\n            sample_light(lightIdx, geomWorldPosition, lightShader);\\n            vec3 L = lightShader.direction;\\n            BSDF transmission_bsdf_out = BSDF(0.0);\\n            BSDF metal_bsdf_out = BSDF(0.0);\\n            mx_conductor_brdf_reflection(L, V, 1.0, metal_reflectivity_out, metal_edgecolor_out, main_roughness_out, normal, main_tangent_out, 0, metal_bsdf_out);\\n            BSDF translucent_bsdf_out = BSDF(0.0);\\n            mx_diffuse_btdf_reflection(L, V, 1.0, coat_affected_subsurface_color_out, normal, translucent_bsdf_out);\\n            BSDF subsurface_bsdf_out = BSDF(0.0);\\n            mx_subsurface_brdf_reflection(L, V, 1.0, coat_affected_subsurface_color_out, subsurface_radius_scaled_out, subsurface_anisotropy, normal, subsurface_bsdf_out);\\n            BSDF diffuse_bsdf_out = BSDF(0.0);\\n            mx_diffuse_brdf_reflection(L, V, base, coat_affected_diffuse_color_out, diffuse_roughness, normal, diffuse_bsdf_out);\\n            BSDF selected_subsurface_bsdf_out = BSDF(0.0);\\n            mx_mix_bsdf_reflection(L, V, translucent_bsdf_out, subsurface_bsdf_out, subsurface_selector_out, selected_subsurface_bsdf_out);\\n            BSDF sheen_bsdf_out = BSDF(0.0);\\n            mx_sheen_brdf_reflection(L, V, sheen, sheen_color, sheen_roughness, normal, diffuse_bsdf_out, sheen_bsdf_out);\\n            BSDF subsurface_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_reflection(L, V, selected_subsurface_bsdf_out, sheen_bsdf_out, subsurface, subsurface_mix_out);\\n            BSDF transmission_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_reflection(L, V, transmission_bsdf_out, subsurface_mix_out, transmission, transmission_mix_out);\\n            BSDF specular_bsdf_out = BSDF(0.0);\\n            mx_dielectric_brdf_reflection(L, V, specular, specular_color, specular_IOR, main_roughness_out, normal, main_tangent_out, 0, transmission_mix_out, specular_bsdf_out);\\n            BSDF metalness_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_reflection(L, V, metal_bsdf_out, specular_bsdf_out, metalness, metalness_mix_out);\\n            BSDF metalness_mix_attenuated_out = BSDF(0.0);\\n            mx_multiply_bsdf_color_reflection(L, V, metalness_mix_out, coat_attenuation_out, metalness_mix_attenuated_out);\\n            BSDF coat_bsdf_out = BSDF(0.0);\\n            mx_dielectric_brdf_reflection(L, V, coat, vec3(1.0), coat_IOR, coat_roughness_out, coat_normal, coat_tangent_out, 0, metalness_mix_attenuated_out, coat_bsdf_out);\\n            standard_surface_constructor_out.color += lightShader.intensity * coat_bsdf_out;\\n        }\\n#endif\\n        {\\n            EDF emission_edf_out = EDF(0.0);\\n            mx_uniform_edf(N, V, emission_weight_attenuated_out, emission_edf_out);\\n            standard_surface_constructor_out.color += emission_edf_out;\\n        }\\n        {\\n            BSDF transmission_bsdf_out = BSDF(0.0);\\n            BSDF metal_bsdf_out = BSDF(0.0);\\n            vec3 Li = mx_environment_radiance(normal, V, main_tangent_out, main_roughness_out, 0);\\n            mx_conductor_brdf_indirect(V, 1.0, metal_reflectivity_out, metal_edgecolor_out, main_roughness_out, normal, Li, metal_bsdf_out);\\n            BSDF translucent_bsdf_out = BSDF(0.0);\\n            mx_diffuse_btdf_indirect(V, 1.0, coat_affected_subsurface_color_out, normal, translucent_bsdf_out);\\n            BSDF subsurface_bsdf_out = BSDF(0.0);\\n            mx_subsurface_brdf_indirect(V, 1.0, coat_affected_subsurface_color_out, subsurface_radius_scaled_out, subsurface_anisotropy, normal, subsurface_bsdf_out);\\n            BSDF diffuse_bsdf_out = BSDF(0.0);\\n            mx_diffuse_brdf_indirect(V, base, coat_affected_diffuse_color_out, diffuse_roughness, normal, diffuse_bsdf_out);\\n            BSDF selected_subsurface_bsdf_out = BSDF(0.0);\\n            mx_mix_bsdf_indirect(V, translucent_bsdf_out, subsurface_bsdf_out, subsurface_selector_out, selected_subsurface_bsdf_out);\\n            BSDF sheen_bsdf_out = BSDF(0.0);\\n            mx_sheen_brdf_indirect(V, sheen, sheen_color, sheen_roughness, normal, diffuse_bsdf_out, sheen_bsdf_out);\\n            BSDF subsurface_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_indirect(V, selected_subsurface_bsdf_out, sheen_bsdf_out, subsurface, subsurface_mix_out);\\n            BSDF transmission_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_indirect(V, transmission_bsdf_out, subsurface_mix_out, transmission, transmission_mix_out);\\n            BSDF specular_bsdf_out = BSDF(0.0);\\n            mx_dielectric_brdf_indirect(V, specular, specular_color, specular_IOR, main_roughness_out, normal, Li, transmission_mix_out, specular_bsdf_out);\\n            BSDF metalness_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_indirect(V, metal_bsdf_out, specular_bsdf_out, metalness, metalness_mix_out);\\n            BSDF metalness_mix_attenuated_out = BSDF(0.0);\\n            mx_multiply_bsdf_color_indirect(V, metalness_mix_out, coat_attenuation_out, metalness_mix_attenuated_out);\\n            BSDF coat_bsdf_out = BSDF(0.0);\\n            if (coat > EPSILON && (normal != coat_normal || main_tangent_out != coat_tangent_out || main_roughness_out != coat_roughness_out)) {\\n                Li = mx_environment_radiance(coat_normal, V, coat_tangent_out, coat_roughness_out, 0);\\n            }\\n            mx_dielectric_brdf_indirect(V, coat, vec3(1.0), coat_IOR, coat_roughness_out, coat_normal, Li, metalness_mix_attenuated_out, coat_bsdf_out);\\n            standard_surface_constructor_out.color += coat_bsdf_out;\\n        }\\n        {\\n            BSDF transmission_bsdf_out = BSDF(0.0);\\n            mx_dielectric_btdf_transmission(V, 1.0, transmission_color, specular_IOR, main_roughness_out, normal, main_tangent_out, 0, VDF(vec3(0.0),vec3(0.0)), transmission_bsdf_out);\\n            BSDF metal_bsdf_out = BSDF(0.0);\\n            BSDF translucent_bsdf_out = BSDF(0.0);\\n            BSDF subsurface_bsdf_out = BSDF(0.0);\\n            BSDF diffuse_bsdf_out = BSDF(0.0);\\n            BSDF selected_subsurface_bsdf_out = BSDF(0.0);\\n            mx_mix_bsdf_transmission(V, translucent_bsdf_out, subsurface_bsdf_out, subsurface_selector_out, selected_subsurface_bsdf_out);\\n            BSDF sheen_bsdf_out = BSDF(0.0);\\n            BSDF subsurface_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_transmission(V, selected_subsurface_bsdf_out, sheen_bsdf_out, subsurface, subsurface_mix_out);\\n            BSDF transmission_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_transmission(V, transmission_bsdf_out, subsurface_mix_out, transmission, transmission_mix_out);\\n            BSDF specular_bsdf_out = BSDF(0.0);\\n            mx_dielectric_brdf_transmission(V, specular, specular_color, specular_IOR, main_roughness_out, normal, main_tangent_out, 0, transmission_mix_out, specular_bsdf_out);\\n            BSDF metalness_mix_out = BSDF(0.0);\\n            mx_mix_bsdf_transmission(V, metal_bsdf_out, specular_bsdf_out, metalness, metalness_mix_out);\\n            BSDF metalness_mix_attenuated_out = BSDF(0.0);\\n            mx_multiply_bsdf_color_transmission(V, metalness_mix_out, coat_attenuation_out, metalness_mix_attenuated_out);\\n            BSDF coat_bsdf_out = BSDF(0.0);\\n            mx_dielectric_brdf_transmission(V, coat, vec3(1.0), coat_IOR, coat_roughness_out, coat_normal, coat_tangent_out, 0, metalness_mix_attenuated_out, coat_bsdf_out);\\n            standard_surface_constructor_out.transparency = coat_bsdf_out;\\n        }\\n        standard_surface_constructor_out.color *= surfaceOpacity;\\n        standard_surface_constructor_out.transparency = mix(vec3(1.0), standard_surface_constructor_out.transparency, surfaceOpacity);\\n    }\\n    out275 = standard_surface_constructor_out;\\n}\\n#include<cutplanes>\\nvoid main() {\\n#if NUM_CUTPLANES > 0\\n    checkCutPlanes(vWorldPosition);\\n#endif\\n    vec2 uv = vec2(0.0);\\n    uv = vUv;\\n#ifdef USE_TILING\\n    vec3 tilingXform = tilingTransform(vUv, tilingOverallTransform);\\n    vec4 tilingMap = tilingMapText(TilingMap, TilingMap_texMatrix, tilingXform, uv2tile, tile2uv);\\n    uv = tilingSubMaterialRelocate(tilingXform, tilingMap, tile2uv) + tileAlignOffset;\\n#ifdef USE_TILING_NORMAL\\n    vec2 uvNorm = uv;\\n#endif\\n#ifdef USE_TILING_RANDOM\\n    uv = tilingRandom(uv, tilingMap, TilingRandomMap, TilingRandomMap_texMatrix, tilingRandomAxisS, tilingRandomAxisT, tilingRandomAlignmentOffset);\\n#endif\\n    uv = tilingTransform(uv, tilingUVTransform).xy;\\n#endif\\n#ifdef USE_TILING_NORMAL\\n    tilingNormalOffset(TilingNormalMap, uvNorm, TilingNormalMap_texMatrix, TBN[0], TBN[1], TBN[2]);\\n#endif\\n    vec3 T, B;\\n    computeTangets(vWorldPosition, uv, T, B);\\n    mat3 TBN = get_TBN(vWorldNormal, T, B, uv);\\n    mat3 coat_TBN = get_coat_TBN(vWorldNormal, T, B, uv);\\n    surfaceshader SR_out = surfaceshader(vec3(0.0), vec3(0.0));\\n    IMPL_standard_surface_surfaceshader(\\n        get_base(uv),\\n        get_base_color(uv),\\n        get_diffuse_roughness(uv),\\n        get_metalness(uv),\\n        get_specular(uv),\\n        get_specular_color(uv),\\n        get_specular_roughness(uv),\\n        get_specular_IOR(uv),\\n        get_specular_anisotropy(uv),\\n        get_specular_rotation(uv),\\n        get_transmission(uv),\\n        get_transmission_color(uv),\\n        get_transmission_depth(uv),\\n        get_transmission_scatter(uv),\\n        get_transmission_scatter_anisotropy(uv),\\n        get_transmission_dispersion(uv),\\n        get_transmission_extra_roughness(uv),\\n        get_subsurface(uv),\\n        get_subsurface_color(uv),\\n        get_subsurface_radius(uv),\\n        get_subsurface_scale(uv),\\n        get_subsurface_anisotropy(uv),\\n        get_sheen(uv),\\n        get_sheen_color(uv),\\n        get_sheen_roughness(uv),\\n        get_coat(uv),\\n        get_coat_color(uv),\\n        get_coat_roughness(uv),\\n        get_coat_anisotropy(uv),\\n        get_coat_rotation(uv),\\n        get_coat_IOR(uv),\\n        coat_TBN[2],\\n        get_coat_affect_color(uv),\\n        get_coat_affect_roughness(uv),\\n        get_thin_film_thickness(uv),\\n        get_thin_film_IOR(uv),\\n        get_emission(uv),\\n        get_emission_color(uv),\\n        get_opacity(uv),\\n        get_thin_walled(uv),\\n        TBN[2],\\n        TBN[0],\\n        vWorldPosition,\\n        vWorldNormal,\\n        cameraPosition,\\n        SR_out);\\n    float outAlpha = clamp(1.0 - dot(SR_out.transparency, vec3(0.3333)), 0.0, 1.0);\\n    gl_FragColor = vec4(SR_out.color, outAlpha);\\n#ifdef MRT_NORMALS\\n    vec3 geomNormal = vGeomNormal;\\n#endif\\n#if TONEMAP_OUTPUT == 1\\n    gl_FragColor.rgb = toneMapCanonOGS_WithGamma_WithColorPerserving(exposureBias * gl_FragColor.rgb);\\n#elif TONEMAP_OUTPUT == 2\\n    gl_FragColor.rgb = toneMapCanonFilmic_WithGamma(exposureBias * gl_FragColor.rgb);\\n#endif\\n#ifdef USE_FOG\\n    float fogdepth = gl_FragCoord.z / gl_FragCoord.w;\\n    float fogFactor = smoothstep(fogNear, fogFar, fogdepth);\\n    gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.a), fogFactor);\\n#endif\\n#ifdef USE_TILING\\n    gl_FragColor.a *= tilingMap.a;\\n#endif\\n#include<theming_frag>\\n#include<final_frag>\\n}\\n\";","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\") {\n        uriTokens.push(\":\");\n        uriTokens.push(components.port.toString(10));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        //normalize the default port\n        if (components.port === (String(components.scheme).toLowerCase() !== \"https\" ? 80 : 443) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$2 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$3 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$4 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? typeof $thenSch == 'object' && Object.keys($thenSch).length > 0 : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? typeof $elseSch == 'object' && Object.keys($elseSch).length > 0 : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0 : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == 'object' && Object.keys($propertySch).length > 0 : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","import * as THREE from 'three';\n\nimport std_surf_vert from './std-surf-vert.glsl';\nimport std_surf_frag from './std-surf-frag.glsl';\nconst avp = Autodesk.Viewing.Private;\nconst chunks = avp.ShaderChunks;\nconst { GetPrismMapUniforms } = avp.PrismUtil;\n\nconst STANDARD_SURFACE_UNIFORMS = {\n  u_base                            : { type: 'f' , value: 0.8 },\n  u_base_color                      : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_coat                            : { type: 'f' , value: 0.0 },\n  u_coat_affect_color               : { type: 'f' , value: 0.0 },\n  u_coat_affect_roughness           : { type: 'f' , value: 0.0 },\n  u_coat_anisotropy                 : { type: 'f' , value: 0.0 },\n  u_coat_color                      : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_coat_IOR                        : { type: 'f' , value: 1.5 },\n  u_coat_normal                     : { type: 'v3', value: new THREE.Vector3(0, 0, 0) },\n  u_coat_rotation                   : { type: 'f' , value: 0.0 },\n  u_coat_roughness                  : { type: 'f' , value: 0.1 },\n  u_diffuse_roughness               : { type: 'f' , value: 0.0 },\n  u_emission                        : { type: 'f' , value: 0.0 },\n  u_emission_color                  : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_metalness                       : { type: 'f' , value: 0.0 },\n  u_normal                          : { type: 'v3', value: new THREE.Vector3(0, 0, 0) },\n  u_opacity                         : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_sheen                           : { type: 'f' , value: 0.0 },\n  u_sheen_color                     : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_sheen_roughness                 : { type: 'f' , value: 0.3 },\n  u_specular                        : { type: 'f' , value: 1.0 },\n  u_specular_anisotropy             : { type: 'f' , value: 0.0 },\n  u_specular_color                  : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_specular_IOR                    : { type: 'f' , value: 1.52 },\n  u_specular_rotation               : { type: 'f' , value: 0.0 },\n  u_specular_roughness              : { type: 'f' , value: 0.1 },\n  u_subsurface                      : { type: 'f' , value: 0.0 },\n  u_subsurface_anisotropy           : { type: 'f' , value: 0.0 },\n  u_subsurface_color                : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_subsurface_radius               : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_subsurface_scale                : { type: 'f' , value: 1.0 },\n  u_thin_film_IOR                   : { type: 'f' , value: 1.5 },\n  u_thin_film_thickness             : { type: 'f' , value: 0.0 },\n  u_thin_walled                     : { type: 'i' , value: 0 },\n  u_transmission                    : { type: 'f' , value: 0.0 },\n  u_transmission_color              : { type: 'c' , value: new THREE.Color(0xffffff) },\n  u_transmission_depth              : { type: 'f' , value: 0.0 },\n  u_transmission_dispersion         : { type: 'f' , value: 0.0 },\n  u_transmission_extra_roughness    : { type: 'f' , value: 0.0 },\n  u_transmission_scatter            : { type: 'c' , value: new THREE.Color(0x000000) },\n  u_transmission_scatter_anisotropy : { type: 'f' , value: 0.0 }\n};\n\nconst SHEEN_ALBEDO_DATA_TEXTURE = buildSheenTable([\n  1.6177  , 0.978927, 0.618938, 0.391714, 0.245177, 0.150234, 0.0893475, 0.0511377, 0.0280191, 0.0144204, 0.00687674, 0.00295935, 0.00111049, 0.000336768, 7.07119e-5, 6.22646e-06,\n  1.1084  , 0.813928, 0.621389, 0.479304, 0.370299, 0.284835, 0.21724  , 0.163558 , 0.121254 , 0.0878921, 0.0619052 , 0.0419894 , 0.0270556 , 0.0161443  , 0.00848212, 0.00342323 ,\n  0.930468, 0.725652, 0.586532, 0.479542, 0.393596, 0.322736, 0.26353  , 0.213565 , 0.171456 , 0.135718 , 0.105481  , 0.0800472 , 0.0588117 , 0.0412172  , 0.0268329 , 0.0152799  ,\n  0.833791, 0.671201, 0.558957, 0.471006, 0.398823, 0.337883, 0.285615 , 0.240206 , 0.200696 , 0.16597  , 0.135422  , 0.10859   , 0.0850611 , 0.0644477  , 0.0464763 , 0.0308878  ,\n  0.771692, 0.633819, 0.537877, 0.461939, 0.398865, 0.344892, 0.297895 , 0.256371 , 0.219562 , 0.186548 , 0.156842  , 0.130095  , 0.10598   , 0.0841919  , 0.0645311 , 0.04679    ,\n  0.727979, 0.606373, 0.52141 , 0.453769, 0.397174, 0.348337, 0.305403 , 0.267056 , 0.232655 , 0.201398 , 0.17286   , 0.146756  , 0.122808  , 0.100751   , 0.0804254 , 0.0616485  ,\n  0.695353, 0.585281, 0.508227, 0.44667 , 0.394925, 0.350027, 0.310302 , 0.274561 , 0.242236 , 0.212604 , 0.185281  , 0.16002   , 0.13657   , 0.114693   , 0.0942543 , 0.0750799  ,\n  0.669981, 0.568519, 0.497442, 0.440542, 0.392567, 0.350786, 0.313656 , 0.280075 , 0.249533 , 0.221359 , 0.195196  , 0.170824  , 0.148012  , 0.126537   , 0.106279  , 0.0870713  ,\n  0.649644, 0.554855, 0.488453, 0.435237, 0.390279, 0.351028, 0.316036 , 0.284274 , 0.255266 , 0.228387 , 0.203297  , 0.179796  , 0.157665  , 0.136695   , 0.116774  , 0.0977403  ,\n  0.632951, 0.543489, 0.480849, 0.430619, 0.388132, 0.350974, 0.317777 , 0.287562 , 0.259885 , 0.234153 , 0.210041  , 0.187365  , 0.165914  , 0.145488   , 0.125983  , 0.10724    ,\n  0.61899 , 0.533877, 0.47433 , 0.426573, 0.386145, 0.35075 , 0.319078 , 0.290197 , 0.263681 , 0.238971 , 0.215746  , 0.193838  , 0.173043  , 0.153167   , 0.134113  , 0.115722   ,\n  0.607131, 0.52564 , 0.468678, 0.423001, 0.38432 , 0.35043 , 0.320072 , 0.292349 , 0.266856 , 0.243055 , 0.220636  , 0.199438  , 0.179264  , 0.159926   , 0.141332  , 0.123323   ,\n  0.596927, 0.518497, 0.463731, 0.419829, 0.382647, 0.350056, 0.320842 , 0.294137 , 0.269549 , 0.246564 , 0.224875  , 0.204331  , 0.18474   , 0.165919   , 0.147778  , 0.130162   ,\n  0.588052, 0.512241, 0.459365, 0.416996, 0.381114, 0.349657, 0.321448 , 0.295641 , 0.271862 , 0.24961  , 0.228584  , 0.208643  , 0.189596  , 0.171266   , 0.153566  , 0.136341   ,\n  0.580257, 0.506717, 0.455481, 0.41445 , 0.379708, 0.34925 , 0.321929 , 0.296923 , 0.273869 , 0.252279 , 0.231859  , 0.212472  , 0.193933  , 0.176066   , 0.158788  , 0.141945   ,\n  0.573355, 0.5018  , 0.452005, 0.412151, 0.378416, 0.348844, 0.322316 , 0.298028 , 0.275627 , 0.254638 , 0.234772  , 0.215896  , 0.197828  , 0.180398   , 0.163522  , 0.147049\n]);\n\nconst SAMPLING_RANDOM_DATA_TEXTURE = buildRandomTable([\n  0, 128,  64, 191,  32, 160,  96, 223,\n  16, 143,  80, 207,  48, 175, 112, 239,\n  8, 135,  72, 199,  40, 167, 103, 231,\n  25, 151,  88, 215,  56, 183, 120, 250\n]);\n\nfunction getMapUniforms(name) {\n  return {\n    [name]                 : { type: 't', value: null  },\n    [`${name}_texMatrix`]  : { type: 'm3', value: null  },\n    [`${name}_invert`]     : { type: 'i', value: 0 },\n    [`${name}_encoding`]   : { type: 'i', value: 0 },\n    [`${name}_valueScale`] : { type: 'f', value: 1.0 }\n  };\n}\n\nfunction getNormalMapUniforms(name) {\n  return THREE.UniformsUtils.merge([\n    getMapUniforms(name),\n    {\n      [`${name}_isHeight`]    : { type: 'i' , value: 0 },\n      [`${name}_heightScale`] : { type: 'v2', value: new THREE.Vector2(1.0, 1.0) }\n    }\n  ]);\n}\n\nfunction makeDataTexture(...args) {\n  let tex = new THREE.DataTexture(...args);\n  tex.needsUpdate = true;\n  return tex;\n}\n\nfunction buildRandomTable(array) {\n  let size = array.length;\n  let data = new Uint8Array(array);\n  let tex = makeDataTexture(data, size, 1, THREE.LuminanceFormat, THREE.UnsignedByteType, THREE.UVMapping, THREE.RepeatWrapping, THREE.RepeatWrapping, THREE.NearestFilter, THREE.NearestFilter, 0);\n  tex.generateMipmaps = false;\n  return {\n    tex,\n    size\n  };\n}\n\nfunction buildSheenTable(array) {\n  let size = Math.sqrt(array.length);\n  let max = Math.max(...array);\n  let min = Math.min(...array);\n  let rng = max - min;\n  let data = new Uint8Array(array\n  .map(v => (v - min) / rng)\n  .map(v => {\n    let enc = [1, 255, 65025, 16581375].map(k => (k * v * 255/256) % 1);\n    return [enc[0] - enc[1] / 255, enc[1] - enc[2] / 255, enc[2] - enc[3] / 255, enc[3]]\n    .map(k => Math.floor(255 * k));\n  })\n  .flat());\n  let tex = makeDataTexture(data, size, size, THREE.RGBAFormat, THREE.UnsignedByteType, THREE.UVMapping, THREE.ClampToEdgeWrapping, THREE.ClampToEdgeWrapping, THREE.LinearFilter, THREE.LinearFilter, 0);\n  tex.generateMipmaps = false;\n  return {\n    tex,\n    rng,\n    min,\n    size,\n    data\n  };\n}\n\nfunction getTypeString(t) {\n  switch (t) {\n    case 'i': return 'int';\n    case 'f': return 'float';\n    case 'v3':\n    case 'c': return 'vec3';\n    default: throw new Error(`unrecognized uniform type: ${t}`);\n  }\n}\n\nfunction buildFragmentShader(std_surf_frag) {\n  let a = '';\n  let b = '';\n\n  for (let [k, v] of Object.entries(STANDARD_SURFACE_UNIFORMS)) {\n    let isNormal = /_normal$/.test(k);\n    a += `uniform ${getTypeString(v.type).padEnd(9, ' ')} ${k};\n#if defined(USE_${k.slice(2).toUpperCase()}_MAP)\nuniform sampler2D ${k}_map;\nuniform mat3      ${k}_map_texMatrix;\nuniform int       ${k}_map_invert;\nuniform int       ${k}_map_encoding;\nuniform float     ${k}_map_valueScale;\\n`;\n    if (isNormal) {\n      a += `uniform int       ${k}_map_isHeight;\nuniform vec2      ${k}_map_heightScale;\\n`;\n    }\n    a += `#endif\\n`;\n    if (isNormal) {\n      b += `mat3 get_${k.slice(2).replace(/normal$/, 'TBN')}(in vec3 geoWorldNorm, in vec3 T, in vec3 B, in vec2 uv) {\n    vec3 N = ${k};\n    if (length(N) <= M_FLOAT_EPS) {\n        N = geoWorldNorm;\n    }\n    N = normalize(N);\n    #if defined(USE_${k.slice(2).toUpperCase()}_MAP)\n    transform_basis(T, B, N, uv, ${k}_map, ${k}_map_texMatrix, ${k}_map_invert, ${k}_map_encoding, ${k}_map_valueScale, ${k}_map_isHeight, ${k}_map_heightScale);\n    #endif\n    return mat3(T, B, N);\n}\\n\\n`;\n    } else {\n      let type = getTypeString(v.type);\n      b += `${type} get_${k.slice(2)}(in vec2 uv) {\n    ${type} val = ${k};\n    #if defined(USE_${k.slice(2).toUpperCase()}_MAP)\n    val = ${v.type === 'i' ? 'int(' : ''}sample_map((${k}_map_texMatrix * vec3(uv, 1.0)).xy, ${k}_map, ${k}_map_invert, ${k}_map_encoding, ${k}_map_valueScale).r${v.type === 'c' ? 'gb' : (v.type === 'i' ? ' > 0.5)' : '')};\n    #endif\n    return val${/rotation$/.test(k) ? ` / ${type}(PI * 2.0)` : ''};\n}\\n\\n`;\n    }\n  }\n  return std_surf_frag.replace(/^#inject<uniforms>$/m, a).replace(/^#inject<getters>$/m, b);\n}\n\nexport let StandardSurfaceShader = {\n  uniforms: THREE.UniformsUtils.merge([\n    THREE.UniformsLib.common,\n    THREE.UniformsLib.lights,\n    THREE.UniformsLib.fog,\n    chunks.CutPlanesUniforms,\n    chunks.IdUniforms,\n    chunks.ThemingUniform,\n    chunks.ShadowMapUniforms,\n    STANDARD_SURFACE_UNIFORMS,\n    ...Object.keys(STANDARD_SURFACE_UNIFORMS).map(k => /_normal$/.test(k) ? getNormalMapUniforms(`${k}_map`) : getMapUniforms(`${k}_map`)).flat(),\n    GetPrismMapUniforms('TilingMap'),\n    GetPrismMapUniforms('TilingNormalMap'),\n    GetPrismMapUniforms('TilingRandomMap'),\n    {\n      u_sheenAlbedo                     : { type: 't' , value: null },\n      u_samplingRandomMap               : { type: 't' , value: null },\n      irradianceMap                     : { type: 't' , value: null },\n      envMap                            : { type: 't' , value: null },\n      exposureBias                      : { type: 'f' , value: 1.0 },\n      envMapExposure                    : { type: 'f' , value: 1.0 },\n      envRotationSin                    : { type: 'f' , value: 0.0},\n      envRotationCos                    : { type: 'f' , value: 1.0},\n      envExponentMin                    : { type: 'f' , value: 1.0 },\n      envExponentMax                    : { type: 'f' , value: 512.0 },\n      envExponentCount                  : { type: 'f' , value: 10.0 },\n      envMapMipLevels                   : { type: 'i' , value: 1 },\n      tilingOverallTransform            : { type: 'm4', value: new THREE.Matrix4() },\n      uv2tile                           : { type: 'v4', value: new THREE.Vector4(1.0, 0.0, 0.0, 1.0) },\n      tile2uv                           : { type: 'v4', value: new THREE.Vector4(1.0, 0.0, 0.0, 1.0) },\n      tileAlignOffset                   : { type: 'v2', value: new THREE.Vector2(0.0, 0.0) },\n      tilingUVTransform                 : { type: 'm4', value: new THREE.Matrix4() },\n      tilingRandomAxisS                 : { type: 'v2', value: new THREE.Vector2(0.0, 0.0) },\n      tilingRandomAxisT                 : { type: 'v2', value: new THREE.Vector2(0.0, 0.0) },\n      tilingRandomAlignmentOffset       : { type: 'v2', value: new THREE.Vector2(0.0, 0.0) }\n    }\n  ]),\n  vertexShader: std_surf_vert,\n  fragmentShader: buildFragmentShader(std_surf_frag)\n};\n\nfunction snakeToCamel(s) {\n  return s.replace(/(_[a-z])/ig, m => m.toUpperCase().replace('_', ''));\n}\n\nexport class StandardSurfaceMaterial extends THREE.ShaderMaterial {\n\n  constructor() {\n    super({\n      uniforms: THREE.UniformsUtils.clone(StandardSurfaceShader.uniforms),\n      vertexShader: StandardSurfaceShader.vertexShader,\n      fragmentShader: StandardSurfaceShader.fragmentShader\n    });\n    this.type = 'StandardSurfaceMaterial';\n    this.supportsMrtNormals = true;\n    this.lights = true;\n    this.uniforms.u_sheenAlbedo.value = SHEEN_ALBEDO_DATA_TEXTURE.tex;\n    this.uniforms.u_samplingRandomMap.value = SAMPLING_RANDOM_DATA_TEXTURE.tex;\n    this.uniforms.envMapMipLevels.value = 8; // for all presets\n    this.defines.SHEEN_ALBEDO_TABLE_SIZE = SHEEN_ALBEDO_DATA_TEXTURE.size;\n    this.defines.SHEEN_ALBEDO_TABLE_RANGE = SHEEN_ALBEDO_DATA_TEXTURE.rng;\n    this.defines.SHEEN_ALBEDO_TABLE_MIN = SHEEN_ALBEDO_DATA_TEXTURE.min;\n    this.defines.SAMPLING_RANDOM_TABLE_SIZE = SAMPLING_RANDOM_DATA_TEXTURE.size;\n    this.defines.NUM_SAMPLES = 8;\n    this.shading = THREE.FlatShading; // to turn on derivatives //todo: IS THIS NECESSARY IN LMV?\n    this.isStandardSurfaceMaterial = true;\n    this.needsUpdate = true;\n  }\n\n  get transparent() {\n    return this.uniforms.u_opacity.value.r < 1 ||\n           this.uniforms.u_opacity.value.g < 1 ||\n           this.uniforms.u_opacity.value.b < 1 ||\n           this.uniforms.u_transmission.value > 0 ||\n           this.uniforms.u_transmission_map.value !== null;\n  }\n\n  set transparent(v) {\n    // ignore set\n  }\n\n  get opacity() {\n    if (this.uniforms) { // opacity is set in super constructor before uniforms\n      return (this.uniforms.u_opacity.value.r + this.uniforms.u_opacity.value.g + this.uniforms.u_opacity.value.b) / 3;\n    } else {\n      return 1;\n    }\n  }\n\n  set opacity(v) {\n    if (this.uniforms) { // opacity is set in super constructor before uniforms\n      if (typeof v === 'number') {\n        v = new THREE.Color(v, v, v);\n      }\n      this._setter('c', 'u_opacity', v);\n    }\n  }\n\n  get envMap() {\n    return this.uniforms.envMap.value;\n  }\n\n  set envMap(v) {\n    if (this.uniforms.envMap.value !== v) {\n      this.uniforms.envMap.value = v;\n    }\n  }\n\n  get irradianceMap() {\n    return this.uniforms.irradianceMap.value;\n  }\n\n  set irradianceMap(v) {\n    if (this.uniforms.irradianceMap.value !== v) {\n      this.uniforms.irradianceMap.value = v;\n    }\n  }\n\n  get envMapExposure() {\n    return this.uniforms.envMapExposure.value;\n  }\n\n  set envMapExposure(v) {\n    if (this.uniforms.envMapExposure.value !== v) {\n      this.uniforms.envMapExposure.value = v;\n    }\n  }\n\n  get envRotationSin() {\n    return this.uniforms.envRotationSin.value;\n  }\n\n  set envRotationSin(v) {\n    if (this.uniforms.envRotationSin.value !== v) {\n      this.uniforms.envRotationSin.value = v;\n    }\n  }\n\n  get envRotationCos() {\n    return this.uniforms.envRotationCos.value;\n  }\n\n  set envRotationCos(v) {\n    if (this.uniforms.envRotationSin.value !== v) {\n      this.uniforms.envRotationCos.value = v;\n    }\n  }\n\n  refreshUniforms(uniforms) {\n    uniforms.exposureBias.value = this.exposureBias;\n    // uniforms.opacity.value = mtl.opacity;\n\n    for (let k of Object.keys(STANDARD_SURFACE_UNIFORMS)) {\n      let tex = this[snakeToCamel(k.slice(2))];\n      if (tex instanceof THREE.Texture) {\n        this.refreshTextureUniforms(k, tex, uniforms);\n      }\n    }\n\n    // Refresh IBL uniforms, taken from WebGLRenderer.refreshUniformsIBL\n    uniforms.envMap.value = this.envMap;\n    //uniforms.flipEnvMap.value = ( material.envMap instanceof THREE.WebGLRenderTargetCube ) ? 1 : -1;\n    uniforms.irradianceMap.value = this.irradianceMap;\n    uniforms.envMapExposure.value = this.envMapExposure;\n    uniforms.envRotationSin.value = this.envRotationSin;\n    uniforms.envRotationCos.value = this.envRotationCos;\n  }\n\n  refreshTextureUniforms(k, tex, uniforms = this.uniforms) {\n    uniforms[`${k}_map`].value = tex;\n    uniforms[`${k}_map_texMatrix`].value = tex.matrix;\n    uniforms[`${k}_map_invert`].value = (tex.invert ? 1 : 0);\n    uniforms[`${k}_map_encoding`].value = (tex.encoding === 'linear' ? 1 : 0);\n    uniforms[`${k}_map_valueScale`].value = tex.rgbScale;\n    if (/normal$/.test(k)) {\n      uniforms[`${k}_map_isHeight`].value = (tex.isHeightMap ? 1 : 0);\n      uniforms[`${k}_map_heightScale`].value.set(tex.heightMapScale, tex.heightMapScale);\n    }\n  }\n\n  _getter(t, k) {\n    if (Object.prototype.hasOwnProperty.call(this.defines, `USE_${k.slice(2).toUpperCase()}_MAP`)) {\n      return this.uniforms[`${k}_map`].value;\n    }\n    let val = this.uniforms[k].value;\n    if (t === 'i') {\n      return !!(val);\n    } else {\n      return val;\n    }\n  }\n\n  _setter(t, k, v) {\n    if (v instanceof THREE.Texture) {\n      this.refreshTextureUniforms(k, v);\n      if (!Object.prototype.hasOwnProperty.call(this.defines, `USE_${k.slice(2).toUpperCase()}_MAP`)) {\n        this.defines[`USE_${k.slice(2).toUpperCase()}_MAP`] = true;\n        this.needsUpdate = true;\n      }\n      return true;\n    } else if (v === undefined || v === null) {\n      if (t === 'c' || t === 'v3') {\n        v = STANDARD_SURFACE_UNIFORMS[k].clone();\n      } else {\n        v = STANDARD_SURFACE_UNIFORMS[k].value;\n      }\n    }\n    switch (t) {\n      case 'f':\n        if (typeof v !== 'number') {\n          console.warn(`Invalid value for ${snakeToCamel(k.slice(2))}; expected number or texture`);\n          return false;\n        }\n        break;\n      case 'c':\n        if (!(v instanceof THREE.Color)) {\n          if (typeof v === 'number' || typeof v === 'string') {\n            v = new THREE.Color(v);\n          } else {\n            console.warn(`Invalid value for ${snakeToCamel(k.slice(2))}; expected color or texture`);\n            return false;\n          }\n        }\n        break;\n      case 'v3':\n        if (!(v instanceof THREE.Vector3)) {\n          console.warn(`Invalid value for ${snakeToCamel(k.slice(2))}; expected vec3 or texture`);\n          return false;\n        }\n        break;\n      case 'i':\n        v = !!(v);\n        break;\n      default: break; // should be unreachable\n\n    }\n    if (this.uniforms[k].value !== v) {\n      this.uniforms[k].value = v;\n    }\n    if (Object.prototype.hasOwnProperty.call(this.defines, `USE_${k.slice(2).toUpperCase()}_MAP`)) {\n      delete this.defines[`USE_${k.slice(2).toUpperCase()}_MAP`];\n      this.needsUpdate = true;\n    }\n    return true;\n  }\n\n  clone() {\n    let mat = new StandardSurfaceMaterial();\n    mat.standardSurface = this.standardSurface;\n    mat.name = this.tag;\n    mat.packedNormals = true;\n    for (let k of Object.keys(STANDARD_SURFACE_UNIFORMS)) {\n      let key = snakeToCamel(k.slice(2));\n      if (this[key] instanceof THREE.Vector3 || this[key] instanceof THREE.Color) {\n        mat[key] = this[key].clone();\n      } else {\n        mat[key] = this[key];\n      }\n    }\n    mat.envMap = this.envMap;\n    mat.irradianceMap = this.irradianceMap;\n    mat.envMapExposure = this.envMapExposure;\n    mat.envRotationSin = this.envRotationSin;\n    mat.envRotationCos = this.envRotationCos;\n    mat.exposureBias = this.exposureBias;\n    mat.tonemapOutput = this.tonemapOutput;\n    mat.cutplanes = this.cutplanes;\n    mat.textureMaps = this.textureMaps;\n    mat.texturesLoaded = this.texturesLoaded;\n    return mat;\n  }\n\n}\n\n{\n  // Add getters and setters to protoype\n  for (let [k, v] of Object.entries(STANDARD_SURFACE_UNIFORMS)) {\n    let name = snakeToCamel(k.slice(2));\n    if (!Object.hasOwnProperty.call(StandardSurfaceMaterial.prototype, name)) {\n      Object.defineProperty(StandardSurfaceMaterial.prototype, name, {\n        get() { return this._getter(v.type, k); },\n        set(val) { this._setter(v.type, k, val); }\n      });\n    }\n  }\n}\n","'use strict';\n\nimport * as AJV from 'ajv';\nimport schema from '@adsk/standard-surface-json-schema';\nimport { StandardSurfaceMaterial } from './StandardSurfaceMaterial';\n\nlet _validate;\n\nfunction convertAngleUnit(v) {\n  const unit = v.units || 'radian';\n  return v.value *= (unit === 'radian' ? 1 : Math.PI / 180); // always convert to radians\n}\n\nfunction textureScaleAngle() {\n  return 2 * Math.PI;\n}\n\nfunction convertDistanceUnit(v, sceneUnit) {\n  const unit = v.units || sceneUnit;\n  return convertUnits(v.value, unit, sceneUnit);\n}\n\nfunction convertDistanceNano(v, sceneUnit) {\n  const unit = v.units || sceneUnit;\n  return convertUnits(v.value, unit, \"nanometer\");\n}\n\nfunction textureScaleDistance(v, sceneUnit) {\n  const unit = v.units || sceneUnit;\n  return convertUnits(1, unit, sceneUnit);\n}\n\nfunction textureScaleNano(v, sceneUnit) {\n  const unit = v.units || sceneUnit;\n  return convertUnits(1, unit, \"nanometer\");\n}\n\n function noConversion(v) {\n  return v.value;\n}\n\nfunction noTextureScale() {\n  return 1;\n}\n\nconst convertValueUnit = {\n  coat_rotation       : convertAngleUnit,\n  specular_rotation   : convertAngleUnit,\n  subsurface_scale    : convertDistanceUnit,\n  transmission_depth  : convertDistanceUnit,\n  thin_film_thickness : convertDistanceNano\n};\n\nconst textureValueScale = {\n  coat_rotation       : textureScaleAngle,\n  specular_rotation   : textureScaleAngle,\n  subsurface_scale    : textureScaleDistance,\n  transmission_depth  : textureScaleDistance,\n  thin_film_thickness : textureScaleNano\n};\n\nconst normalMap = {\n  coat_normal: true,\n  normal: true\n};\n\nconst UNIT_CONVERSIONS = {\n  nanometer: {\n    millimeter: 1.00000e-06,\n    centimeter: 1.00000e-07,\n    inch      : 3.93701e-08,\n    decimeter : 1.00000e-08,\n    foot      : 3.28084e-09,\n    yard      : 1.09361e-09,\n    meter     : 1.00000e-09,\n    kilometer : 1.00000e-12,\n    mile      : 6.21371e-13\n  },\n  millimeter: {\n    nanometer : 1.00000e+06,\n    centimeter: 1.00000e-01,\n    inch      : 3.93701e-02,\n    decimeter : 1.00000e-02,\n    foot      : 3.28084e-03,\n    yard      : 1.09361e-03,\n    meter     : 1.00000e-03,\n    kilometer : 1.00000e-06,\n    mile      : 6.21371e-07\n  },\n  centimeter: {\n    nanometer : 1.00000e+07,\n    millimeter: 1.00000e+01,\n    inch      : 3.93701e-01,\n    decimeter : 1.00000e-01,\n    foot      : 3.28084e-02,\n    yard      : 1.09361e-02,\n    meter     : 1.00000e-02,\n    kilometer : 1.00000e-05,\n    mile      : 6.21371e-06\n  },\n  inch: {\n    nanometer : 2.54000e+07,\n    millimeter: 2.54000e+01,\n    centimeter: 2.54000e+00,\n    decimeter : 2.54000e-01,\n    foot      : 1.00 / 12.0,\n    yard      : 1.00 / 36.0,\n    meter     : 2.54000e-02,\n    kilometer : 2.54000e-05,\n    mile      : 1.0 / 63360\n  },\n  decimeter: {\n    nanometer : 1.00000e+08,\n    millimeter: 1.00000e+02,\n    centimeter: 1.00000e+01,\n    inch      : 3.93701e+00,\n    foot      : 3.28084e-01,\n    yard      : 1.09361e-01,\n    meter     : 1.00000e-01,\n    kilometer : 1.00000e-04,\n    mile      : 6.21371e-05\n  },\n  foot: {\n    nanometer : 3.04800e+08,\n    millimeter: 3.04800e+02,\n    centimeter: 3.04800e+01,\n    inch      : 1.20000e+01,\n    decimeter : 3.04800e+00,\n    yard      : 1.00 / 3.00,\n    meter     : 3.04800e-01,\n    kilometer : 3.04800e-04,\n    mile      : 1.00 / 5280\n  },\n  yard: {\n    nanometer : 9.14400e+08,\n    millimeter: 9.14400e+02,\n    centimeter: 9.14400e+01,\n    inch      : 3.60000e+01,\n    decimeter : 9.14400e+00,\n    foot      : 3.00000e+00,\n    meter     : 9.14400e-01,\n    kilometer : 9.14400e-04,\n    mile      : 1.00 / 1760\n  },\n  meter: {\n    nanometer : 1.00000e+09,\n    millimeter: 1.00000e+03,\n    cenimeter : 1.00000e+02,\n    inch      : 3.93701e+01,\n    decimeter : 1.00000e+01,\n    foot      : 3.28084e+00,\n    yard      : 1.09361e+00,\n    kilometer : 1.00000e-03,\n    mile      : 6.21371e-04\n  },\n  kilometer: {\n    nanometer : 1.00000e+12,\n    millimeter: 1.00000e+06,\n    centimeter: 1.00000e+05,\n    inch      : 3.93701e+04,\n    decimeter : 1.00000e+04,\n    foot      : 3.28084e+03,\n    yard      : 1.09361e+03,\n    meter     : 1.00000e+03,\n    mile      : 6.21371e-01\n  },\n  mile: {\n    nanometer : 1.60934e+12,\n    millimeter: 1.60934e+06,\n    centimeter: 1.60934e+05,\n    inch      : 6.33600e+04,\n    decimeter : 1.60934e+04,\n    foot      : 5.28000e+03,\n    yard      : 1.76000e+03,\n    meter     : 1.60934e+03,\n    kilometer : 1.60934e+00\n  }\n};\n\n// see here for a list of all the units LMVTK supports:\n// https://git.autodesk.com/A360/LMVTK/blob/5eb5159142639f1074993adacff1f2c001b80dba/Components/Package/Metadata/Metadata.h#L64-L71\nfunction normalizeUnits(units) {\n  if (typeof units === 'number') {\n    switch (units) {\n      case (0x02 << 12) | 16: return 'nanometer';\n      case (0x02 << 12) | 14: return 'millimeter';\n      case (0x02 << 12) | 13: return 'centimeter';\n      case (0x02 << 12) | 22: return 'inch';\n      case (0x02 << 12) | 12: return 'decimeter';\n      case (0x02 << 12) | 23: return 'foot';\n      case (0x02 << 12) | 29: return 'yard';\n      case (0x02 << 12) |  1: return 'meter';\n      case (0x02 << 12) |  9: return 'kilometer';\n      case (0x02 << 12) | 33: return 'mile';\n      default: return units; // this will cause problems eventually\n    }\n  } else if (typeof units === 'string') {\n    switch (units.toLowerCase()) {\n      case 'nm':\n      case 'nanometer':\n      case 'nanometers': return 'nanometer';\n      case 'mm':\n      case 'millimeter':\n      case 'millimeters': return 'millimeter';\n      case 'cm':\n      case 'centimeter':\n      case 'centimeters': return 'centimeter';\n      case 'in':\n      case 'inch':\n      case 'inches': return 'inch';\n      case 'dm':\n      case 'decimeter':\n      case 'decimeters': return 'decimeter';\n      case 'ft':\n      case 'foot':\n      case 'feet': return 'foot';\n      case 'yd':\n      case 'yard':\n      case 'yards': return 'yard';\n      case 'm':\n      case 'meter':\n      case 'meters': return 'meter';\n      case 'km':\n      case 'kilometer':\n      case 'kilometers': return 'kilometer';\n      case 'mi':\n      case 'mile':\n      case 'miles': return 'mile';\n      default: return units; // this will cause problems eventually\n    }\n  }\n  return units; /// this will eventually cause a problem\n}\n\nfunction convertUnits(v, from, to) {\n  from = normalizeUnits(from);\n  to = normalizeUnits(to);\n  if (from === to) return v;\n  if (!UNIT_CONVERSIONS[from]) throw new Error(`unrecognized source units: ${from}`);\n  if (!UNIT_CONVERSIONS[from][to]) throw new Error(`unrecognized destination units: ${to}`);\n  return v * UNIT_CONVERSIONS[from][to];\n}\n\nfunction getByPointer(data, ptr) {\n  if (!ptr) return data;\n  if (ptr === '/') return data;\n  if (!/^#?\\//.test(ptr)) throw new Error(`bad pointer: ${ptr}`);\n  let tokens = ptr.split('/').filter(t => t && t !== '#');\n  while (tokens.length) {\n    try {\n      data = Array.isArray(data) ? data[parseInt(tokens.shift())] : data[tokens.shift()];\n    } catch(e) {\n      throw new Error(`Unable to find by pointer: ${ptr}`);\n    }\n  }\n  return data;\n}\n\nfunction validateTextureRefs(root, ptr = '') {\n  let data = getByPointer(root, ptr);\n  let errors = [];\n  for (let key in data) {\n    let val = data[key];\n    if (key === '$ref') {\n      let refPtr = val.slice(1); // remove leading '#'\n      try {\n        getByPointer(root, refPtr);\n      } catch(e) {\n        errors.push(new Error(`Texture reference \"#${refPtr} does not exist (refereced from ${ptr}/${key})`));\n      }\n    } else if (Array.isArray(val) || typeof val === 'object') {\n      errors = errors.concat(validateTextureRefs(root, ptr + '/' + key));\n    }\n  }\n  return errors;\n}\n\nfunction isStandardSurface(data, suppressErrors = false) {\n  if (!_validate) {\n    _validate = (new AJV()).compile(schema);\n  }\n  _validate(data);\n  let errors = [].concat(_validate.errors || [], validateTextureRefs(data));\n  if (errors.length) {\n    if (!suppressErrors) {\n      console.error([`Standard Surface validation errors:`].concat(errors.map(e => JSON.stringify(e))).join('\\n'));\n    }\n    return false;\n  }\n  return true;\n}\n\nfunction convertStandardSurface(data, sceneUnit) {\n  if (!isStandardSurface(data))\n    throw new Error('Invalid Standard Surface definition');\n\n  const mtl = new StandardSurfaceMaterial();\n\n  mtl.standardSurface = data;\n  mtl.name = mtl.tag = data.tag;\n  mtl.transparent = data.transparent;\n  mtl.packedNormals = true;\n  mtl.needsUpdate = true;\n\n  const maps = mtl.textureMaps = {};\n  const uniforms = mtl.uniforms;\n  const params = data.parameters;\n  for (let [k, v] of Object.entries(params)) {\n    const uKey = `u_${k}`;\n    if (!uniforms[uKey]) throw new Error(`unrecognized parameter: ${k}`);\n    const type = uniforms[uKey].type;\n    if (Object.prototype.hasOwnProperty.call(v, \"value\")) {\n      switch (type) {\n        case 'c':\n          mtl.uniforms[uKey].value = new THREE.Color(v.value.r, v.value.g, v.value.b);\n          break;\n        case 'v3':\n          mtl.uniforms[uKey].value = new THREE.Vector3(v.value.x, v.value.y, v.value.z);\n          break;\n        case 'f':\n          uniforms[uKey].value = (convertValueUnit[k] || noConversion)(v, sceneUnit);\n          break;\n        case 'i':\n          mtl.uniforms[uKey].value = v.value ? 1 : 0;\n          break;\n        default:\n          throw new Error(' unreachable ');\n      }\n    } else if (Object.prototype.hasOwnProperty.call(v, \"texture\")) {\n      if (Object.prototype.hasOwnProperty.call(v.texture, \"$ref\") && typeof v.texture.$ref === 'string') {\n        const mapName = snakeToCamel(uKey.slice(2));\n        const texData = getByPointer(data, v.texture.$ref);\n        const unitScale = type === 'f' ? (textureValueScale[k] || noTextureScale)(v, sceneUnit) : 1;\n        maps[mapName] = {\n          mapName,\n          uri: texData.bitmap,\n          textureObj: texData,\n          converter: convertStandardSurfaceTexture,\n          mtlSpecific: {\n            sceneUnit,\n            unitScale,\n            isNormal: normalMap[k]\n          }\n        };\n      } else {\n        throw new Error('invalid ref');\n      }\n    }\n  }\n  mtl.needsUpdate = true;\n\n  return mtl;\n}\n\nfunction snakeToCamel(s) {\n  return s.replace(/(_[a-z])/ig, m => m.toUpperCase().replace('_', ''));\n}\n\nfunction convertStandardSurfaceTexture(texData, tex, sceneUnit, maxAnisotropy) {\n  const data = texData.textureObj;\n  sceneUnit = texData.mtlSpecific.sceneUnit || sceneUnit;\n  tex.anisotropy = texData.mtlSpecific.isNormal ? 0 : (maxAnisotropy || 0);\n  tex.mapping = THREE.UVMapping;\n  tex.wrapS = data.uRepeat === false ? THREE.ClampToEdgeWrapping : THREE.RepeatWrapping;\n  tex.wrapT = data.vRepeat === false ? THREE.ClampToEdgeWrapping : THREE.RepeatWrapping;\n  tex.magFilter = tex.minFilter = data.filtering === 'nearest' ? THREE.NearestFilter : THREE.LinearFilter;\n  tex.encoding = data.encoding === 'linear' ? 'linear' : 'srgb';\n  tex.isHeightMap = data.isHeightMap === true;\n  tex.invert = data.invert === true;\n  tex.heightMapScale = convertUnits((data.heightMapScale || {}).value || 1, (data.heightMapScale || {}).units || sceneUnit, sceneUnit);\n  tex.rgbScale = ((data.rgbScale || {}).value || 1) * texData.mtlSpecific.unitScale;\n  let realWorldOffsetX = convertUnits((data.realWorldOffsetX || {}).value || 0, (data.realWorldOffsetX || {}).units || sceneUnit, sceneUnit);\n  let realWorldOffsetY = convertUnits((data.realWorldOffsetY || {}).value || 0, (data.realWorldOffsetY || {}).units || sceneUnit, sceneUnit);\n  let realWorldScaleX = convertUnits((data.realWorldScaleX || {}).value || 1, (data.realWorldScaleX || {}).units || sceneUnit, sceneUnit);\n  let realWorldScaleY = convertUnits((data.realWorldScaleY || {}).value || 1, (data.realWorldScaleY || {}).units || sceneUnit, sceneUnit);\n  let uOffset = (data.uOffset || {}).value || 0;\n  let uScale = (data.uScale || {}).value || 1;\n  let vOffset = (data.vOffset || {}).value || 0;\n  let vScale = (data.vScale || {}).value || 1;\n  let wAngle = ((data.wAngle || {}).value || 0) * ((data.wAngle || {}).units === 'degree' ? Math.PI / 180 : 1);\n  let c = Math.cos(wAngle);\n  let s = Math.sin(wAngle);\n  let cx = uScale / realWorldScaleX;\n  let cy = vScale / realWorldScaleY;\n  tex.matrix = new THREE.Matrix3();\n  tex.matrix.elements = [\n    c * cx, s * cx, 0,\n    -s * cy, c * cy, 0,\n    -c * cx * realWorldOffsetX + s * cy * realWorldOffsetY + uOffset, -s * cx * realWorldOffsetX - c * cy * realWorldOffsetY + vOffset, 1\n  ];\n}\n\nexport {\n  isStandardSurface,\n  convertStandardSurface,\n  convertStandardSurfaceTexture\n};\n","import { convertStandardSurface } from './parseMaterial';\n\nconst av = Autodesk.Viewing;\nconst avp = av.Private;\n\n//const namespace = AutodeskNamespace('Autodesk.Viewing.Extensions.StandardSurface');\n\n\nclass StandardSurfaceExtension extends av.Extension {\n\n    constructor(viewer, options) {\n        super(viewer, options);\n    }\n\n    load() {\n        return true;\n    }\n\n    unload() {\n    }\n\n    // There's no UI commands for this extension.\n    activate() { return false; }\n    deactivate() { return true; }\n    isActive() { return false; }\n\n    /**\n     * Add custom UI when the Viewer have a toolbar.\n     * @param {Autodesk.Viewing.Toolbar} toolbar - The Viewer's toolbar instance.\n     */\n    onToolbarCreated(toolbar) {\n        let ro = this.viewer.renderoptions;\n        if (!ro)\n            return;\n\n        this._updateNumSamplesUI = debounce(this.updateNumSamples, 600);\n\n        const OptionSlider = avp.OptionSlider;\n        ro._numSamples = new OptionSlider('Num Samples', 1, 32, ro.tbody);\n        ro._numSamples.setGlobalManager(this.globalManager);\n        ro._numSamples.setValue(8); // See: StandardSurfaceMaterial.defines.NUM_SAMPLES\n        ro._numSamples.sliderElement.step = 1;\n        ro.addEventListener(ro._numSamples, 'change', (e) => {\n            let val = parseInt(e.detail.value);\n            avp.logger.debug('value: ' + val);\n            this._updateNumSamplesUI(val);\n        });\n        ro.uninitialize = function() {\n            avp.RenderOptionsPanel.prototype.uninitialize.call(this);\n            this._numSamples = null;\n            this._updateNumSamplesUI = null;\n        }.bind(ro);\n    }\n\n    /**\n     * Process the standard materials in the model.\n     * @param {Model} model The model to process\n     */\n    processModel(model) {\n        avp.logger.info('SVF contains StandardSurface.json material definitions:');\n        // Get the standard surfaces from the loaded model\n        const svf = model.getData();\n        const stdSurfMats = svf.stdSurfMats;\n        this.processMaterials(model, stdSurfMats);\n    }\n\n    /**\n     * Process the standard materials in the model.\n     * @param {Model} model The model to process\n     * @param {Object} stdSurfMats Standard Surface Json\n     */\n    processMaterials(model, stdSurfMats) {\n        const materials = stdSurfMats.materials;\n        const sceneUnit = stdSurfMats.scene.SceneUnit;\n        let updated = false;\n\n        // Process each material\n        Object.keys(materials).forEach(key => {\n            const data = materials[key];\n            let mtl;\n            try {\n                // Convert the material\n                mtl = convertStandardSurface(data, sceneUnit);\n            } catch(e) {\n                let error = e;\n                if (!(error instanceof Error))\n                    error = new Error(`StandardSurface material ${key} parse failed: ${e}}`);\n                avp.logger.error(error);\n                return;\n            }\n\n            updated = true;\n            avp.logger.info(`StandardSurface material ${key} is valid`);\n\n            // Update the material in the model\n            const oldMtl = this._updateMaterial(model, key, mtl);\n\n            // If the original material textures have not been loaded, then we don't\n            // need to load the new material textures.\n            if (oldMtl.texturesLoaded)\n                avp.TextureLoader.loadMaterialTextures(model, mtl, this.viewer.impl);\n        });\n\n        // Update the scene if something changed\n        if (updated)\n            this.viewer.impl.sceneUpdated(false, false);\n    }\n\n    /**\n     * Update an existing material in the model\n     *\n     * @param {RenderModel} model The model to update\n     * @param {String} name The material name\n     * @param {THREE.Material} mtl The new material\n     * \n     * This could be done by the SceneBuilder, but the changes to get\n     * the SceneBuilder to work with an existing model would be more\n     * than this.\n     *\n     * @private\n     */\n    _updateMaterial(model, name, mtl) {\n        const fragList = model.getFragmentList();\n        const matman = this.viewer.impl.matman();\n        const hash = matman._getMaterialHash(model, name);\n\n        // Get the material we are replacing and dispose of it\n        const oldMtl = matman._materials[hash];\n        if (oldMtl)\n            oldMtl.dispose();\n\n        // Add the new material under the same name\n        matman.addMaterial(hash, mtl, true);\n\n        // Replace the material in the render lists\n        if (fragList.useThreeMesh) {\n            // Using meshes, need to replace the material in each mesh\n            const meshes = fragList.vizmeshes;\n            for (let i = 0; i < meshes.length; ++i) {\n                if (meshes[i] && meshes[i].material === oldMtl)\n                    meshes[i].material = mtl;\n            }\n        } else {\n            // This is easier, because we just need to update the material\n            // at the right id\n            const matId = fragList.materialmap[oldMtl.id];\n            if (matId !== undefined) {\n                fragList.materialmap[mtl.id] = matId;\n                fragList.materialIdMap[matId] = mtl;\n            }\n        }\n\n        return oldMtl;\n    }\n\n    /**\n     * Updates the number of samples used by the shader code.\n     * More samples results in more accurate visuals, at the cost of longer pixel shader processing times.\n     *\n     * @param {number} value - Default value is 8.\n     */\n    updateNumSamples(value) {\n        let updateCount = 0;\n        var matman = this.viewer.impl.matman();\n        \n        const exclude2d = true;\n        const includeVariants = false;\n        matman.forEach(onMaterial, exclude2d, includeVariants);\n\n        function onMaterial(mat) {\n            if (mat.isStandardSurfaceMaterial && mat.defines.NUM_SAMPLES !== value) {\n                mat.defines.NUM_SAMPLES = value;\n                mat.needsUpdate = true;\n                updateCount++;\n            }\n        }\n\n        if (updateCount > 0) {\n            avp.logger.debug('NUM_SAMPLES: ' + value + ' / materials updated: ' + updateCount + ' | Wait for LMV to re-render.');\n            this.viewer.impl.invalidate(false, true, false);\n        }\n    }\n}\n\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nfunction debounce(func, wait, immediate) {\n  var timeout;\n\n  return function executedFunction() {\n    var context = this;\n    var args = arguments;\n        \n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n\n    var callNow = immediate && !timeout;\n    \n    clearTimeout(timeout);\n\n    timeout = setTimeout(later, wait);\n    \n    if (callNow) func.apply(context, args);\n  };\n}\n\nav.theExtensionManager.registerExtension('Autodesk.StandardSurface', StandardSurfaceExtension);\n"],"sourceRoot":""}