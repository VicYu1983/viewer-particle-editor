{"version":3,"sources":["webpack://Autodesk.Extensions.[name]/webpack/bootstrap","webpack://Autodesk.Extensions.[name]/./node_modules/css-loader/lib/css-base.js","webpack://Autodesk.Extensions.[name]/./node_modules/style-loader/lib/addStyles.js","webpack://Autodesk.Extensions.[name]/./node_modules/style-loader/lib/urls.js","webpack://Autodesk.Extensions.[name]/./extensions/BoxSelection/BoxSelection.css?0874","webpack://Autodesk.Extensions.[name]/./extensions/BoxSelection/BoxSelection.css","webpack://Autodesk.Extensions.[name]/./extensions/BoxSelection/poly_clip.js","webpack://Autodesk.Extensions.[name]/./extensions/BoxSelection/BoxIntersection.js","webpack://Autodesk.Extensions.[name]/./extensions/BoxSelection/BoxSelectionTool.js","webpack://Autodesk.Extensions.[name]/./extensions/BoxSelection/BoxSelectionLocales.js","webpack://Autodesk.Extensions.[name]/./extensions/BoxSelection/BoxSelectionExtension.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","push","fn","memo","stylesInDom","isOldIE","window","document","all","atob","apply","arguments","getTarget","target","parent","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","options","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","undefined","attrs","type","nonce","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","transform","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","locals","Vector4","THREE","COORD","vert","x","y","z","CLIP_AND_SWAP","elem","sign","k","q","v","u","tu","tv","w","clone","poly_clip_to_halfspace","a","b","temp","poly_clip_to_box","p1","box","x0out","x1out","y0out","y1out","z0out","z1out","pn","min","max","p2","Autodesk","Viewing","Private","VertexEnumerator","enumMeshLines","enumMeshTriangles","Frustum","Vector3","Box3","Matrix4","frustum","viewProj","tmpMat","ndcBox","tempBox","vecTopLeft","vecTopRight","vecDownRight","vecDownLeft","vecFarTopLeft","vecFarTopRight","vecFarDownRight","vecFarDownLeft","vectemp1","vectemp2","v41","v42","v43","frustumIntersectsBox","planes","contained","plane","normal","d1","distanceToPoint","d2","applyProjection","out","elements","BoxIntersection","camera","scene","startPoint","endPoint","select","containmentOnly","updateFrustum","searchChildInRenderScene","Number","EPSILON","updateProjectionMatrix","updateMatrixWorld","multiplyMatrices","projectionMatrix","getInverse","matrixWorld","left","Math","top","right","down","set","setFromCoplanarPoints","models","getModels","myCustomIntersector","intersectsBox","model","fl","getFragmentList","dbIdStatus","Map","getIterator","intersectFrustum","fragId","containmentKnown","fragState","getWorldBounds","getWorldMatrix","geom","mvpMtx","contains","intersects","isLine","vA","vB","vC","geomIntersectsNDC","getGeometry","dbId","getDbIds","curStatus","res","ids","Array","from","BoxSelectionTool","viewer","isDown","element","styleContains","cssClassName","styleIntersects","classList","add","pointerEvents","Vector2","useGeometricIntersection","boxIntersection","getCamera","impl","modelQueue","active","onSelectOver","event","handleButtonDown","handleMouseMove","handleButtonUp","button","selector","clearSelection","onSelectStart","onSelectMove","selection","getSelection","selectionType","setAggregateSelection","clientRect","getCanvasBoundingClientRect","vpVecBL","clientToViewport","vpVecTR","hits","hitBoxTestViewport","abs","canvas","clientWidth","clientHeight","modelsHitsByModelId","modelsById","modelId","parentElement","clientX","clientY","width","height","bottom","locales","en","cs","de","es","fr","it","ja","ko","pl","ru","tr","nl","sv","da","no","av","btnStates","UI","Button","State","EXT_MODE","BoxSelectionExtension","_onToolChanged","SelectionType","REGULAR","MIXED","extendLocalization","boxSelectionTool","toolController","registerTool","enable","setActive","registerHotkeys","getActiveNavigationTool","setActiveNavigationTool","boxSelectionToolButton","navTools","getToolbar","getControl","TOOLBAR","NAVTOOLSID","removeControl","getId","deregisterTool","removeEventListener","TOOL_CHANGE_EVENT","getHotkeyManager","popHotkeys","setIcon","setToolTip","onClick","state","getState","INACTIVE","activate","ACTIVE","deactivate","toolbar","exists","addControl","addEventListener","createToolbarButton","addToolbarButton","pushHotkeys","keycodes","KeyCode","CONTROL","onPress","isActive","activateTool","getName","__hotKey","onRelease","deactivateTool","_updateActiveState","activeStatus","toolName","setState","Extension","theExtensionManager","registerExtension"],"mappings":"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","file":"BoxSelection/BoxSelection.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 853);\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./BoxSelection.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./BoxSelection.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./BoxSelection.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".icon-box-selection{fill:none;stroke:currentColor;stroke-width:1;stroke-dasharray:4 2}.box-selection-contains{border:1px solid #808080;background-color:rgba(75,160,255,0.3);position:fixed}.box-selection-intersects{border:1px dotted #808080;background-color:rgba(75,255,160,0.3);position:fixed}\\n\", \"\"]);\n\n// exports\n","/*\n * Generic Convex Polygon Scan Conversion and Clipping\n * by Paul Heckbert\n * from \"Graphics Gems\", Academic Press, 1990\n */\n\n/*\n * poly_clip.c: homogeneous 3-D convex polygon clipper\n *\n * Paul Heckbert\t1985, Dec 1989\n */\n\n//https://github.com/erich666/GraphicsGems/blob/master/gems/PolyScan/poly_clip.c\n\nconst Vector4 = THREE.Vector4;\n\n\nexport const POLY_CLIP_OUT = 0;\t\t/* polygon entirely outside box */\nexport const POLY_CLIP_PARTIAL = 1;\t/* polygon partially inside */\nexport const POLY_CLIP_IN = 2;\t\t/* polygon entirely inside box */\n\n\nfunction SWAP(a, b, temp)\t{temp[0] = a[0]; a[0] = b[0]; b[0] = temp[0];}\nfunction COORD(vert, i) {\n\tswitch (i) {\n\t\tcase 0: return vert.x;\n\t\tcase 1: return vert.y;\n\t\tcase 2: return vert.z;\n\t}\n\n\treturn 0;\n}\n\nfunction CLIP_AND_SWAP(elem, sign, k, p, q, r) {\n\tpoly_clip_to_halfspace(p[0], q[0], elem, sign, sign*k);\n\tif (q[0].length===0) {\n\t\treturn POLY_CLIP_OUT;\n\t}\n\tSWAP(p, q, r);\n\treturn POLY_CLIP_PARTIAL;\n}\n\n/*\n * poly_clip_to_box: Clip the convex polygon p1 to the screen space box\n * using the homogeneous screen coordinates (sx, sy, sz, sw) of each vertex,\n * testing if v->sx/v->sw > box->x0 and v->sx/v->sw < box->x1,\n * and similar tests for y and z, for each vertex v of the polygon.\n * If polygon is entirely inside box, then POLY_CLIP_IN is returned.\n * If polygon is entirely outside box, then POLY_CLIP_OUT is returned.\n * Otherwise, if the polygon is cut by the box, p1 is modified and\n * POLY_CLIP_PARTIAL is returned.\n *\n * Given an n-gon as input, clipping against 6 planes could generate an\n * (n+6)gon, so POLY_NMAX in poly.h must be big enough to allow that.\n */\n\n/**\n * @param p1 {THREE.Vector4[]}\n * @param box {THREE.Box3}\n */\nexport function poly_clip_to_box(p1, box)\n{\n\tvar x0out = 0, x1out = 0, y0out = 0, y1out = 0, z0out = 0, z1out = 0;\n\n\t/* count vertices \"outside\" with respect to each of the six planes */\n\tvar pn = p1.length;\n\tfor (var i=0; i<pn; i++) {\n\t\tvar v = p1[i];\n\t\tif (v.x < box.min.x * v.w) x0out++;\t/* out on left */\n\t\tif (v.x > box.max.x * v.w) x1out++;\t/* out on right */\n\t\tif (v.y < box.min.y * v.w) y0out++;\t/* out on top */\n\t\tif (v.y > box.max.y * v.w) y1out++;\t/* out on bottom */\n\t\tif (v.z < box.min.z * v.w) z0out++;\t/* out on near */\n\t\tif (v.z > box.max.z * v.w) z1out++;\t/* out on far */\n\t}\n\n\t/* check if all vertices inside */\n\tif (x0out+x1out+y0out+y1out+z0out+z1out === 0) return POLY_CLIP_IN;\n\n\t/* check if all vertices are \"outside\" any of the six planes */\n\tif (x0out===pn || x1out===pn || y0out===pn || y1out===pn || z0out===pn || z1out===pn) {\n\t\tp1.length = 0;\n\t\treturn POLY_CLIP_OUT;\n\t}\n\n\t/*\n\t * now clip against each of the planes that might cut the polygon,\n\t * at each step toggling between polygons p1 and p2\n\t */\n\tvar p2 = [];\n\tvar p = [p1], q = [p2], r = [null];\n\n\tif (x0out) if (CLIP_AND_SWAP(0/*sx*/, -1., box.min.x, p, q, r) === POLY_CLIP_OUT) {\tp1.length = 0; return POLY_CLIP_OUT; }\n\tif (x1out) if (CLIP_AND_SWAP(0/*sx*/,  1., box.max.x, p, q, r) === POLY_CLIP_OUT) {\tp1.length = 0; return POLY_CLIP_OUT; }\n\tif (y0out) if (CLIP_AND_SWAP(1/*sy*/, -1., box.min.y, p, q, r) === POLY_CLIP_OUT) {\tp1.length = 0; return POLY_CLIP_OUT; }\n\tif (y1out) if (CLIP_AND_SWAP(1/*sy*/,  1., box.max.y, p, q, r) === POLY_CLIP_OUT) {\tp1.length = 0; return POLY_CLIP_OUT; }\n\tif (z0out) if (CLIP_AND_SWAP(2/*sz*/, -1., box.min.z, p, q, r) === POLY_CLIP_OUT) {\tp1.length = 0; return POLY_CLIP_OUT; }\n\tif (z1out) if (CLIP_AND_SWAP(2/*sz*/,  1., box.max.z, p, q, r) === POLY_CLIP_OUT) {\tp1.length = 0; return POLY_CLIP_OUT; }\n\n\t/* if result ended up in p2 then copy it to p1 */\n\tif (p[0]===p2) {\n\t\tp1.length = 0;\n\t\tp1.push(...p2);\n\t}\n\treturn POLY_CLIP_PARTIAL;\n}\n\n/*\n * poly_clip_to_halfspace: clip convex polygon p against a plane,\n * copying the portion satisfying sign*s[index] < k*sw into q,\n * where s is a Poly_vert* cast as a double*.\n * index is an index into the array of doubles at each vertex, such that\n * s[index] is sx, sy, or sz (screen space x, y, or z).\n * Thus, to clip against xmin, use\n *\tpoly_clip_to_halfspace(p, q, XINDEX, -1., -xmin);\n * and to clip against xmax, use\n *\tpoly_clip_to_halfspace(p, q, XINDEX,  1.,  xmax);\n */\n\nfunction poly_clip_to_halfspace(p, q, index, sign, k)\n/*\nPoly *p, *q;\nregister int index;\ndouble sign, k;\n*/\n{\n\tvar v;\n\tvar u;\n\tvar t, tu, tv;\n\n\tq.length = 0;\n\n\t/* start with u=vert[n-1], v=vert[0] */\n\tu = p.length && p[p.length-1];\n\ttu = sign*COORD(u, index) - u.w*k;\n\tfor (var i=0; i<p.length; i++, u=v, tu=tv) {\n\t\tv = p[i];\n\t\t/* on old polygon (p), u is previous vertex, v is current vertex */\n\t\t/* tv is negative if vertex v is in */\n\t\ttv = sign*COORD(v, index) - v.w*k;\n\t\tif ((tu<=0.) ^ (tv<=0.)) {\n\t\t\t/* edge crosses plane; add intersection point to q */\n\t\t\tt = tu/(tu-tv);\n\t\t\tvar w = new Vector4();\n\t\t\tw.x = u.x + t * (v.x - u.x);\n\t\t\tw.y = u.y + t * (v.y - u.y);\n\t\t\tw.z = u.z + t * (v.z - u.z);\n\t\t\tw.w = u.w + t * (v.w - u.w);\n\t\t\tq.push(w);\n\t\t}\n\t\tif (tv<=0.)\t\t/* vertex v is in, copy it to q */\n\t\t\tq.push(v.clone());\n\t}\n}","\n//Based on https://github.com/mrdoob/three.js/blob/dev/examples/jsm/interactive/SelectionBox.js\n\n//import * as THREE from \"three\";\n\nimport { poly_clip_to_box, POLY_CLIP_IN, POLY_CLIP_OUT } from \"./poly_clip\";\n\nconst { enumMeshLines, enumMeshTriangles } = Autodesk.Viewing.Private.VertexEnumerator;\n\nconst Frustum = THREE.Frustum;\nconst Vector3 = THREE.Vector3;\nconst Vector4 = THREE.Vector4;\nconst Box3 = THREE.Box3;\nconst Matrix4 = THREE.Matrix4;\n\n/**\n * This is a class to check whether objects are in a selection area in 3D space\n */\n\nvar frustum = new Frustum();\nvar viewProj = new Matrix4();\nvar tmpMat = new Matrix4();\n\nvar ndcBox = new THREE.Box3();\nndcBox.min.x = -1;ndcBox.min.y = -1;ndcBox.min.z = -1;\nndcBox.max.x =  1;ndcBox.max.y =  1;ndcBox.max.z =  1;\n\nvar tempBox = new Box3();\n\nvar vecTopLeft = new Vector3();\nvar vecTopRight = new Vector3();\nvar vecDownRight = new Vector3();\nvar vecDownLeft = new Vector3();\n\nvar vecFarTopLeft = new Vector3();\nvar vecFarTopRight = new Vector3();\nvar vecFarDownRight = new Vector3();\nvar vecFarDownLeft = new Vector3();\n\nvar vectemp1 = new Vector3();\nvar vectemp2 = new Vector3();\n\nvar v41 = new Vector4();\nvar v42 = new Vector4();\nvar v43 = new Vector4();\n\nconst OUTSIDE = 0;\nconst INTERSECTS = 1;\nconst CONTAINS = 2;\n\nfunction frustumIntersectsBox(frustum, box) {\n\n\t//Copied from three.js and modified to return separate\n\t//value for full containment versus intersection.\n\t//Return values: 0 -> outside, 1 -> intersects, 2 -> contains\n\n\tvar p1 = vectemp1;\n\tvar p2 = vectemp2;\n\tvar planes = frustum.planes;\n\tvar contained = 0;\n\n\tfor (var i = 0; i < 6; i++) {\n\n\t\tvar plane = planes[i];\n\n\t\tp1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\n\t\tp2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\tp1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\n\t\tp2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\tp1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\n\t\tp2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\tvar d1 = plane.distanceToPoint(p1);\n\t\tvar d2 = plane.distanceToPoint(p2);\n\n\t\t// if both outside plane, no intersection\n\n\t\tif (d1 < 0 && d2 < 0) {\n\n\t\t\treturn OUTSIDE;\n\n\t\t}\n\n\t\tif (d1 > 0 && d2 > 0) {\n\n\t\t\tcontained++;\n\n\t\t}\n\t}\n\n\treturn (contained === 6) ? CONTAINS : INTERSECTS;\n}\n\n/**\n * @param v {THREE.Vector3}\n * @param m {THREE.Matrix4}\n * @param out {THREE.Vector4}\n */\nfunction applyProjection( v, m, out ) {\n\n\t//Similar to Vector3.applyProjection, but without perspective divide (leaves output in clip space).\n\n\tlet x = v.x, y = v.y, z = v.z;\n\n\tlet e = m.elements;\n\n\tout.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ] );\n\tout.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ] );\n\tout.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] );\n\tout.w = ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n}\n\n/**\n * @param {BufferGeometry} geom\n * @param {Matrix4} mvpMtx\n * @param {Box3} ndcBox\n * @param {Boolean} containmentOnly\n */\nfunction geomIntersectsNDC(geom, mvpMtx, ndcBox, containmentOnly) {\n\n\tlet contains = true;\n\tlet intersects = false;\n\n\tif (geom.isLine) {\n\t\tenumMeshLines(geom, (vA, vB) => {\n\n\t\t\t//Get the line into NDC coordinates and do the\n\t\t\t//clipping check by faking a triangle.\n\t\t\tapplyProjection(vA, mvpMtx, v41);\n\t\t\tapplyProjection(vB, mvpMtx, v42);\n\n\t\t\tlet pIn = [v41, v42, v43];\n\t\t\tlet result = poly_clip_to_box(pIn, ndcBox);\n\n\t\t\tif (result !== POLY_CLIP_IN) {\n\t\t\t\tcontains = false;\n\t\t\t}\n\n\t\t\tif (result !== POLY_CLIP_OUT) {\n\t\t\t\tintersects = true;\n\t\t\t}\n\n\t\t\t//TODO: we can early out here if we can definitively reject containment or detect intersection\n\t\t});\n\t} else {\n\n\t\tenumMeshTriangles(geom, (vA, vB, vC) => {\n\n\t\t\t//Get the triangle into NDC coordinates and do the\n\t\t\t//clipping check.\n\t\t\tapplyProjection(vA, mvpMtx, v41);\n\t\t\tapplyProjection(vB, mvpMtx, v42);\n\t\t\tapplyProjection(vC, mvpMtx, v43);\n\n\t\t\tlet pIn = [v41, v42, v43];\n\t\t\tlet result = poly_clip_to_box(pIn, ndcBox);\n\n\t\t\tif (result !== POLY_CLIP_IN) {\n\t\t\t\tcontains = false;\n\t\t\t}\n\n\t\t\tif (result !== POLY_CLIP_OUT) {\n\t\t\t\tintersects = true;\n\t\t\t}\n\n\t\t\t//TODO: we can early out here if we can definitively reject containment or detect intersection\n\t\t});\n\t}\n\n\tif (contains) {\n\t\treturn CONTAINS;\n\t} else if (intersects) {\n\t\treturn INTERSECTS;\n\t} else {\n\t\treturn OUTSIDE;\n\t}\n}\n\n\n\n/**\n* @param camera {UnifiedCamera}\n * @param scene {RenderScene}\n */\nexport function BoxIntersection( camera, scene ) {\n\n\tthis.camera = camera;\n\tthis.scene = scene;\n\tthis.startPoint = new Vector3();\n\tthis.endPoint = new Vector3();\n\tthis.result = [];\n}\n\nBoxIntersection.prototype.select = function ( startPoint, endPoint, containmentOnly ) {\n\n\tthis.startPoint = startPoint || this.startPoint;\n\tthis.endPoint = endPoint || this.endPoint;\n\tthis.result = [];\n\n\tthis.updateFrustum( this.startPoint, this.endPoint );\n\tthis.searchChildInRenderScene( frustum, containmentOnly );\n\n\treturn this.result;\n};\n\nBoxIntersection.prototype.updateFrustum = function ( startPoint, endPoint ) {\n\n\tstartPoint = startPoint || this.startPoint;\n\tendPoint = endPoint || this.endPoint;\n\n\t// Avoid invalid frustum\n\n\tif ( startPoint.x === endPoint.x ) {\n\n\t\tendPoint.x += Number.EPSILON;\n\n\t}\n\n\tif ( startPoint.y === endPoint.y ) {\n\n\t\tendPoint.y += Number.EPSILON;\n\n\t}\n\n\tthis.camera.updateProjectionMatrix();\n\tthis.camera.updateMatrixWorld();\n\n\tviewProj.multiplyMatrices( this.camera.projectionMatrix, viewProj.getInverse( this.camera.matrixWorld ) );\n\n\tvar left = Math.min( startPoint.x, endPoint.x );\n\tvar top = Math.max( startPoint.y, endPoint.y );\n\tvar right = Math.max( startPoint.x, endPoint.x );\n\tvar down = Math.min( startPoint.y, endPoint.y );\n\n\tvecTopLeft.set( left, top, - 1 );\n\tvecTopRight.set( right, top, - 1 );\n\tvecDownRight.set( right, down, - 1 );\n\tvecDownLeft.set( left, down, - 1 );\n\n\tvecFarTopLeft.set( left, top, 1 );\n\tvecFarTopRight.set( right, top, 1 );\n\tvecFarDownRight.set( right, down, 1 );\n\tvecFarDownLeft.set( left, down, 1 );\n\n\tndcBox.min.x = left;\n\tndcBox.min.y = down;\n\tndcBox.min.z = -1;\n\tndcBox.max.x = right;\n\tndcBox.max.y = top;\n\tndcBox.max.z = 1;\n\n\ttmpMat.getInverse(viewProj);\n\n\tvecTopLeft.applyProjection( tmpMat );\n\tvecTopRight.applyProjection( tmpMat );\n\tvecDownRight.applyProjection( tmpMat );\n\tvecDownLeft.applyProjection( tmpMat );\n\n\tvecFarTopLeft.applyProjection( tmpMat );\n\tvecFarTopRight.applyProjection( tmpMat );\n\tvecFarDownRight.applyProjection( tmpMat );\n\tvecFarDownLeft.applyProjection( tmpMat );\n\n\tvar planes = frustum.planes;\n\n\tplanes[ 0 ].setFromCoplanarPoints( vecTopLeft, vecFarTopLeft, vecFarTopRight );\n\tplanes[ 1 ].setFromCoplanarPoints( vecTopRight, vecFarTopRight, vecFarDownRight );\n\tplanes[ 2 ].setFromCoplanarPoints( vecFarDownRight, vecFarDownLeft, vecDownLeft );\n\tplanes[ 3 ].setFromCoplanarPoints( vecFarDownLeft, vecFarTopLeft, vecTopLeft );\n\tplanes[ 4 ].setFromCoplanarPoints( vecTopRight, vecDownRight, vecDownLeft );\n\tplanes[ 5 ].setFromCoplanarPoints( vecFarDownRight, vecFarTopRight, vecFarTopLeft );\n\n};\n\n/**\n * @param frustum {THREE.Frustum}\n * @param containmentOnly {Boolean}\n */\nBoxIntersection.prototype.searchChildInRenderScene = function ( frustum, containmentOnly ) {\n\n\tlet models = this.scene.getModels();\n\n\t//This is in effect a simple simulation of the main LMV FrustumIntersector that just does box intersection\n\tlet myCustomIntersector = {\n\t\tintersectsBox: function(box) {\n\t\t\treturn frustumIntersectsBox(frustum, box);\n\t\t}\n\t};\n\n\tfor (let model of models) {\n\n\t\tlet fl = model.getFragmentList();\n\n\t\t//Keeps track of intersection/containment state per element.\n\t\t//We need to keep state for elements that are composed of multiple fragments\n\t\t//in case we need to verify the whole element is fully contained by the search box.\n\t\tlet dbIdStatus = new Map();\n\n\t\tmodel.getIterator().intersectFrustum(myCustomIntersector, (fragId, containmentKnown) => {\n\n\t\t\tlet fragState;\n\n\t\t\tif (containmentKnown) {\n\t\t\t\tfragState = CONTAINS;\n\t\t\t} else {\n\t\t\t\tfl.getWorldBounds(fragId, tempBox);\n\t\t\t\tfragState = frustumIntersectsBox(frustum, tempBox);\n\t\t\t}\n\n\t\t\tif (fragState === OUTSIDE) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (fragState !== CONTAINS) {\n\n\t\t\t\t//The fragment intersects the frustum in a non-trivial. Now we have to do hard work and check each triangle or line.\n\n\t\t\t\t//Get the model-view-projection matrix\n\t\t\t\tfl.getWorldMatrix(fragId, tmpMat);\n\t\t\t\ttmpMat.multiplyMatrices(viewProj, tmpMat);\n\n\t\t\t\tlet geom = fl.getGeometry(fragId);\n\n\t\t\t\tfragState = geomIntersectsNDC(geom, tmpMat, ndcBox, containmentOnly);\n\t\t\t}\n\n\t\t\tif (fragState === OUTSIDE) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//Fragment is either inside or intersects the frustum\n\t\t\tlet dbId = fl.getDbIds(fragId);\n\n\t\t\tlet curStatus = dbIdStatus.get(dbId);\n\t\t\tif (curStatus === undefined) {\n\t\t\t\tdbIdStatus.set(dbId, fragState);\n\t\t\t} else if (curStatus === CONTAINS && fragState !== CONTAINS) {\n\t\t\t\tdbIdStatus.set(dbId, fragState);\n\t\t\t}\n\t\t});\n\n\t\tif (containmentOnly) {\n\t\t\t//containment only -- return element IDs whose fragments are entirely contained in the search box\n\t\t\tlet res = { model, ids: [] };\n\t\t\tdbIdStatus.forEach((value, key) => {\n\t\t\t\tif (value === CONTAINS) {\n\t\t\t\t\tres.ids.push(key);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.result.push(res);\n\t\t} else {\n\t\t\t//Any intersection acceptable, return result without filtering\n\t\t\tthis.result.push({model, ids: Array.from(dbIdStatus.keys())});\n\t\t}\n\n\t}\n\n};","import { BoxIntersection } from \"./BoxIntersection\";\n\n/**\n * @param {Viewer} [viewer]\n * @param {Object} [options]\n * @param {string} [options.cssClassName] CSS class used for the box. Default 'box-selection'.\n */\nexport class BoxSelectionTool {\n  constructor(viewer, options = {}) {\n    this.viewer = viewer;\n    this.options = options;\n\n    this.isDown = false;\n\n    this.element = document.createElement('div');\n    this.styleContains = this.options.styleContains || this.options.cssClassName || 'box-selection-contains';\n    this.styleIntersects = this.options.styleIntersects || this.options.cssClassName || 'box-selection-intersects';\n    this.element.classList.add(this.styleContains);\n    this.element.style.pointerEvents = 'none';\n\n    this.startPoint = new THREE.Vector2();\n    this.endPoint = new THREE.Vector2();\n\n    this.useGeometricIntersection = this.options.useGeometricIntersection;\n    this.boxIntersection = new BoxIntersection(this.viewer.getCamera(), this.viewer.impl.modelQueue());\n  }\n\n  getName() {\n    return 'box-selection';\n  }\n\n  getNames() {\n    return ['box-selection'];\n  }\n\n  activate() {\n    this.active = true;\n  }\n\n  deactivate() {\n    this.onSelectOver();\n    this.active = false;\n  }\n\n  isActive() {\n    return this.active;\n  }\n\n  getCursor() {\n    return 'crosshair';\n  }\n\n  register() {}\n\n  handleGesture(event) {\n    switch (event.type) {\n      case 'dragstart':\n        return this.handleButtonDown(event, 0);\n\n      case 'dragmove':\n        return this.handleMouseMove(event);\n\n      case 'dragend':\n        return this.handleButtonUp(event, 0);\n\n      default:\n        break;\n    }\n\n    return false;\n  }\n\n  handleButtonDown(event, button) {\n    // only handle left click\n    if (button !== 0) {\n      return false;\n    }\n\n    this.viewer.impl.selector.clearSelection();\n\n    this.isDown = true;\n    this.onSelectStart(event);\n\n    return true;\n  }\n\n  handleMouseMove(event) {\n    if (!this.isDown) {\n      return false;\n    }\n\n    this.onSelectMove(event);\n\n    return true;\n  }\n\n  handleButtonUp(event, button) {\n    // only handle left click\n    if (button !== 0) {\n      return false;\n    }\n\n    this.isDown = false;\n    this.onSelectOver(event);\n\n    const selection = this.getSelection();\n    selection.forEach(s => {\n      s.selectionType = this.options.selectionType;\n    });\n    this.viewer.impl.selector.setAggregateSelection(selection);\n\n    return true;\n  }\n\n  getSelection() {\n    const clientRect = this.viewer.impl.getCanvasBoundingClientRect();\n\n    const vpVecBL = this.viewer.impl.clientToViewport(\n      Math.min(this.startPoint.x, this.endPoint.x) - clientRect.left,\n      Math.max(this.startPoint.y, this.endPoint.y) - clientRect.top\n    );\n\n    const vpVecTR = this.viewer.impl.clientToViewport(\n      Math.max(this.startPoint.x, this.endPoint.x) - clientRect.left,\n      Math.min(this.startPoint.y, this.endPoint.y) - clientRect.top\n    );\n\n    if (this.useGeometricIntersection) {\n      //Use geometric selection\n      return this.boxIntersection.select(vpVecBL, vpVecTR, this.endPoint.x > this.startPoint.x);\n\n    } else {\n      //Model is not 3D, use ID buffer selection\n\n      const hits = this.viewer.impl.hitBoxTestViewport(\n        vpVecBL,\n        Math.abs(this.startPoint.x - this.endPoint.x) / this.viewer.impl.canvas.clientWidth,\n        Math.abs(this.startPoint.y - this.endPoint.y) / this.viewer.impl.canvas.clientHeight\n      );\n\n      // aggregate hits in a selection format way\n      const selection = [];\n      const modelsHitsByModelId = {};\n      const modelsById = {};\n\n      for (let i = 0; i < hits.length; i++) {\n        const modelId = hits[i].model.id;\n        if (!modelsById[modelId]) {\n          modelsById[modelId] = hits[i].model;\n        }\n        if (!modelsHitsByModelId[modelId]) {\n          modelsHitsByModelId[modelId] = [];\n        }\n        modelsHitsByModelId[modelId].push(hits[i].dbId);\n      }\n\n      for (let modelId in modelsHitsByModelId) {\n        selection.push({\n          model: modelsById[modelId],\n          ids: modelsHitsByModelId[modelId],\n        });\n      }\n\n      return selection;\n    }\n\n  }\n\n  onSelectStart(event) {\n    this.viewer.canvas.parentElement.appendChild(this.element);\n\n    this.element.style.left = event.clientX + 'px';\n    this.element.style.top = event.clientY + 'px';\n    this.element.style.width = '0px';\n    this.element.style.height = '0px';\n\n    this.startPoint.x = event.clientX;\n    this.startPoint.y = event.clientY;\n  }\n\n  onSelectMove(event) {\n\n    this.endPoint.x = event.clientX;\n    this.endPoint.y = event.clientY;\n\n    let left = Math.min(this.startPoint.x, this.endPoint.x);\n    let right = Math.max(this.startPoint.x, this.endPoint.x);\n    let top = Math.min(this.startPoint.y, this.endPoint.y);\n    let bottom = Math.max(this.startPoint.y, this.endPoint.y);\n\n    this.element.style.left = left + 'px';\n    this.element.style.top = top + 'px';\n    this.element.style.width = (right - left) + \"px\";\n    this.element.style.height = (bottom - top) + \"px\";\n\n    if (this.useGeometricIntersection && this.endPoint.x >= this.startPoint.x) {\n      this.element.classList.replace(this.styleIntersects, this.styleContains);\n    } else {\n      this.element.classList.replace(this.styleContains, this.styleIntersects);\n    }\n  }\n\n  onSelectOver() {\n    if (this.element.parentElement) {\n      this.element.parentElement.removeChild(this.element);\n    }\n  }\n}\n","/**\n * Include each locale json file and return it in an object\n * that can be consumed by i18n\n */\n\nimport json_en from '../../res/locales/en/nobundle-BoxSelection.loc.json';\nimport json_en_GB from '../../res/locales/en-GB/nobundle-BoxSelection.loc.json';\nimport json_cs from '../../res/locales/cs/nobundle-BoxSelection.loc.json';\nimport json_de from '../../res/locales/de/nobundle-BoxSelection.loc.json';\nimport json_es from '../../res/locales/es/nobundle-BoxSelection.loc.json';\nimport json_fr from '../../res/locales/fr/nobundle-BoxSelection.loc.json';\nimport json_fr_CA from '../../res/locales/fr-CA/nobundle-BoxSelection.loc.json';\nimport json_it from '../../res/locales/it/nobundle-BoxSelection.loc.json';\nimport json_ja from '../../res/locales/ja/nobundle-BoxSelection.loc.json';\nimport json_ko from '../../res/locales/ko/nobundle-BoxSelection.loc.json';\nimport json_pl from '../../res/locales/pl/nobundle-BoxSelection.loc.json';\nimport json_pt_BR from '../../res/locales/pt-BR/nobundle-BoxSelection.loc.json';\nimport json_ru from '../../res/locales/ru/nobundle-BoxSelection.loc.json';\nimport json_tr from '../../res/locales/tr/nobundle-BoxSelection.loc.json';\nimport json_zh_HANS from '../../res/locales/zh-HANS/nobundle-BoxSelection.loc.json';\nimport json_zh_HANT from '../../res/locales/zh-HANT/nobundle-BoxSelection.loc.json';\nimport json_zh_HK from '../../res/locales/zh-HK/nobundle-BoxSelection.loc.json';\nimport json_nl from '../../res/locales/nl/nobundle-BoxSelection.loc.json';\nimport json_sv from '../../res/locales/sv/nobundle-BoxSelection.loc.json';\nimport json_da from '../../res/locales/da/nobundle-BoxSelection.loc.json';\nimport json_no from '../../res/locales/no/nobundle-BoxSelection.loc.json';\n\nexport const locales = {\n    en: json_en,\n    'en-GB': json_en_GB,\n    cs: json_cs,\n    de: json_de,\n    es: json_es,\n    fr: json_fr,\n    \"fr-CA\": json_fr_CA,\n    it: json_it,\n    ja: json_ja,\n    ko: json_ko,\n    pl: json_pl,\n    \"pt-BR\": json_pt_BR,\n    ru: json_ru,\n    tr: json_tr,\n    \"zh-HANS\": json_zh_HANS,\n    \"zh-HANT\": json_zh_HANT,\n    \"zh-HK\": json_zh_HK,\n    nl: json_nl,\n    sv: json_sv,\n    da: json_da,\n    no: json_no,\n};\n","const av = Autodesk.Viewing;\nconst btnStates = av.UI.Button.State;\nconst EXT_MODE = 'box-selection';\nconst TOOL_NAME = EXT_MODE;\n\nimport { BoxSelectionTool } from './BoxSelectionTool';\nimport { locales } from \"./BoxSelectionLocales\";\n\nimport './BoxSelection.css';\n\n/**\n * BoxSelectionExtension allows user to select elements with a mouse box.\n * \n * The extension id is: `Autodesk.BoxSelection`\n * @example\n *   viewer.loadExtension('Autodesk.BoxSelection')\n * \n * @memberof Autodesk.Viewing.Extensions\n * @alias Autodesk.Viewing.Extensions.BoxSelection\n * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n * @constructor\n */\nexport class BoxSelectionExtension extends av.Extension {\n  constructor(viewer, options = {}) {\n    super(viewer, options);\n    this.name = EXT_MODE;\n    this._onToolChanged = this._onToolChanged.bind(this);\n    // Default to faster REGULAR selectionType, \n    // though this may be undesirable when unselected objects obscure the selected ones\n    this.options.selectionType = options.selectionType || (options.useGeometricIntersection ? av.SelectionType.REGULAR : av.SelectionType.MIXED);\n  }\n\n  load() {\n    this.extendLocalization(locales);\n    this.boxSelectionTool = new BoxSelectionTool(this.viewer, this.options);\n\n    this.viewer.toolController.registerTool(this.boxSelectionTool, (enable, name) => {\n      this.setActive(enable, name);\n    });\n\n    this.registerHotkeys();\n\n    return true;\n  }\n\n  unload() {\n    if (this.viewer.getActiveNavigationTool() === TOOL_NAME) {\n      this.viewer.setActiveNavigationTool();\n    }\n\n    if (this.boxSelectionToolButton) {\n      const navTools = this.viewer.getToolbar().getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);\n      if (navTools) {\n        navTools.removeControl(this.boxSelectionToolButton.getId());\n        this.boxSelectionToolButton = null;\n      }\n    }\n\n    this.viewer.toolController.deregisterTool(this.boxSelectionTool);\n    this.viewer.removeEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT, this._onToolChanged);\n\n    this.viewer.getHotkeyManager().popHotkeys('Autodesk.BoxSelection');\n\n    return true;\n  }\n\n  createToolbarButton() {\n    const button = new Autodesk.Viewing.UI.Button('toolbar-box-selection');\n    button.setIcon('adsk-icon-selection');\n    button.setToolTip('Select');\n    button.onClick = () => {\n      const state = button.getState();\n      if (state === Autodesk.Viewing.UI.Button.State.INACTIVE) {\n        this.activate(EXT_MODE);\n      } else if (state === Autodesk.Viewing.UI.Button.State.ACTIVE) {\n        this.deactivate();\n      }\n    };\n\n    this.boxSelectionToolButton = button;\n  }\n\n  /**\n   * \n   * @param {boolean} add true to add the toolbar button and false to remove it\n   */\n  addToolbarButton(add) {\n    if (!this.boxSelectionToolButton) {\n      return;\n    }\n\n    const toolbar = this.viewer.getToolbar?.();\n    const navTools = toolbar?.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);\n    if (!navTools) {\n      return;\n    }\n    \n    const exists = navTools.getControl(this.boxSelectionToolButton.getId());\n    if (add && !exists) {\n      navTools.addControl(this.boxSelectionToolButton, {index: 0});\n    } else if (!add && exists) {\n      navTools.removeControl(this.boxSelectionToolButton);\n    }\n  }\n\n  onToolbarCreated(toolbar) {\n    // The _onToolChanged function will change the state of the button thus we will only add the event listener in here.\n    this.viewer.addEventListener(Autodesk.Viewing.TOOL_CHANGE_EVENT, this._onToolChanged);\n\n    this.createToolbarButton();\n\n    // currently no toolbar button is added, as it changes the toolbar width and can break the existing layout\n    this.addToolbarButton(false);\n  }\n\n  registerHotkeys() {\n    const onPress = () => {\n      if (!this.boxSelectionTool.isActive()) {\n        this.viewer.toolController.activateTool(this.boxSelectionTool.getName());\n        this.boxSelectionTool.__hotKey = true;\n      }\n      return true;\n    };\n    const onRelease = () => {\n      if (this.boxSelectionTool.__hotKey) {\n        this.viewer.toolController.deactivateTool(this.boxSelectionTool.getName());\n        this.boxSelectionTool.__hotKey = false;\n      }\n      return true;\n    };\n    this.viewer.getHotkeyManager().pushHotkeys('Autodesk.BoxSelection', [\n      {\n        keycodes: [Autodesk.Viewing.KeyCode.CONTROL],\n        onPress: onPress,\n        onRelease: onRelease\n      }\n    ]);\n  }\n\n  activate(mode) {\n    if (mode === EXT_MODE) {\n      this._updateActiveState(true);\n      this.viewer.setActiveNavigationTool(EXT_MODE);\n    }\n\n    return true;\n  }\n\n  deactivate() {\n    this.viewer.setActiveNavigationTool();\n    this._updateActiveState(false);\n    return true;\n  }\n\n  /**\n   * \n   * @param {Autodesk.Viewing.SelectionType} selectionType - Determines how selected nodes are displayed with tinting and/or overlay effect\n   */\n  setSelectionType(selectionType) {\n    this.options.selectionType = selectionType || av.SelectionType.REGULAR;\n  }\n\n  _updateActiveState(isActive) {\n    this.activeStatus = isActive;\n    this.mode = isActive ? EXT_MODE : '';\n  }\n\n  /**\n   * Handles the TOOL_CHANGE_EVENT event\n   * @param {*} event\n   * @private\n   */\n  _onToolChanged(event) {\n    if (event.toolName === TOOL_NAME && this.boxSelectionToolButton) {\n      const state = event.active ? btnStates.ACTIVE : btnStates.INACTIVE;\n      this.boxSelectionToolButton.setState(state);\n      // This will ensure that the active state of the extension matches the tool. eg. this.isActive('box-selection')\n      this._updateActiveState(!state);\n    }\n  }\n  \n}\n\nav.theExtensionManager.registerExtension('Autodesk.BoxSelection', BoxSelectionExtension);\n"],"sourceRoot":""}