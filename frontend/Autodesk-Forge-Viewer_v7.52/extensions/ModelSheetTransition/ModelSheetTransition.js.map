{"version":3,"file":"ModelSheetTransition/ModelSheetTransition.js","sources":["webpack://Autodesk.Extensions.[name]/webpack/bootstrap","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/BoundsPlane.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/ModelSheetCommon.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/ModelSheetConstants.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/ModelSheetTransition.css?0cdc","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/ModelSheetTransition.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/ModelSheetTransitionLocals.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/ModelToSheet.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/SheetToModel.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/UI/ModelSheet3DMarker.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/UI/ModelSheetGenericUI.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelSheetTransition/ModelSheetTransition.css","webpack://Autodesk.Extensions.[name]/./node_modules/css-loader/lib/css-base.js","webpack://Autodesk.Extensions.[name]/./node_modules/style-loader/lib/addStyles.js","webpack://Autodesk.Extensions.[name]/./node_modules/style-loader/lib/urls.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./extensions/ModelSheetTransition/ModelSheetTransition.js\");\n","function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var FillOpacity = 0.7;\nvar EdgeOpacity = 1.0;\nvar FadeDuration = 0.3; // In seconds\nvar\nBoundsPlane = /*#__PURE__*/function () {\n  function BoundsPlane(viewer, overlayName) {_classCallCheck(this, BoundsPlane);\n    this.viewer = viewer;\n    this.overlayName = overlayName;\n    this.materialManager = viewer.impl.matman();\n    this.isVisible = false;\n    this.lock = false;\n  }_createClass(BoundsPlane, [{ key: \"createBoundsPlane\", value: function createBoundsPlane()\n\n    {\n      this.viewer.impl.createOverlayScene(this.overlayName);\n      // Fill geometry\n      var geometry = new THREE.PlaneBufferGeometry(1, 1);\n\n      var points = [];\n      points.push(new THREE.Vector3(-0.5, -0.5, 0));\n      points.push(new THREE.Vector3(-0.5, 0.5, 0));\n      points.push(new THREE.Vector3(0.5, 0.5, 0));\n      points.push(new THREE.Vector3(0.5, -0.5, 0));\n\n      // Outline geometry\n      var linesGeometry = new THREE.Geometry();\n      var verts = linesGeometry.vertices;\n      verts.push(points[0]);\n      verts.push(points[1]);\n\n      verts.push(points[1]);\n      verts.push(points[2]);\n\n      verts.push(points[2]);\n      verts.push(points[3]);\n\n      verts.push(points[3]);\n      verts.push(points[0]);\n\n      this.fillMaterial = new THREE.MeshPhongMaterial({\n        color: 0xCDEAF7,\n        side: THREE.DoubleSide,\n        specular: 0x000000,\n        transparent: true,\n        opacity: FillOpacity,\n        polygonOffset: true,\n        polygonOffsetFactor: 1.0,\n        polygonOffsetUnits: 5,\n        depthTest: false,\n        depthWrite: false });\n\n      this.edgeMaterial = new THREE.LineBasicMaterial({\n        color: 0x000000,\n        side: THREE.DoubleSide,\n        opacity: EdgeOpacity,\n        transparent: true,\n        depthTest: false,\n        depthWrite: false });\n\n      this.fillMaterial.doNotCut = true;\n      this.edgeMaterial.doNotCut = true;\n\n      this.solidName = this.materialManager._getMaterialHash(null, 'ModelSheetTransition.solid');\n      this.materialManager.addMaterial(this.solidName, this.fillMaterial, true);\n\n      this.edgesName = this.materialManager._getMaterialHash(null, 'ModelSheetTransition.edges');\n      this.materialManager.addMaterialNonHDR(this.edgesName, this.edgeMaterial);\n\n      var boundariesMesh = new THREE.Mesh(geometry, this.fillMaterial);\n      var lineMesh = new THREE.Line(linesGeometry, this.edgeMaterial, THREE.LinePieces);\n      var boundsGroup = new THREE.Group();\n      boundsGroup.add(boundariesMesh);\n      boundsGroup.add(lineMesh);\n\n      boundsGroup.matrixAutoUpdate = false;\n\n      return boundsGroup;\n    } }, { key: \"getBoundsPlane\", value: function getBoundsPlane()\n\n    {\n      if (!this.boundsPlane) {\n        this.boundsPlane = this.createBoundsPlane();\n      }\n\n      return this.boundsPlane;\n    } }, { key: \"setFromMatrix\", value: function setFromMatrix(\n\n    matrix) {\n      var boundsPlane = this.getBoundsPlane();\n\n      boundsPlane.matrix.copy(matrix);\n      boundsPlane.matrixWorldNeedsUpdate = true;\n    }\n\n    // Set the material opacitiy to a percentage of their full value\n  }, { key: \"setMaterialsOpacity\", value: function setMaterialsOpacity(t) {\n      this.fillMaterial.opacity = t * FillOpacity;\n      this.edgeMaterial.opacity = t * EdgeOpacity;\n      this.viewer.impl.invalidate(false, false, true);\n    } }, { key: \"setVisible\", value: function setVisible(\n\n    isVisible) {var _this = this;var withAnimation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (this.isVisible === isVisible) {\n        return;\n      }\n\n      if (this.fadeAnim) {\n        this.fadeAnim.stop();\n        this.fadeAnim = null;\n      }\n\n      this.isVisible = isVisible;\n      var boundsPlane = this.getBoundsPlane();\n\n      var startValue = isVisible ? 0 : 1;\n\n      if (isVisible) this.viewer.impl.addOverlay(this.overlayName, boundsPlane);\n\n      if (withAnimation) {\n        var onTimer = function onTimer(t) {\n          t = Autodesk.Viewing.Private.smootherStep(t);\n          _this.setMaterialsOpacity(t);\n        };\n\n        var onFadeEnd = function onFadeEnd() {\n          if (!isVisible) _this.viewer.impl.removeOverlay(_this.overlayName, boundsPlane);\n          _this.fadeAnim = null;\n        };\n\n        this.fadeAnim = Autodesk.Viewing.Private.fadeValue(startValue, 1 - startValue, FadeDuration, onTimer, onFadeEnd);\n      } else {\n        if (isVisible) {\n          this.setMaterialsOpacity(1);\n        } else {\n          this.viewer.impl.removeOverlay(this.overlayName, boundsPlane);\n        }\n      }\n\n      this.viewer.impl.invalidate(false, false, true);\n    } }, { key: \"destroy\", value: function destroy()\n\n    {\n      this.setVisible(false);\n\n      if (this.solidName) {\n        this.materialManager.removeMaterial(this.solidName);\n        this.materialManager.removeMaterial(this.edgesName);\n      }\n\n      this.viewer.impl.removeOverlayScene(this.overlayName);\n    } }]);return BoundsPlane;}();export { BoundsPlane as default };","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);}_next(undefined);});};}import { FLY_TO_DURATION, FIT_TO_SHEET_DURATION } from './ModelSheetConstants';\n\nexport var getSuitable2DModel = function getSuitable2DModel(viewer) {\n  return viewer.impl.is2d && viewer.impl.get2DModels()[0];\n};\n\nexport var setCutPlane = /*#__PURE__*/function () {var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(viewer, matrix, clearSelectedFloor) {var pos, rot, scale, sectionExt, normal, _levelsExtension$floo, levelsExtension, prevLock;return regeneratorRuntime.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:\n            pos = new THREE.Vector3();\n            rot = new THREE.Quaternion();\n            scale = new THREE.Vector3();\n            matrix.decompose(pos, rot, scale);_context.next = 6;return (\n              viewer.getExtensionAsync('Autodesk.Section'));case 6:sectionExt = _context.sent;\n            // Assuming original's sheet normal is +Z (which should be the case)\n            normal = new THREE.Vector3(0, 0, 1);\n            normal.applyQuaternion(rot);\n\n            // Deselect current floor section if exists.\n            // This is needed so the viewport's section plane won't collide with a selected floor section.\n            if (clearSelectedFloor) {\n              levelsExtension = viewer.getExtension('Autodesk.AEC.LevelsExtension');\n              levelsExtension === null || levelsExtension === void 0 ? void 0 : (_levelsExtension$floo = levelsExtension.floorSelector) === null || _levelsExtension$floo === void 0 ? void 0 : _levelsExtension$floo.selectFloor(undefined, false);\n            }\n\n            // Tool controller can be locked if the user tries an interaction such as panning\n            prevLock = viewer.toolController.setIsLocked(false);\n            sectionExt.setSectionPlane(normal, pos, false);\n            viewer.toolController.setIsLocked(prevLock);case 13:case \"end\":return _context.stop();}}}, _callee);}));return function setCutPlane(_x, _x2, _x3) {return _ref.apply(this, arguments);};}();\n\n\n// Pass endBox=null to reset to original bounds\n// Pass a duration > 0 to animate\nexport var setViewportBounds = function () {\n  var viewportBoundsAnim = null;\n\n  var convertToBox3 = function convertToBox3(box) {\n    if (!box || box instanceof THREE.Box3) {\n      return box;\n    }\n\n    // The crop box that is passed sometimes contains only (x, y).\n    // To make the lerping consistent this converts the box to a Box3\n    box.min.z = box.max.z = 0;\n    return new THREE.Box3(box.min, box.max);\n  };\n\n  return /*#__PURE__*/function () {var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(viewer, model, endBox, duration) {var _model$getViewportBou;var dstBox, originalBounds, currentBounds, startBox, setBounds, onTimer;return regeneratorRuntime.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:\n              if (viewportBoundsAnim) {\n                viewportBoundsAnim.skip();\n                viewportBoundsAnim = null;\n              }\n\n              dstBox = new THREE.Box3();\n\n              // The initial box is the bounding box\n              originalBounds = model.getBoundingBox(true, false).clone();\n\n              // If the cropping area was changed from the initial one, get the current one\n              currentBounds = (_model$getViewportBou = model.getViewportBounds()) === null || _model$getViewportBou === void 0 ? void 0 : _model$getViewportBou.clone();\n\n              // When endBox is null, it means we want to restore the original box\n              startBox = currentBounds || originalBounds;\n              endBox = convertToBox3(endBox) || originalBounds;\n\n              setBounds = function setBounds() {\n                viewer.impl.setViewportBounds(model, dstBox);\n              };\n\n              onTimer = function onTimer(t) {\n                t = Autodesk.Viewing.Private.smootherStep(t);\n                dstBox.min.lerpVectors(startBox.min, endBox.min, t);\n                dstBox.max.lerpVectors(startBox.max, endBox.max, t);\n\n                setBounds();\n              };return _context2.abrupt(\"return\",\n\n              new Promise(function (resolve) {\n                var onFinished = function onFinished() {\n                  viewportBoundsAnim = null;\n                  setTimeout(resolve);\n                };\n\n                if (duration === 0) {// Call directly\n                  dstBox.copy(endBox);\n                  setBounds();\n                  resolve();\n                } else {\n                  viewportBoundsAnim = Autodesk.Viewing.Private.fadeValue(0, 1, duration, onTimer, onFinished);\n                }\n              }));case 9:case \"end\":return _context2.stop();}}}, _callee2);}));return function (_x4, _x5, _x6, _x7) {return _ref2.apply(this, arguments);};}();\n\n}();\n\nexport var resetModelTransformAndViewport = function resetModelTransformAndViewport(viewer, model) {\n  // Reset transform\n  viewer.impl.setPlacementTransform(model, new THREE.Matrix4());\n\n  model.changePaperVisibility(true);\n  viewer.impl.setDoNotCut(model, true);\n\n  // Reset viewport bounds (without animation - duration set to 0)\n  setViewportBounds(viewer, model, null, 0);\n};\n\n// When transitioning from 2D to 3D, the sheet might end in a completely different position.\n// Assuming the sheet has already been fitted, and applying the transform to the camera, we make sure the fitting remains\n// while still facing the sheet.\nexport var fitAfterTransformImmediate = function fitAfterTransformImmediate(viewer, matrix) {\n  var camera = viewer.getCamera();\n  camera.applyMatrix4(matrix);\n  camera.updateCameraMatrices();\n  // Set pivot point to current target\n  viewer.navigation.setPivotPoint(camera.target);\n  viewer.navigation.setPivotSetFlag(true);\n};\n\nexport var fitToBounds = function fitToBounds(viewer, model) {\n  var bounds = model.getVisibleBounds();\n  // fitBounds will also set the pivot point from the camera's target\n  viewer.navigation.fitBounds(true, bounds, false, true);\n\n  viewer.impl.invalidate(true);\n};\n\nexport var fitToBoundsWithAnimation = /*#__PURE__*/function () {var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(viewer, model) {var bounds, camera, fit, dstView;return regeneratorRuntime.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:\n            bounds = model.getVisibleBounds();\n            camera = viewer.getCamera();\n            fit = viewer.navigation.computeFit(camera.position, camera.target, camera.fov, bounds, camera.aspect);\n\n            dstView = {\n              position: fit.position,\n              target: fit.target,\n              up: camera.up };return _context3.abrupt(\"return\",\n\n\n            new Promise(function (resolve) {\n              Autodesk.Viewing.Private.flyToView(viewer, dstView, FLY_TO_DURATION, function () {\n                // Wait a frame for last invalidate to take hold, before allowing to continue.\n                // Avoids a graphical glitch when the 3D model is already loaded\n                setTimeout(resolve);\n              }, false);\n            }));case 5:case \"end\":return _context3.stop();}}}, _callee3);}));return function fitToBoundsWithAnimation(_x8, _x9) {return _ref3.apply(this, arguments);};}();\n\n\nexport var fitCameraToSheet = function fitCameraToSheet(viewer, model) {\n  viewer.navigation.toOrthographic();\n\n  var bbox = model.getBoundingBox(true, false).clone();\n\n  var matrix = model.getModelToViewerTransform() || new THREE.Matrix4();\n  var center = bbox.getCenter();\n\n  // Set the center of the sheet as the target, then move away in the z direction towards the camera\n  // to set the desired position. Then apply transform to both.\n  // Using this as parameters for computeFit will give us the destination that would be the same as fit To View.\n  var position = center.clone();\n  position.z += bbox.size().y;\n  position.applyMatrix4(matrix);\n\n  var target = center.applyMatrix4(matrix);\n\n  var rotation = new THREE.Matrix4();\n  rotation.extractRotation(matrix);\n\n  // Apply rotation to up vector - according to 2D model default up direction.\n  var up = new THREE.Vector3(0, 1, 0).applyMatrix4(rotation).normalize();\n\n  // Transform box to the current state\n  bbox.applyMatrix4(matrix);var _viewer$getCamera =\n\n  viewer.getCamera(),fov = _viewer$getCamera.fov,aspect = _viewer$getCamera.aspect;\n  var fit = viewer.navigation.computeFit(position, target, fov, bbox, aspect);\n  var dstView = {\n    position: fit.position,\n    target: fit.target,\n    up: up };\n\n\n  return new Promise(function (resolve) {\n    Autodesk.Viewing.Private.flyToView(viewer, dstView, FIT_TO_SHEET_DURATION, function () {\n      // Wait a frame for last invalidate to take hold, before allowing to continue.\n      // Avoids a graphical glitch\n      setTimeout(resolve);\n    }, false);\n  });\n};","export var HIDE_DURATION = 2.5; // In seconds\nexport var SHOW_DURATION = 1.5; // In seconds\nexport var FLY_TO_DURATION = 1.0; // In seconds\nexport var FIT_TO_SHEET_DURATION = 0.5; // In seconds","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./ModelSheetTransition.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./ModelSheetTransition.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/dist/cjs.js!./ModelSheetTransition.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","function _typeof(obj) {\"@babel/helpers - typeof\";if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;};}return _typeof(obj);}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);}_next(undefined);});};}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _inherits(subClass, superClass) {if (typeof superClass !== \"function\" && superClass !== null) {throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}function _createSuper(Derived) {var hasNativeReflectConstruct = _isNativeReflectConstruct();return function _createSuperInternal() {var Super = _getPrototypeOf(Derived),result;if (hasNativeReflectConstruct) {var NewTarget = _getPrototypeOf(this).constructor;result = Reflect.construct(Super, arguments, NewTarget);} else {result = Super.apply(this, arguments);}return _possibleConstructorReturn(this, result);};}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _isNativeReflectConstruct() {if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;if (Reflect.construct.sham) return false;if (typeof Proxy === \"function\") return true;try {Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));return true;} catch (e) {return false;}}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}import { getSuitable2DModel, resetModelTransformAndViewport, setCutPlane, fitToBounds } from './ModelSheetCommon';\nimport { locales } from \"./ModelSheetTransitionLocals\";\nimport './ModelSheetTransition.css';\nimport SheetToModel from './SheetToModel';\nimport ModelToSheet from './ModelToSheet';\nimport ModelSheetGenericUI from './UI/ModelSheetGenericUI';\nimport ModelSheet3DMarker from './UI/ModelSheet3DMarker';\nimport BoundsPlane from './BoundsPlane';\n\n/**\n                                         * ModelSheetTransition is an extension for transitioning from a 2D model to its context inside a 3D model.\n                                         * Prerequisite is that the context (relationship and transform) exists and can be provided by a service.\n                                         *\n                                         *  * @example\n                                         *   viewer.loadExtension('Autodesk.ModelSheetTransition')\n                                         *\n                                         * @memberof Autodesk.Viewing.Extensions\n                                         * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n                                         * @alias Autodesk.Viewing.Extensions.ModelSheetTransition\n                                         * @class\n                                         */\n\nvar extensionName = 'Autodesk.ModelSheetTransition';\nvar namespace = AutodeskNamespace(extensionName);\n\nvar OverlayName = 'ModelSheetTransition_Extension_Overlay';\nvar LevelsExtensionId = 'Autodesk.AEC.LevelsExtension';\nvar AnalyticsEventName = 'viewer.hypermodel.view';var\n\nModelSheetTransitionExtension = /*#__PURE__*/function (_Autodesk$Viewing$Ext) {_inherits(ModelSheetTransitionExtension, _Autodesk$Viewing$Ext);var _super = _createSuper(ModelSheetTransitionExtension);\n  /**\n                                                                                                                                                                                                         * @param viewer\n                                                                                                                                                                                                         * @param options - If no service is provided will just default to looking for available AEC data.\n                                                                                                                                                                                                         *                  Must include a loadModel function that loads the related model (to load as hidden)\n                                                                                                                                                                                                         *                  Must include a showModel function that shows the related model\n                                                                                                                                                                                                         *                  Must include a hideModel function that hides the related model\n                                                                                                                                                                                                         *                  Can include a displayError function that uses a custom UI to show errors\n                                                                                                                                                                                                         */\n  function ModelSheetTransitionExtension(viewer) {var _this;var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};_classCallCheck(this, ModelSheetTransitionExtension);\n    _this = _super.call(this, viewer, options);\n\n    _this.loadDocument = options.loadDocument;\n    _this.loadModel = options.loadModel;\n    _this.showModel = options.showModel;\n    _this.hideModel = options.hideModel;\n    _this.displayError = options.displayError || _this._displayError.bind(_assertThisInitialized(_this));\n\n    // Bindings\n    _this.updateUI = _this.updateUI.bind(_assertThisInitialized(_this));\n    _this.updateMarkersClientLocation = _this.updateMarkersClientLocation.bind(_assertThisInitialized(_this));\n    _this.updateMarkers = _this.updateMarkers.bind(_assertThisInitialized(_this));\n    _this.addMarkersForModel = _this.addMarkersForModel.bind(_assertThisInitialized(_this));\n    _this.removeMarkersForModel = _this.removeMarkersForModel.bind(_assertThisInitialized(_this));\n    _this.onViewportDataFetched = _this.onViewportDataFetched.bind(_assertThisInitialized(_this));\n    _this.onSelectedFloorChanged = _this.onSelectedFloorChanged.bind(_assertThisInitialized(_this));\n    _this.onExtensionLoaded = _this.onExtensionLoaded.bind(_assertThisInitialized(_this));\n    _this.onExtensionUnloaded = _this.onExtensionUnloaded.bind(_assertThisInitialized(_this));\n\n    _this.sheetToModel = new SheetToModel(_assertThisInitialized(_this));\n    _this.modelToSheet = new ModelToSheet(_assertThisInitialized(_this));\n\n    _this.defaultPosition2D = new THREE.Vector3(0, 0, 1);\n    _this.defaultTarget2D = new THREE.Vector3(0, 0, 0);\n\n    _this.areMarkersVisible = false;\n    _this.markers = {};return _this;\n  }_createClass(ModelSheetTransitionExtension, [{ key: \"load\", value: function () {var _load = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {return regeneratorRuntime.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:if (!(\n\n\n                !this.loadModel || !this.showModel || !this.hideModel)) {_context.next = 3;break;}\n                console.error('One of ModelSheetTransition callbacks is missing.');return _context.abrupt(\"return\",\n                false);case 3:\n\n\n                this.cache = this.getCache();\n\n                if (!this.cache.nodesAndViewports) {\n                  this.cache.nodesAndViewports = new Map();\n                }\n\n                if (!this.cache.transformedModels) {\n                  this.cache.transformedModels = new Map();\n                }\n\n                this.extendLocalization(locales);_context.next = 9;return (\n\n                  this.viewer.loadExtension('Autodesk.AEC.ViewportsExtension'));case 9:this.viewportsExtension = _context.sent;\n\n                this.viewer.addEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT, this.updateUI);\n                this.viewer.addEventListener(Autodesk.Viewing.MODEL_REMOVED_EVENT, this.updateUI);\n                this.viewportsExtension.addEventListener(Autodesk.AEC.ViewportsExtension.Events.VIEWPORT_DATA_FETCHED_EVENT, this.onViewportDataFetched);\n\n                this.viewer.addEventListener(Autodesk.Viewing.EXTENSION_LOADED_EVENT, this.onExtensionLoaded);\n                this.viewer.addEventListener(Autodesk.Viewing.EXTENSION_UNLOADED_EVENT, this.onExtensionUnloaded);\n\n                // Call onExtensionLoaded manually in order to check if the extension was already loaded.\n                this.onExtensionLoaded({ extensionId: LevelsExtensionId });return _context.abrupt(\"return\",\n\n                true);case 17:case \"end\":return _context.stop();}}}, _callee, this);}));function load() {return _load.apply(this, arguments);}return load;}() }, { key: \"unload\", value: function unload()\n\n\n    {\n      this.viewer.removeEventListener(Autodesk.Viewing.MODEL_ADDED_EVENT, this.updateUI);\n      this.viewer.removeEventListener(Autodesk.Viewing.MODEL_REMOVED_EVENT, this.updateUI);\n      this.viewportsExtension.removeEventListener(Autodesk.AEC.ViewportsExtension.Events.VIEWPORT_DATA_FETCHED_EVENT, this.onViewportDataFetched);\n\n      this.viewer.removeEventListener(Autodesk.Viewing.EXTENSION_LOADED_EVENT, this.onExtensionLoaded);\n      this.viewer.removeEventListener(Autodesk.Viewing.EXTENSION_UNLOADED_EVENT, this.onExtensionUnloaded);\n\n      // Call onExtensionUnloaded manually in order to simulate the unloading of the extension.\n      this.onExtensionUnloaded({ extensionId: LevelsExtensionId });\n\n      this.hideSelectedSheet();\n\n      this.destroyUIFor2D();\n      this.destroyUIFor3D();\n\n      this.viewer = null;\n      this.options = null;\n\n      return true;\n    } }, { key: \"onViewportDataFetched\", value: function onViewportDataFetched()\n\n    {\n      // Create UI according to new viewport data.\n      this.updateUI({ resetTransformAndViewport: false });\n    } }, { key: \"updateUI\", value: function () {var _updateUI = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {var _ref,_ref$resetTransformAn,resetTransformAndViewport,model2D,viewports,vp,_args2 = arguments;return regeneratorRuntime.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] :\n\n                {}, _ref$resetTransformAn = _ref.resetTransformAndViewport, resetTransformAndViewport = _ref$resetTransformAn === void 0 ? true : _ref$resetTransformAn;\n                model2D = getSuitable2DModel(this.viewer);if (!\n\n                model2D) {_context2.next = 24;break;} // A suitable 2D model is only returned in 2D mode\n                this.destroyUIFor3D();\n                this.createUIfor2D();\n\n                this.resetModelIfNeeded(model2D, resetTransformAndViewport);\n\n                // updateUI is called whenever there's new viewport data, so this function\n                // will return from the cached data.\n                viewports = this.getViewportsForModel(model2D);if (!\n\n                viewports.length) {_context2.next = 21;break;}\n                // Currently, only latest viewport is used\n                vp = viewports[viewports.length - 1];_context2.prev = 9;if (!(\n\n\n\n\n                vp instanceof Autodesk.AEC.ViewportsExtension.AlignmentServiceViewport)) {_context2.next = 13;break;}_context2.next = 13;return (\n                  vp.getRelatedModel3DInfo());case 13:\n\n\n                this.setButtonEnabled(true);_context2.next = 19;break;case 16:_context2.prev = 16;_context2.t0 = _context2[\"catch\"](9);\n\n                this.setButtonEnabled(false);case 19:_context2.next = 22;break;case 21:\n\n\n                this.setButtonEnabled(false);case 22:_context2.next = 26;break;case 24:\n\n\n                this.destroyUIFor2D();\n\n                if (!this.viewer.impl.is2d) {// Is 3D\n                  this.createUIfor3D();\n\n                  // Add / Remove markers according to current viewer state.\n                  this.viewer.getHiddenModels().forEach(this.removeMarkersForModel);\n                  this.viewer.getVisibleModels().forEach(this.addMarkersForModel);\n                }case 26:case \"end\":return _context2.stop();}}}, _callee2, this, [[9, 16]]);}));function updateUI() {return _updateUI.apply(this, arguments);}return updateUI;}()\n\n\n\n    /**\n                                                                                                                                                                                  * Invoked by the viewer when the toolbar UI is available.\n                                                                                                                                                                                  *\n                                                                                                                                                                                  * @param {Autodesk.Viewing.UI.ToolBar} toolbar - toolbar instance.\n                                                                                                                                                                                  *\n                                                                                                                                                                                  * @alias Autodesk.Viewing.Extensions.ModelSheetTransitionExtension#onToolbarCreated\n                                                                                                                                                                                  */ }, { key: \"onToolbarCreated\", value: function onToolbarCreated(\n    toolbar) {\n      this.updateUI();\n    }\n\n    /**\n      * @private\n      */ }, { key: \"createUIfor2D\", value: function createUIfor2D()\n    {var _this2 = this;\n      var toolbar = this.viewer.getToolbar && this.viewer.getToolbar();\n\n      if (!toolbar || this.toolbarButton) {\n        return;\n      }\n\n      var toolbarGroup = toolbar.getControl(Autodesk.Viewing.TOOLBAR.MODELTOOLSID);\n      if (!toolbarGroup) {\n        return;\n      }\n\n      // Create the button first.\n      this.toolbarButton = new Autodesk.Viewing.UI.Button('toolbar-model-sheet-transition');\n      this.toolbarButton.setToolTip('Fetching alignment information...');\n      this.toolbarButton.setIcon('viewericon-model-sheet-transition');\n      this.toolbarButton.setState(Autodesk.Viewing.UI.Button.State.DISABLED);\n      this.toolbarButton.onClick = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {var model;return regeneratorRuntime.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:if (!\n                _this2.transitionStarted) {_context3.next = 2;break;}return _context3.abrupt(\"return\");case 2:\n\n\n\n                _this2.transitionStarted = true;\n                model = getSuitable2DModel(_this2.viewer);if (\n                model) {_context3.next = 7;break;}\n                console.warn('No suitable 2D model found for sheet to model transition');return _context3.abrupt(\"return\");case 7:\n\n\n                _this2.setButtonEnabled(false, true);_context3.next = 10;return (\n                  _this2.sheetToModel.transition2Dto3D(model));case 10:\n                _this2.cache.transformedModels.set(model, model); // Save the model in cache to restore its state later (showing page, clear transform, etc.)\n                _this2.setButtonEnabled(true, true);\n\n                _this2.transitionStarted = false;case 13:case \"end\":return _context3.stop();}}}, _callee3);}));\n\n\n      toolbarGroup.addControl(this.toolbarButton);\n    } }, { key: \"setButtonEnabled\", value: function setButtonEnabled(\n\n    enabled) {var supported = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : enabled;\n      if (!this.toolbarButton) {\n        return;\n      }\n\n      var supportedTooltip = 'View drawing in 3D';\n      var unsupportedTooltip = 'Current view is not supported by View drawing in 3D';\n\n      this.toolbarButton.setState(enabled ? Autodesk.Viewing.UI.Button.State.INACTIVE : Autodesk.Viewing.UI.Button.State.DISABLED);\n      this.toolbarButton.setToolTip(supported ? supportedTooltip : unsupportedTooltip);\n    }\n\n    /**\n      * @private\n      */ }, { key: \"destroyUIFor2D\", value: function destroyUIFor2D()\n    {\n      if (!this.toolbarButton) {\n        return;\n      }\n\n      var toolbar = this.viewer.getToolbar && this.viewer.getToolbar();\n      if (!toolbar) {\n        return;\n      }\n\n      this.toolbarButton.removeFromParent();\n      this.toolbarButton = null;\n    }\n\n    /**\n       * @private\n       */ }, { key: \"createUIfor3D\", value: function createUIfor3D()\n    {var _this3 = this;\n      if (this.ui3DCreated) {\n        return;\n      }\n\n      var onHide = function onHide() {\n        if (!_this3.markers) {\n          return;\n        }\n\n        for (var key in _this3.markers) {\n          _this3.markers[key].setDefaultStyle();\n        }\n\n        // When exiting the context menu, remove any bounds plane\n        _this3.boundsPlane.lock = false;\n        _this3.boundsPlane.setVisible(false);\n      };\n\n      this.ui3D = this.options.ui3D && new this.options.ui3D(onHide) || new ModelSheetGenericUI(this.viewer, onHide);\n\n      this.boundsPlane = new BoundsPlane(this.viewer, OverlayName);\n\n      // For each 3D model in scene, search for viewports in AEC model data. TODO: Also search in alignment service.\n      var models3D = this.viewer.impl.get3DModels();\n\n      models3D.forEach(this.addMarkersForModel);\n\n      this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.updateMarkersClientLocation);\n      this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.updateMarkersClientLocation);\n      this.viewer.addEventListener(Autodesk.Viewing.MODEL_VIEWPORT_BOUNDS_CHANGED_EVENT, this.updateMarkers);\n      this.viewer.addEventListener(Autodesk.Viewing.MODEL_TRANSFORM_CHANGED_EVENT, this.updateMarkers);\n\n      this.ui3DCreated = true;\n    } }, { key: \"addMarkersForModel\", value: function () {var _addMarkersForModel = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(\n\n      model) {var _this4 = this;var relatedViewports, vpKeys, keysToRemove;return regeneratorRuntime.wrap(function _callee4$(_context4) {while (1) {switch (_context4.prev = _context4.next) {case 0:if (!(\n                !model.is3d() || !model.getDocumentNode())) {_context4.next = 2;break;}return _context4.abrupt(\"return\");case 2:\n\n\n\n                relatedViewports = this.getViewportsForModel(model);\n\n                // If we are during model to sheet transition - there is no need to add 3D markers, since they will soon be gone anyway.\n                if (!this.duringModelToSheetTransition) {_context4.next = 5;break;}return _context4.abrupt(\"return\");case 5:if (\n\n\n\n\n                this.viewer.impl.findModel(model.id)) {_context4.next = 7;break;}return _context4.abrupt(\"return\");case 7:\n\n\n\n                // Remove any markers that don't exist anymore\n                vpKeys = relatedViewports.map(function (vp) {return vp.getGuid();});\n                keysToRemove = this.getMarkersKeysForModel(model).filter(function (key) {return !vpKeys.includes(key);});\n\n                keysToRemove.forEach(function (key) {return _this4.removeMarker(key);});\n\n                // Add new markers\n                relatedViewports.forEach(function (vp) {\n                  var vpGuid = vp.getGuid();\n\n                  // Marker already exists for this viewport.\n                  if (_this4.markers[vpGuid]) {\n                    return;\n                  }\n\n                  var marker = new ModelSheet3DMarker(_this4, vp, model, _this4.ui3D, _this4.areMarkersVisible);\n                  _this4.markers[vpGuid] = marker;\n\n                  // In case that we just created the marker of the currently selected viewport - make it selected.\n                  if (_this4.getSelectedViewportGuid() === vpGuid) {\n                    marker.setMarkerSelected(true);\n                  }\n                });case 11:case \"end\":return _context4.stop();}}}, _callee4, this);}));function addMarkersForModel(_x) {return _addMarkersForModel.apply(this, arguments);}return addMarkersForModel;}() }, { key: \"getSelectedViewportGuid\", value: function getSelectedViewportGuid()\n\n\n    {var _this$_selectedViewpo;\n      var isGuid = typeof this._selectedViewportOrGuid === 'string';\n\n      return isGuid ? this._selectedViewportOrGuid : (_this$_selectedViewpo = this._selectedViewportOrGuid) === null || _this$_selectedViewpo === void 0 ? void 0 : _this$_selectedViewpo.getGuid();\n    } }, { key: \"getSelectedViewport\", value: function getSelectedViewport()\n\n    {\n      var isGuid = typeof this._selectedViewportOrGuid === 'string';\n\n      if (!isGuid) {\n        return this._selectedViewportOrGuid;\n      }\n\n      // If it's a guid, need to search the corresponding viewport\n      var vp = this.viewportsExtension.findViewportByGuid(this._selectedViewportOrGuid);\n\n      if (vp) {\n        // Update so we don't need to search again\n        this._selectedViewportOrGuid = vp;\n\n        return vp;\n      }\n\n      return null;\n    } }, { key: \"setSelectedViewport\", value: function setSelectedViewport(\n\n    viewportOrGuid) {\n      this._selectedViewportOrGuid = viewportOrGuid;\n    } }, { key: \"removeMarkersForModel\", value: function removeMarkersForModel(\n\n    model) {var _this5 = this;\n      if (!model.getDocumentNode()) {\n        return;\n      }\n\n      var keys = this.getMarkersKeysForModel(model);\n\n      keys.forEach(function (key) {return _this5.removeMarker(key);});\n    }\n\n    // Returns an array with the keys for this model\n  }, { key: \"getMarkersKeysForModel\", value: function getMarkersKeysForModel(model) {var _this6 = this;\n      if (!model.is3d()) {\n        return [];\n      }\n\n      return Object.keys(this.markers).filter(function (key) {\n        var marker = _this6.markers[key];\n        return marker.model3D === model;\n      });\n    } }, { key: \"removeMarker\", value: function removeMarker(\n\n    key) {\n      this.markers[key].destroy();\n      delete this.markers[key];\n    } }, { key: \"showSheetAndSetTransform\", value: function () {var _showSheetAndSetTransform = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(\n\n      node, viewport, model3D) {var model, unitScale, viewportBounds, matrix, model3DMatrix, clearSelectedFloor;return regeneratorRuntime.wrap(function _callee5$(_context5) {while (1) {switch (_context5.prev = _context5.next) {case 0:\n                this.setSelectedViewport(viewport);_context5.next = 3;return (\n\n                  this.loadModel(node));case 3:model = _context5.sent;\n\n                this.cache.transformedModels.set(model, model); // Save the model in cache to restore its state later (showing page, clear transform, etc.)\n\n                unitScale = model.getUnitScale();\n                viewportBounds = viewport.getViewportBounds(unitScale);\n                matrix = viewport.get2DTo3DMatrix(unitScale);\n\n                if (viewport.isMatrixInLocalCoords()) {\n                  model3DMatrix = model3D.getModelToViewerTransform();\n\n                  if (model3DMatrix) {\n                    matrix = new THREE.Matrix4().multiplyMatrices(model3DMatrix, matrix);\n                  }\n                }\n\n                model.setPlacementTransform(matrix);\n                model.setViewportBounds(this.viewer.impl.matman(), viewportBounds);\n\n                clearSelectedFloor = viewport.isTopViewViewport();\n                setCutPlane(this.viewer, matrix, clearSelectedFloor);\n\n                model.changePaperVisibility(false);\n                this.viewer.impl.setDoNotCut(model, true);\n\n                // Show model only when everything is ready\n                this.showModel(node);return _context5.abrupt(\"return\",\n\n                model);case 17:case \"end\":return _context5.stop();}}}, _callee5, this);}));function showSheetAndSetTransform(_x2, _x3, _x4) {return _showSheetAndSetTransform.apply(this, arguments);}return showSheetAndSetTransform;}() }, { key: \"hideSelectedSheet\", value: function hideSelectedSheet()\n\n\n\n    {var _this$selectedMarker;\n      (_this$selectedMarker = this.selectedMarker) === null || _this$selectedMarker === void 0 ? void 0 : _this$selectedMarker.hideSheet();\n    } }, { key: \"onMarkerSelected\", value: function onMarkerSelected(\n\n    marker) {\n      // Hide previously selected node\n      this.hideSelectedSheet();\n\n      this.selectedMarker = marker;\n    } }, { key: \"onMarkerDeselected\", value: function onMarkerDeselected(\n\n    marker) {\n      // Make sure that another marker hasn't taken the spot first\n      if (marker === this.selectedMarker) {\n        this.selectedMarker = null;\n      }\n    } }, { key: \"setAllMarkersVisible\", value: function setAllMarkersVisible(\n\n    isVisible) {\n      if (this.areMarkersVisible === isVisible) {\n        return;\n      }\n\n      this.areMarkersVisible = isVisible;\n\n      for (var key in this.markers) {\n        this.markers[key].setVisible(isVisible);\n      }\n    } }, { key: \"hideSheet\", value: function hideSheet(\n\n    node) {\n      this.setSelectedViewport(null);\n      var model = this.viewer.impl.findModel(node);\n\n      if (model) {\n        resetModelTransformAndViewport(this.viewer, model);\n      }\n\n      this.hideModel(node);\n    }\n\n    /**\n       * @private\n       */ }, { key: \"destroyUIFor3D\", value: function destroyUIFor3D()\n    {\n      if (!this.ui3DCreated) {\n        return;\n      }\n\n      this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.updateMarkersClientLocation);\n      this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.updateMarkersClientLocation);\n      this.viewer.removeEventListener(Autodesk.Viewing.MODEL_VIEWPORT_BOUNDS_CHANGED_EVENT, this.updateMarkers);\n      this.viewer.removeEventListener(Autodesk.Viewing.MODEL_TRANSFORM_CHANGED_EVENT, this.updateMarkers);\n\n      for (var key in this.markers) {\n        this.markers[key].destroy();\n      }\n\n      this.boundsPlane.destroy();\n      this.boundsPlane = null;\n\n      this.markers = {};\n      this.selectedMarker = null;\n      this.setSelectedViewport(null);\n\n      this.ui3DCreated = false;\n    }\n\n    // Update the element's location when the camera moves\n  }, { key: \"updateMarkersClientLocation\", value: function updateMarkersClientLocation() {\n      if (!this.markers) {\n        return;\n      }\n\n      for (var key in this.markers) {\n        this.markers[key].updateClientLocation();\n      }\n    }\n\n    // When the bounds move, the marker's world position needs to be readjusted\n  }, { key: \"updateMarkers\", value: function updateMarkers() {\n      if (!this.markers) {\n        return;\n      }\n\n      for (var key in this.markers) {\n        this.markers[key].update();\n      }\n    }\n\n    // If this model was changed due to a transition, reset those changes\n  }, { key: \"resetModelIfNeeded\", value: function resetModelIfNeeded(model) {var _this7 = this;var resetTransformAndViewport = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (!this.cache.transformedModels.has(model)) {\n        return false;\n      }\n\n      if (resetTransformAndViewport) {\n        // Set camera to a top view position. The initial value is not important,\n        // since fitToBounds will fix that afterwards.\n        this.viewer.navigation.setView(this.defaultPosition2D, this.defaultTarget2D);\n        this.viewer.navigation.orientCameraUp(true);\n\n        resetModelTransformAndViewport(this.viewer, model);\n        fitToBounds(this.viewer, model);\n      }\n\n      // Make sure home view is synced (since we are changing the transform after the model has been added)\n      // Wait for next frame to make sure view is updated\n      setTimeout(function () {return _this7.viewer.impl.controls.recordHomeView();});\n\n      this.cache.transformedModels.delete(model);\n\n      return true;\n    } }, { key: \"getViewportsForModelAsync\", value: function () {var _getViewportsForModelAsync = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(\n\n      model) {var viewports;return regeneratorRuntime.wrap(function _callee6$(_context6) {while (1) {switch (_context6.prev = _context6.next) {case 0:_context6.next = 2;return (\n                  this.viewportsExtension.getViewportsAsync(model.getDocumentNode(), { onlyTopViewPlans: false }));case 2:viewports = _context6.sent;\n\n                if (this.options.useOnlyAecModelDataViewports) {\n                  viewports = viewports.filter(function (viewport) {return viewport instanceof Autodesk.AEC.ViewportsExtension.AecModelDataViewport;});\n                }return _context6.abrupt(\"return\",\n\n                viewports);case 5:case \"end\":return _context6.stop();}}}, _callee6, this);}));function getViewportsForModelAsync(_x5) {return _getViewportsForModelAsync.apply(this, arguments);}return getViewportsForModelAsync;}() }, { key: \"getViewportsForModel\", value: function getViewportsForModel(\n\n\n    model) {\n      var viewports = this.viewportsExtension.getViewports(model.getDocumentNode(), { onlyTopViewPlans: false });\n\n      if (this.options.useOnlyAecModelDataViewports) {\n        viewports = viewports.filter(function (viewport) {return viewport instanceof Autodesk.AEC.ViewportsExtension.AecModelDataViewport;});\n      }\n\n      return viewports;\n    }\n\n    // Given a 2D sheet (and optionally a viewport guid), returns a bubbleNode of the 3D node that it's attached to.\n  }, { key: \"getNodeAndViewport\", value: function () {var _getNodeAndViewport = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(model2D, vpGuid) {var viewports, viewport, nodes, bubbleNode3D;return regeneratorRuntime.wrap(function _callee7$(_context7) {while (1) {switch (_context7.prev = _context7.next) {case 0:_context7.next = 2;return (\n                  this.getViewportsForModelAsync(model2D));case 2:viewports = _context7.sent;\n\n                // For now we don't have the option to select a viewport, so always take the latest one\n                viewport = vpGuid ?\n                viewports.find(function (vp) {return vp.getGuid() === vpGuid;}) :\n                viewports[viewports.length - 1];if (\n\n                this.cache.nodesAndViewports.has(viewport)) {_context7.next = 11;break;}_context7.next = 7;return (\n                  viewport.get3DNodesForViewport());case 7:nodes = _context7.sent;\n                bubbleNode3D = nodes[0];\n\n                model2D.regionId = viewport.getGuid(); // Save in model, in case the sheet is realigned (so it won't create a new region)\n\n                this.cache.nodesAndViewports.set(viewport, { viewport: viewport, bubbleNode: bubbleNode3D });case 11:return _context7.abrupt(\"return\",\n\n\n                this.cache.nodesAndViewports.get(viewport));case 12:case \"end\":return _context7.stop();}}}, _callee7, this);}));function getNodeAndViewport(_x6, _x7) {return _getNodeAndViewport.apply(this, arguments);}return getNodeAndViewport;}()\n\n\n    // Default displayError function. Can be overriden through options\n  }, { key: \"_displayError\", value: function _displayError(message) {\n      Autodesk.Viewing.Private.AlertBox.displayError(this.viewer.container, message, 'Model Sheet Transition');\n    } }, { key: \"transitionModelToSheet\", value: function () {var _transitionModelToSheet = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(\n\n      model) {return regeneratorRuntime.wrap(function _callee8$(_context8) {while (1) {switch (_context8.prev = _context8.next) {case 0:\n                this.duringModelToSheetTransition = true;\n                this.destroyUIFor3D();_context8.next = 4;return (\n                  this.modelToSheet.transition3Dto2D(model));case 4:\n                this.duringModelToSheetTransition = false;case 5:case \"end\":return _context8.stop();}}}, _callee8, this);}));function transitionModelToSheet(_x8) {return _transitionModelToSheet.apply(this, arguments);}return transitionModelToSheet;}() }, { key: \"onExtensionLoaded\", value: function onExtensionLoaded(_ref3)\n\n\n    {var extensionId = _ref3.extensionId;\n      if (extensionId === LevelsExtensionId) {\n        var levelsExtension = this.viewer.getExtension(LevelsExtensionId);\n\n        // Register to SELECTED_FLOOR_CHANGED event only if LevelsExtension is being loaded eventually.\n        if (levelsExtension) {\n          levelsExtension.floorSelector.addEventListener(Autodesk.AEC.FloorSelector.SELECTED_FLOOR_CHANGED, this.onSelectedFloorChanged);\n        }\n      }\n    } }, { key: \"onExtensionUnloaded\", value: function onExtensionUnloaded(_ref4)\n\n    {var extensionId = _ref4.extensionId;\n      if (extensionId === LevelsExtensionId) {\n\n        var levelsExtension = this.viewer.getExtension(LevelsExtensionId);\n\n        if (levelsExtension) {var _levelsExtension$floo;\n          (_levelsExtension$floo = levelsExtension.floorSelector) === null || _levelsExtension$floo === void 0 ? void 0 : _levelsExtension$floo.removeEventListener(Autodesk.AEC.FloorSelector.SELECTED_FLOOR_CHANGED, this.onSelectedFloorChanged);\n        }\n      }\n    } }, { key: \"onSelectedFloorChanged\", value: function onSelectedFloorChanged()\n\n    {var _this$getSelectedView;\n      // In case that we are currently viewing a top-view viewport (z aligned), and a level was\n      // selected by the levels extension, clean the section plane that we applied for the viewport.\n      // Otherwise we might get a scenario when the entire model is cut.\n      if ((_this$getSelectedView = this.getSelectedViewport()) === null || _this$getSelectedView === void 0 ? void 0 : _this$getSelectedView.isTopViewViewport()) {\n        var sectionExtension = this.viewer.getExtension('Autodesk.Section');\n        sectionExtension === null || sectionExtension === void 0 ? void 0 : sectionExtension.setSectionFromPlane(null);\n      }\n    } }]);return ModelSheetTransitionExtension;}(Autodesk.Viewing.Extension);export { ModelSheetTransitionExtension as default };\n\n\nnamespace.ModelSheetTransitionExtension = ModelSheetTransitionExtension;\nnamespace.AnalyticsEventName = AnalyticsEventName;\n\n// Register the extension with the extension manager.\nAutodesk.Viewing.theExtensionManager.registerExtension(extensionName, ModelSheetTransitionExtension);","/**\n * Include each locale json file and return it in an object\n * that can be consumed by i18n\n */\n\nimport json_en from '../../res/locales/en/nobundle-modelSheetTransition.loc.json';\n\nexport var locales = {\n  en: json_en };","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);}_next(undefined);});};}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}import { SHOW_DURATION } from './ModelSheetConstants';\nimport { setCutPlane, fitAfterTransformImmediate, fitCameraToSheet, setViewportBounds } from './ModelSheetCommon';var\n\nModelToSheet = /*#__PURE__*/function () {\n  function ModelToSheet(extension) {_classCallCheck(this, ModelToSheet);\n    this.ext = extension;\n    this.viewer = extension.viewer;\n  }_createClass(ModelToSheet, [{ key: \"transition3Dto2D\", value: function () {var _transition3Dto2D = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(\n\n      model) {var _this = this;var matrix, invMatrix, otherModels;return regeneratorRuntime.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:if (!\n                this.viewer.impl.is2d) {_context.next = 2;break;}return _context.abrupt(\"return\");case 2:\n\n\n\n                matrix = model.getPlacementTransform();\n                invMatrix = new Autodesk.Viewing.Private.LmvMatrix4(matrix.isDoublePrecision).getInverse(matrix);\n                this.viewer.setNavigationLock(true);_context.next = 7;return (\n\n                  setCutPlane(this.viewer, matrix));case 7:_context.next = 9;return (\n\n                  fitCameraToSheet(this.viewer, model));case 9:\n\n                // Hide other models\n                otherModels = this.viewer.getVisibleModels().filter(function (m) {return m !== model;});\n                otherModels.forEach(function (m) {return _this.ext.hideModel(m.getDocumentNode());});\n\n                // Show paper and restore viewport\n                this.viewer.impl.changePaperVisibility(model, true, true, null, SHOW_DURATION);_context.next = 14;return (\n                  setViewportBounds(this.viewer, model, null, SHOW_DURATION));case 14:\n\n                // Reset transform\n                this.viewer.impl.setPlacementTransform(model, new THREE.Matrix4());\n                this.viewer.impl.invalidate(true);\n                fitAfterTransformImmediate(this.viewer, invMatrix);\n\n                this.ext.updateUI({ resetTransformAndViewport: false });\n\n                this.viewer.impl.setDoNotCut(model, false);\n\n                this.viewer.setNavigationLock(false);case 20:case \"end\":return _context.stop();}}}, _callee, this);}));function transition3Dto2D(_x) {return _transition3Dto2D.apply(this, arguments);}return transition3Dto2D;}() }]);return ModelToSheet;}();export { ModelToSheet as default };","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);}_next(undefined);});};}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}import { HIDE_DURATION } from './ModelSheetConstants';\nimport { setCutPlane, setViewportBounds, fitAfterTransformImmediate, fitToBoundsWithAnimation } from './ModelSheetCommon';var\n\nSheetToModel = /*#__PURE__*/function () {\n  function SheetToModel(extension) {_classCallCheck(this, SheetToModel);\n    this.ext = extension;\n    this.viewer = extension.viewer;\n  }_createClass(SheetToModel, [{ key: \"transition2Dto3D\", value: function () {var _transition2Dto3D = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(\n\n      model2D) {var nodeAndViewportPromise, bubbleNode, viewport, _yield$nodeAndViewpor, model3D, unitScale, matrix, modelToViewerTransform, viewportBounds;return regeneratorRuntime.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:if (\n                this.viewer.impl.is2d) {_context.next = 2;break;}return _context.abrupt(\"return\");case 2:\n\n\n\n                // Start fetching the transforms\n                nodeAndViewportPromise = this.ext.getNodeAndViewport(model2D);\n\n                // First transition to showing whole sheet. Lock navigation until transition is finished.\n                this.viewer.setNavigationLock(true);_context.next = 6;return (\n                  fitToBoundsWithAnimation(this.viewer, model2D));case 6:_context.prev = 6;_context.next = 9;return (\n\n\n\n\n                  nodeAndViewportPromise);case 9:_yield$nodeAndViewpor = _context.sent;bubbleNode = _yield$nodeAndViewpor.bubbleNode;viewport = _yield$nodeAndViewpor.viewport;_context.next = 20;break;case 14:_context.prev = 14;_context.t0 = _context[\"catch\"](6);\n\n                // Restore navigation\n                this.viewer.setNavigationLock(false);\n\n                this.ext.displayError(Autodesk.Viewing.i18n.translate('No suitable model found for transition.'));\n                console.warn(_context.t0);return _context.abrupt(\"return\");case 20:\n\n\n\n                // Prevent sheets from getting cut by cutplanes\n                this.viewer.impl.setDoNotCut(model2D, true);\n\n                this.ext.setSelectedViewport(viewport);\n\n                // Show the 3D model\n                _context.next = 24;return this.ext.showModel(bubbleNode);case 24:model3D = _context.sent;\n\n                unitScale = model2D.getUnitScale();\n                matrix = viewport.get2DTo3DMatrix(unitScale);\n\n                if (viewport.isMatrixInLocalCoords()) {\n                  modelToViewerTransform = model3D.getModelToViewerTransform();\n                  if (modelToViewerTransform) {\n                    matrix = matrix.clone().multiplyMatrices(modelToViewerTransform, matrix);\n                  }\n                }\n\n                // Set the transform to the sheet\n                model2D.setPlacementTransform(matrix);\n                fitAfterTransformImmediate(this.viewer, matrix);\n\n                // Define a cutplane with the sheet's plane, so that it's fully visible and not occluded by the model when we start\n                // This cutplane can then be moved in the sheet's normal axis.\n                _context.next = 32;return setCutPlane(this.viewer, matrix);case 32:\n\n                // Navigation is free from this point\n                this.viewer.setNavigationLock(false);\n\n                // Hide paper and crop to viewport\n                this.viewer.impl.changePaperVisibility(model2D, false, true, null, HIDE_DURATION);\n\n                viewportBounds = viewport.getViewportBounds(unitScale);if (!\n\n                viewportBounds) {_context.next = 38;break;}_context.next = 38;return (\n                  setViewportBounds(this.viewer, model2D, viewportBounds, HIDE_DURATION));case 38:\n\n\n                Autodesk.Viewing.Private.analytics.track(Autodesk.ModelSheetTransition.AnalyticsEventName, {\n                  action: 'View',\n                  alignment: viewport instanceof Autodesk.AEC.ViewportsExtension.AecModelDataViewport ? 'Automatic' : 'Manual',\n                  from: 'Sheet',\n                  file_2d_extension: model2D.getDocumentNode().getInputFileType(),\n                  file_3d_extension: bubbleNode.getInputFileType() });case 39:case \"end\":return _context.stop();}}}, _callee, this, [[6, 14]]);}));function transition2Dto3D(_x) {return _transition2Dto3D.apply(this, arguments);}return transition2Dto3D;}() }]);return SheetToModel;}();export { SheetToModel as default };","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);}_next(undefined);});};}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var ModelSheet3DMarker = /*#__PURE__*/function () {\n  function ModelSheet3DMarker(extension, viewport, model3D, ui, isVisible) {_classCallCheck(this, ModelSheet3DMarker);\n    this.extension = extension;\n    this.viewer = extension.viewer;\n    this.viewport = viewport;\n    this.model3D = model3D;\n    this.ui = ui;\n\n    // Generic shared plane to use when sheet is not visible\n    this.boundsPlane = extension.boundsPlane;\n\n    // Bounded functions\n    this.onShowHide = this.onShowHide.bind(this);\n    this.onGoToSheet = this.onGoToSheet.bind(this);\n    this.update = this.update.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseWheel = this.onMouseWheel.bind(this);\n\n    this.matrix = new THREE.Matrix4();\n\n    this.calculateMatrixAndBounds();\n    this.createAndAddMarker();\n    this.setVisible(isVisible);\n  }_createClass(ModelSheet3DMarker, [{ key: \"calculateMatrixAndBounds\", value: function calculateMatrixAndBounds()\n\n    {\n      // The functions getViewportBounds() and get3DTo2DMatrix() work in sheet-space, so that they require\n      // the sheetUnitScale - which we don't know before loading the sheet (here we only have a reference for the 3D model).\n      //\n      // But, since we only care about the relative position of the viewport inside the sheet, we can use a dummy unit scale here.\n      var dummyScale = 1.0;\n      this.viewportBounds = this.viewport.getViewportBounds(dummyScale);\n      this.viewportMatrix = this.viewport.get2DTo3DMatrix(dummyScale);\n    } }, { key: \"createAndAddMarker\", value: function createAndAddMarker()\n\n    {\n      // Guid is added to the hash to allow multiple copies of the same sheet to be loaded, with different placements\n      this.button = new Autodesk.Viewing.UI.Button(\"mst-b-\".concat(this.viewport.getGuid()));\n      this.button.setToolTip(this.viewport.getName());\n\n      this.container = this.button.container;\n      this.container.classList.add('hyper-sheet-marker', 'hyper-sheet-marker-icon');\n      // The icon class adds some styling we don't need (and enlarges the click area)\n      this.button.icon.remove(\"adsk-button-icon\");\n\n      this.container.addEventListener('click', this.onClick);\n      this.container.addEventListener('mouseenter', this.onMouseEnter);\n      this.container.addEventListener('mouseleave', this.onMouseLeave);\n      this.container.addEventListener('mousewheel', this.onMouseWheel);\n\n      this.viewer.container.appendChild(this.container);\n\n      this.update();\n    } }, { key: \"setVisible\", value: function setVisible(\n\n    isVisible) {var _this$button;\n      (_this$button = this.button) === null || _this$button === void 0 ? void 0 : _this$button.setVisible(isVisible);\n    } }, { key: \"setDefaultStyle\", value: function setDefaultStyle()\n\n    {\n      this.container.classList.remove('clicked');\n    } }, { key: \"onClick\", value: function onClick(\n\n    e) {\n      this.boundsPlane.lock = true;\n      var viewport = this.viewer.container.getBoundingClientRect();\n\n      // Normalize Hammer events\n      if (Array.isArray(e.changedPointers) && e.changedPointers.length > 0) {\n        e.clientX = e.changedPointers[0].clientX;\n        e.clientY = e.changedPointers[0].clientY;\n      }\n\n      var x = e.clientX - viewport.left;\n      var y = e.clientY - viewport.top;\n\n      this.container.classList.add('clicked');\n\n      this.ui.show({ x: x, y: y }, this.isSheetVisible, this.onShowHide, this.onGoToSheet);\n    } }, { key: \"onShowHide\", value: function onShowHide()\n\n    {\n      var from = 'Marker';\n\n      if (this.isSheetVisible) {\n        this.hideSheet(from);\n      } else {\n        this.showSheet(from);\n      }\n    } }, { key: \"getNode\", value: function () {var _getNode = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {return regeneratorRuntime.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:\n\n\n                if (!this.nodePromise) {\n                  this.nodePromise = this.viewport.getParentSheetNode();\n                }_context.next = 3;return (\n\n                  this.nodePromise);case 3:return _context.abrupt(\"return\", _context.sent);case 4:case \"end\":return _context.stop();}}}, _callee, this);}));function getNode() {return _getNode.apply(this, arguments);}return getNode;}() }, { key: \"setMarkerSelected\", value: function setMarkerSelected(\n\n\n    isSelected) {\n      if (isSelected) {\n        this.container.classList.add('selected');\n        this.isSheetVisible = true;\n        this.extension.onMarkerSelected(this);\n      } else {\n        this.container.classList.remove('selected');\n        this.isSheetVisible = false;\n        this.extension.onMarkerDeselected(this);\n      }\n    } }, { key: \"hideSheet\", value: function () {var _hideSheet = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(\n\n      from) {var node;return regeneratorRuntime.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:if (\n                this.isSheetVisible) {_context2.next = 2;break;}return _context2.abrupt(\"return\");case 2:_context2.next = 4;return (\n\n\n\n                  this.getNode());case 4:node = _context2.sent;\n                this.extension.hideSheet(node);\n                this.setMarkerSelected(false);\n\n                this.reportAnalytics('Hide', from, node);case 8:case \"end\":return _context2.stop();}}}, _callee2, this);}));function hideSheet(_x) {return _hideSheet.apply(this, arguments);}return hideSheet;}() }, { key: \"showSheet\", value: function () {var _showSheet = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(\n\n\n      from) {var node, model;return regeneratorRuntime.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:if (!\n                this.isSheetVisible) {_context3.next = 2;break;}return _context3.abrupt(\"return\");case 2:\n\n\n\n                this.setMarkerSelected(true);_context3.next = 5;return (\n\n                  this.getNode());case 5:node = _context3.sent;_context3.next = 8;return (\n                  this.extension.showSheetAndSetTransform(node, this.viewport, this.model3D));case 8:model = _context3.sent;\n\n                this.reportAnalytics('View', from, node);\n\n                // Make sure that model should still be visible at this step (maybe someone clicked showSheet & hideSheet fast enough so by this point it should be hidden again). \n                if (this.isSheetVisible) {_context3.next = 13;break;}\n                this.extension.hideModel(node);return _context3.abrupt(\"return\",\n                null);case 13:return _context3.abrupt(\"return\",\n\n\n                model);case 14:case \"end\":return _context3.stop();}}}, _callee3, this);}));function showSheet(_x2) {return _showSheet.apply(this, arguments);}return showSheet;}() }, { key: \"onGoToSheet\", value: function () {var _onGoToSheet = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {var model;return regeneratorRuntime.wrap(function _callee4$(_context4) {while (1) {switch (_context4.prev = _context4.next) {case 0:_context4.next = 2;return (\n\n\n\n                  this.getModel());case 2:model = _context4.sent;if (!(\n                !this.isSheetVisible || !model)) {_context4.next = 7;break;}_context4.next = 6;return (\n                  this.showSheet());case 6:model = _context4.sent;case 7:\n\n\n                this.extension.transitionModelToSheet(model);case 8:case \"end\":return _context4.stop();}}}, _callee4, this);}));function onGoToSheet() {return _onGoToSheet.apply(this, arguments);}return onGoToSheet;}() }, { key: \"onMouseEnter\", value: function onMouseEnter()\n\n\n    {var _this = this;\n      if (this.isSheetVisible) {\n        return;\n      }\n\n      this.enterTimeout = setTimeout(function () {\n        _this.addPlane();\n      }, 300);\n    } }, { key: \"onMouseLeave\", value: function onMouseLeave()\n\n    {\n      if (!this.boundsPlane.lock) {\n        clearTimeout(this.enterTimeout);\n        this.enterTimeout = null;\n        this.removePlane();\n      }\n    } }, { key: \"addPlane\", value: function addPlane()\n\n    {\n      // When the sheet is not visible, show a plane to give a sense of its dimensions\n      var min = new THREE.Vector3(this.viewportBounds.min.x, this.viewportBounds.min.y, 0);\n      var max = new THREE.Vector3(this.viewportBounds.max.x, this.viewportBounds.max.y, 0);\n      var bbox = new THREE.Box3(min, max);\n\n      var size = bbox.size();\n      var scaleMatrix = new THREE.Matrix4().makeScale(size.x, size.y, 1);\n      scaleMatrix.setPosition(bbox.getCenter());\n      var matrix = this.matrix.clone();\n      matrix.multiply(scaleMatrix);\n\n      if (this.viewport.isMatrixInLocalCoords()) {\n        var model3DTransform = this.model3D.getModelToViewerTransform();\n        if (model3DTransform) {\n          matrix.multiplyMatrices(model3DTransform, matrix);\n        }\n      }\n\n      this.boundsPlane.setFromMatrix(matrix);\n      this.boundsPlane.setVisible(true);\n    } }, { key: \"removePlane\", value: function removePlane()\n\n    {\n      this.boundsPlane.setVisible(false);\n    } }, { key: \"onMouseWheel\", value: function onMouseWheel(\n\n    e) {\n      // Propagate mouse wheel event to viewer\n      this.viewer.toolController.mousewheel(e);\n    } }, { key: \"getModel\", value: function () {var _getModel = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {var node, models, model;return regeneratorRuntime.wrap(function _callee5$(_context5) {while (1) {switch (_context5.prev = _context5.next) {case 0:_context5.next = 2;return (\n\n\n                  this.getNode());case 2:node = _context5.sent;\n\n                models = this.viewer.getAllModels();\n                model = models.find(function (m) {\n                  return m.getDocumentNode() === node;\n                });return _context5.abrupt(\"return\",\n\n                model);case 6:case \"end\":return _context5.stop();}}}, _callee5, this);}));function getModel() {return _getModel.apply(this, arguments);}return getModel;}() }, { key: \"setWorldPosition\", value: function setWorldPosition()\n\n\n    {\n      var maxX = this.viewportBounds.max.x;\n      var minY = this.viewportBounds.min.y;\n\n      this.matrix.copy(this.viewportMatrix);\n\n      var bottomRight = new THREE.Vector3(maxX, minY, 0.0).applyMatrix4(this.matrix);\n\n      if (this.viewport.isMatrixInLocalCoords()) {\n        var model3DTransform = this.model3D.getModelToViewerTransform();\n        if (model3DTransform) {\n          bottomRight.applyMatrix4(model3DTransform);\n        }\n      }\n\n      this.location = bottomRight;\n    } }, { key: \"updateClientLocation\", value: function updateClientLocation()\n\n    {\n      var pos = this.viewer.impl.worldToClient(this.location);\n\n      this.container.style.transform = \"translate(\".concat(pos.x, \"px, \").concat(pos.y, \"px)\");\n    } }, { key: \"update\", value: function update()\n\n    {\n      this.setWorldPosition();\n      this.updateClientLocation();\n    } }, { key: \"destroy\", value: function destroy()\n\n    {\n      if (this.container) {\n        this.viewer.container.removeChild(this.container);\n      }\n\n      this.button = null;\n    } }, { key: \"reportAnalytics\", value: function reportAnalytics(\n\n    action, from, node) {\n      if (!action || !from || !node) {\n        return;\n      }\n\n      Autodesk.Viewing.Private.analytics.track(Autodesk.ModelSheetTransition.AnalyticsEventName, {\n        action: action,\n        alignment: this.viewport instanceof Autodesk.AEC.ViewportsExtension.AecModelDataViewport ? 'Automatic' : 'Manual',\n        from: from,\n        file_2d_extension: node.getInputFileType(),\n        file_3d_extension: this.model3D.getDocumentNode().getInputFileType() });\n\n    } }]);return ModelSheet3DMarker;}();export { ModelSheet3DMarker as default };","function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;} /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              UI needs to receive the location to display (not dynamic - clicking outside closes the menu)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              UI needs to receive the urn / or bubble (see utils in UI repo) to show the correct thumbnail\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              UI needs to receive state of sheet (is it shown/hidden)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              UI needs to receive 2 callbacks to run when show/hide is called, and when go to sheet is called\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              */var\n\nModelSheetGenericUI = /*#__PURE__*/function () {\n  function ModelSheetGenericUI(viewer, onHide) {_classCallCheck(this, ModelSheetGenericUI);\n    this.viewer = viewer;\n    this.ctxMenu = new Autodesk.Viewing.Private.ContextMenu(this.viewer, { onHide: onHide });\n  }_createClass(ModelSheetGenericUI, [{ key: \"show\", value: function show(\n\n    position, isVisible, onShowHide, onGoToSheet) {var\n      x = position.x,y = position.y;\n\n      var menu = [];\n      menu.push({\n        icon: isVisible ? 'viewericon-model-sheet-eye-hide' : 'viewericon-model-sheet-eye-show',\n        title: isVisible ? 'Hide sheet' : 'Show sheet',\n        target: onShowHide });\n\n      menu.push({\n        icon: 'viewericon-model-sheet-sheet',\n        title: 'Go to sheet',\n        target: onGoToSheet });\n\n\n      this.ctxMenu.showMenu(menu, x, y);\n      this.ctxMenu.open = true;\n    } }]);return ModelSheetGenericUI;}();export { ModelSheetGenericUI as default };","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".viewericon-model-sheet-transition:before {\\n  font-family: 'modelSheetTransitionIcon';\\n  content: \\\"M\\\"; }\\n\\n@font-face {\\n  font-family: 'modelSheetTransitionIcon';\\n  src: url(\\\"data:application/font-woff;base64,d09GRgABAAAAAAP8AAoAAAAABjgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAD4AAABWVsFjP2NtYXAAAAE0AAAAPAAAAUoArAFrZ2x5ZgAAAXAAAADAAAAAwMOBpSJoZWFkAAACMAAAACsAAAA2GlHbmWhoZWEAAAJcAAAAGwAAACQIPQQDaG10eAAAAngAAAAIAAAACAgAAABsb2NhAAACgAAAAAYAAAAGAGAAAG1heHAAAAKIAAAAIAAAACABEABGbmFtZQAAAqgAAAE7AAACbdWMZSRwb3N0AAAD5AAAABUAAAApARAAAHicY2BkYWCcwMDKwMHUyXSGgYGhH0IzvmYwYuRgYGBiYGVmwAoC0lxTGBwYfBl8WUDcGBaIMCOIAACZnwe0AAB4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZiALN///8EqwPT/LVD1QMDIxkBdwEhYyWADAMFRBxMABAAAAAAD4AQAACEAKQAxADkAAAEuAicjJSMmIgcFBgcGBxQVER4BFwUXMyU+ATURNCc4AQEmLwERBREwEyYvASUNATABBg8BESURMAPeAQUFAwP+SQUJFQn+TQYEBwUBDQsBsQ0ZAbcLDQL9+BacsgFkKhaUqgFUAVP+rQGNF5yyAWUDFAUHBgPSBQXNBAcGCQUG/eEMFAXABcIFFAwCIgUG/VQJRU8BxJ3+PAILCkJLoaGX/pIKRU4BxJ3+PAB4nGNgZGBgAOKs5tdr4/ltvjJwszCAwO2Vp/2QaeYHYHEOBiYQBQBAlgphAHicY2BkYGBhAIIYMMnA/ICBkQEVMAEAG9IBTAAEAAAABAAAAAAAAAAAYAAAAAEAAAACADoABAAAAAAAAgAAAAoACgAAAP8AAAAAAAB4nHWPS07DMBCGf/cFtBKqqGCH5AViASh9iFU37Jp9F92nrdOH0jhy3Eo9AOfhCJyAI9AbcAd+0gGhUmJ5/M03k3EC4AI7KOyfS+49K5wy23MJJ7gWLtPfCFfID8JVNPAoXKN/Eq7jHqFwAy04TlCVM2Z3eBZWaOJFuIRzvAqX6d+EK+R34Squ8CFcQ1OVhesYqZZwA7dqEZrUuMibqR5vdZhss7k37vscmtk6idyhHhmXL2yqu0Hnp/R7TL6Z9byPdezsSg9s6k2SWJ05uzQTH8y9z/rtdiw+mNgVf98g5XaI4HlOoTHGljFEwjPDvPDuTz5knGFNGx2pHuajIuZYwPI+jS4CdI689d/X5Njwth6tR8w8Zo/FijQoJn51J1yWJitqS5oJfVBM97R9tLnig/6AXZz0CTRjb6QAeJxjYGKAAC4G7AAozwhSAwAB1gASAAAA\\\") format(\\\"woff\\\");\\n  font-weight: normal;\\n  font-style: normal; }\\n\\n.viewericon-model-sheet-eye-hide:before {\\n  font-family: 'modelSheetContextMenuIcons';\\n  font-size: 20px;\\n  text-rendering: auto;\\n  -webkit-font-smoothing: antialiased;\\n  content: \\\"\\\\EA01\\\"; }\\n\\n.viewericon-model-sheet-eye-show:before {\\n  font-family: 'modelSheetContextMenuIcons';\\n  font-size: 20px;\\n  text-rendering: auto;\\n  -webkit-font-smoothing: antialiased;\\n  content: \\\"\\\\EA02\\\"; }\\n\\n.viewericon-model-sheet-sheet:before {\\n  font-family: 'modelSheetContextMenuIcons';\\n  font-size: 20px;\\n  text-rendering: auto;\\n  -webkit-font-smoothing: antialiased;\\n  content: \\\"\\\\EA03\\\"; }\\n\\n@font-face {\\n  font-family: 'modelSheetContextMenuIcons';\\n  src: url(\\\"data:application/font-woff;base64,d09GRgABAAAAAAa4AAsAAAAACbgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZAIEusY21hcAAAAYQAAABWAAABjOswaepnbHlmAAAB3AAAAvgAAAO41hvwkmhlYWQAAATUAAAAKAAAADZi0kRjaGhlYQAABPwAAAAYAAAAJAedA+1obXR4AAAFFAAAAA8AAAAQC7gAAGxvY2EAAAUkAAAACgAAAAoCrAFqbWF4cAAABTAAAAAfAAAAIAETAJhuYW1lAAAFUAAAAS0AAAIixR1gBnBvc3QAAAaAAAAANQAAAE5rRiCweJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGR6xziBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+YmZ+AeRGgUmgRhABAAGpC08AAHic7ZCxDYBADAMv70CBmIOKkkmo2L9kif8kzxhEOke2ohQGFkDBGTjYg5FzR2qVi61y56gbz/xV76GWGt5LW36ylX/20utzyqYm1V2bkFsTNACOhQ1lAAB4nEWSz4/TRhTH5409Yzuxsxs7tkMaO+vxYm9+bmLHdne9CVXYKjmwlB/hABIcWAEXbnDmhJDa/gG9tOf23PIncOBP4ISQEJV676lt0o5DKPOdw5un995oPt9BBPElvBTuoxCN0ALdQ98jBGkYcGVTGA8woxLQmu1ClF4Cy47T7KOS8UVLqlWwz0Kb11pxNMVJygObShuF/gD4iCx1hQqWKsB3VoEuBD77WCBZtosrQrC5LBkn28lxxC8TfgUopceLRyIliqqq4uqBoohF8PT2A/Xqzfnl43ZA1j9psOsEZsMeXZ1nnbE3ObwA7vzxqewFo/xk/ppoO1i+klCtRDGWS5QdEqx/wNWyxPzZ/CQfBUxuTwgFQS6rKmmzPiFhOz9dLL/ptDUN/sF4/8u8/4iUNVURCVk9VBoK4etJXwDmRr1RvymJg3rDDNxd7QXsZU7jcOLF3a8nD439A79bd95gU02vKCBIJU0tUaBDr7yzKldkp971277x1UAshlMsil4QtSRBbA5GvdhhsmAhJG79MdEBmqNb6Px/d7g+caxR29rqsz1pSNi2cJuLtjWf/GEDmGIXTG6iwCrg4ikk3HDhNwAadjiEmz8uF6cn7ZAASEE7n82vn6lnNzboJYzXs9miIOjJihcOOe3nBdDQk2W2gT+Ll4GxOL97VBDZS+pqf5r73C34G8DhTxw5nlcQPGyKMnH6wyIBwJyoN+w3sST9wQFxhIbBKXGOzoWuf7Cv1/wN1fzo7vnCCJYxt7wBO34+7av1ZM8MnN0tsx+EZ8hGXXSCrnFmXsJhmdWai2Ov+KhV/lCjRn2PBRMIptiOq15kmQI/j9PYS8ZpZDlQoxfZAE9gnGZxZNVol8Oi+K/Vv2edYb131MJq66hX59GlLFz9GWZQNpuVPQxh9vP6nabrGoDe0PX1W6oqRNeeFKllVegsXbZYN7a9LXjWOu7Zq9/DLAuVnS/MMsB3Wbj+hbe+0gxDe6/p3xJZpXc0HYyGnqsG+g9mCJAJeJxjYGRgYADioweev47nt/nKwM38ggELYN7CXAekOBiYQDwABocHMXicY2BkYGB+wcAAJ7cwMDKgAhYAQWIClHicY2BgYGB+gcAAE2ACwgAAAAAAANABagHcAAB4nGNgZGBgYGHoYWBlAAEmIOYCQgaG/2A+AwAW1QGsAHicbY9BTsJAFIb/QsEIiSGamLibuHBjbIEFCw4AexbsSzuFktJppgMJF/AEnsEzeAKXnsGj+Le+dKHMJC/f+94/rymAET7hoT4erptanw6u2P1ylzQS9skPwj0M8Sjcp38RHuAZM+Eh7hBxg+fX227hhDu4watwl/5N2Ce/C/dwjw/hPv2X8ABrfAsP8eTNsiLJ4sgZu9LbYx7Ztm9hrW2VmUJNgnHrlrrQNnI6UZuzqk7bqXOpSq05qIUpnM5zo0pr9jp2wc65ch6GqfggNgdkKJCwxvw/BwOLFTS2OCKnsRfm/82aLywqOsOZwgQBxhdyS+aKJlsbzanCBmfWCid+c0rrkLJPmTE4kBbNzjqd8xqaspntaWL6ALvmVYk5Qt70Tz5gipt+AOdFYfIAAAB4nGNgYoAALgbsgIWRiZGZkYWRlYE7Mzk+tTI1PiMzJRXGLs7IL+cAsoszUlNLGBgA64UMegAAAA==\\\") format(\\\"woff\\\");\\n  font-weight: 400;\\n  font-style: normal; }\\n\\n.hyper-sheet-marker.adsk-button {\\n  position: absolute;\\n  width: 32px;\\n  height: 32px;\\n  left: 0;\\n  top: 0;\\n  margin: 0;\\n  padding: 0;\\n  background: rgba(255, 255, 255, 0.7);\\n  border-radius: 50%;\\n  box-sizing: content-box;\\n  transition: color .2s ease-in-out;\\n  will-change: transform;\\n  border: none; }\\n\\n.hyper-sheet-marker-icon:before {\\n  font-family: 'modelSheetContextMenuIcons';\\n  font-size: 16px;\\n  text-rendering: auto;\\n  -webkit-font-smoothing: antialiased;\\n  content: \\\"\\\\EA03\\\";\\n  display: flex;\\n  flex-direction: row;\\n  transform: translate(-50%, -50%);\\n  position: absolute;\\n  left: 50%;\\n  top: 50%; }\\n\\n.hyper-sheet-marker.adsk-button:hover {\\n  color: #3C3C3C !important;\\n  background: white; }\\n\\n.hyper-sheet-marker.adsk-button.clicked {\\n  box-shadow: 0px 0px 0px 2px #006EAF; }\\n\\n.hyper-sheet-marker.adsk-button.selected {\\n  box-shadow: 0px 0px 0px 2px #000000; }\\n\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxLA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxnBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzQA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;A","sourceRoot":""}