{"version":3,"sources":["webpack://Autodesk.Extensions.[name]/webpack/bootstrap","webpack://Autodesk.Extensions.[name]/./extensions/AEC/ui/ListPanel.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelsPanel/ModelsPanel.js","webpack://Autodesk.Extensions.[name]/./extensions/ModelsPanel/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","av","Autodesk","Viewing","avu","UI","ListPanelEvents","ITEM_SELECT","ITEM_VISIBILITY_CHANGED","ITEM_MOUSE_ENTER","ITEM_MOUSE_LEAVE","ListPanel","parentContainer","id","title","options","DockingPanel","this","EventDispatcher","apply","container","classList","add","dockRight","createScrollContainer","left","heightAdjustment","marginTop","setItems","items","buttons","listDiv","scrollContainer","removeChild","_document","getDocument","createElement","appendChild","scope","createButton","item","itemText","_getItemText","button","setAttribute","addEventListener","fireEvent","type","remove","textSpan","innerHTML","textContainerDiv","enableWarningSymbol","warnSpan","enableCheckmark","checkSpan","enableVisibilityToggle","eyeSymbol","wasVisible","_isVisible","visible","updateItemStates","index","length","push","rollOverItem","filter","_isSelected","warnText","_getWarningText","style","visibility","setItemHandlers","isSelected","getItemText","getWarningText","isVisible","ModelsPanel","viewer","model","selectedModel","getVisibleModels","indexOf","updateModels","onVisibilityToggled","onItemEnter","onItemLeave","onHoverChanged","onItemSelected","onSelectionChanged","onModelsChanged","MODEL_ROOT_LOADED_EVENT","MODEL_UNLOADED_EVENT","blockEvents","modelSelectionActive","selectionColor","THREE","Vector4","setModelSelectionModeEnabled","removeEventListener","OBJECT_UNDER_MOUSE_CHANGED","AGGREGATE_SELECTION_CHANGED_EVENT","enabled","registerSelectionListeners","unregisterSelectionListeners","updateColorTheming","clearSelection","getAllModels","map","getDocumentNode","getModelName","sort","item1","item2","key1","toUpperCase","key2","localeCompare","event","showModel","hideModel","impl","renderer","rollOverModelId","invalidate","clearHighlight","setSelectedModel","rootId","getRootId","setThemingColor","clearThemingColors","findModel","modelId","selection","getAggregateSelection","ModelsPanelExtension","panel","setVisible","uninitialize","Extension","theExtensionManager","registerExtension"],"mappings":";;;;;;;;;;;;;;;;;;4CACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,K,sGCjFrD,IAAIC,EAAMC,SAASC,QACfC,EAAMF,SAASC,QAAQE,GAGhBC,EAAkB,CAMzBC,YAAa,aAObC,wBAAyB,0BAKzBC,iBAAkB,iBAClBC,iBAAkB,kBAGf,SAASC,EAAUC,EAAiBC,EAAIC,EAAOC,GAElDX,EAAIY,aAAa5C,KAAK6C,KAAML,EAAiBC,EAAIC,EAAOC,GAExDd,EAAGiB,gBAAgBrB,UAAUsB,MAAMF,MAEnCA,KAAKG,UAAUC,UAAUC,IAAI,cAC7BL,KAAKG,UAAUG,WAAY,EAC3BN,KAAKO,sBAAsB,CAACC,MAAM,EAAOC,iBAAkB,GAAIC,UAAU,IAG7EhB,EAAUd,UAAYlB,OAAOY,OAAOa,EAAIY,aAAanB,WAGrDc,EAAUd,UAAU+B,SAAW,SAASC,GAEpCZ,KAAKa,QAAU,GACfb,KAAKY,MAAUA,EAGXZ,KAAKc,SACLd,KAAKe,gBAAgBC,YAAYhB,KAAKc,SAE1C,IAAIG,EAAYjB,KAAKkB,cACrBlB,KAAKc,QAAUG,EAAUE,cAAc,OACvCnB,KAAKc,QAAQV,UAAUC,IAAI,YAE3BL,KAAKe,gBAAgBK,YAAYpB,KAAKc,SA+EtC,IA7EA,IAAIO,EAAQrB,KAERsB,EAAe,SAASC,GAExB,IAAIC,EAAWH,EAAMI,aAAeJ,EAAMI,aAAaF,GAAQ,iBAE3DG,EAAST,EAAUE,cAAc,OACrCO,EAAOtB,UAAUC,IAAI,YACrBqB,EAAOH,KAAOA,EACdG,EAAOC,aAAa,QAASH,GAE7BE,EAAOE,iBAAiB,SAAS,WAC7BP,EAAMQ,UAAU,CACZC,KAAMzC,EAAgBC,YACtBiC,KAAMA,OAGdG,EAAOE,iBAAiB,cAAc,WAClCP,EAAMQ,UAAU,CACZC,KAAMzC,EAAgBG,iBACtB+B,KAAMA,IAEVG,EAAOtB,UAAUC,IAAI,YAEzBqB,EAAOE,iBAAiB,cAAc,WAClCP,EAAMQ,UAAU,CACZC,KAAMzC,EAAgBI,iBACtB8B,KAAMA,IAEVG,EAAOtB,UAAU2B,OAAO,YAG5B,IAAIC,EAAWf,EAAUE,cAAc,QACvCa,EAASC,UAAYT,EACrBQ,EAAS5B,UAAUC,IAAI,QAGvB,IAAI6B,EAAmBjB,EAAUE,cAAc,OAM/C,GALAe,EAAiB9B,UAAUC,IAAI,iBAC/B6B,EAAiBd,YAAYY,GAC7BN,EAAON,YAAYc,GAGfb,EAAMvB,QAAQqC,oBAAqB,CACnC,IAAIC,EAAWnB,EAAUE,cAAc,QACvCiB,EAAShC,UAAUC,IAAI,2BACvBqB,EAAON,YAAYgB,GACnBV,EAAOU,SAAWA,EAItB,GAAIf,EAAMvB,QAAQuC,gBAAiB,CAC/B,IAAIC,EAAYrB,EAAUE,cAAc,QACxCmB,EAAUlC,UAAUC,IAAI,QACxBqB,EAAON,YAAYkB,GAIvB,GAAIjB,EAAMvB,QAAQyC,uBAAwB,CACtC,IAAIC,EAAYvB,EAAUE,cAAc,OACxCqB,EAAUpC,UAAUC,IAAI,cACxBqB,EAAON,YAAYoB,GAEnBA,EAAUZ,iBAAiB,SAAS,WAChC,IAAMa,GAAapB,EAAMqB,YAAarB,EAAMqB,WAAWhB,EAAOH,MAC9DF,EAAMQ,UAAU,CACZC,KAAMzC,EAAgBE,wBACtBgC,KAAMG,EAAOH,KACboB,SAAUF,IAEdpB,EAAMuB,sBAId,OAAOlB,GAGFmB,EAAM,EAAGA,EAAMjC,EAAMkC,OAAQD,IAAS,CAE3C,IACInB,EAASJ,EADAV,EAAMiC,IAGnB7C,KAAKc,QAAQM,YAAYM,GACzB1B,KAAKa,QAAQkC,KAAKrB,GAGtB1B,KAAK4C,oBAKTlD,EAAUd,UAAUoE,aAAe,SAASC,GACxC,IAAK,IAAIjG,EAAE,EAAGA,EAAEgD,KAAKa,QAAQiC,OAAQ9F,IAAK,CACtC,IAAI0E,EAAS1B,KAAKa,QAAQ7D,GACtBiG,EAAOvB,EAAOH,MACdG,EAAOtB,UAAUC,IAAI,SAErBqB,EAAOtB,UAAU2B,OAAO,WAKpCrC,EAAUd,UAAUgE,iBAAmB,WAEnC,GAAK5C,KAAKa,QAGV,IAAK,IAAI7D,EAAE,EAAGA,EAAEgD,KAAKa,QAAQiC,OAAQ9F,IAAK,CAGtC,IAAI0E,EAAS1B,KAAKa,QAAQ7D,GAO1B,GANA0E,EAAOtB,UAAU2B,OAAO,YACpB/B,KAAKkD,aAAelD,KAAKkD,YAAYxB,EAAOH,OAC5CG,EAAOtB,UAAUC,IAAI,YAIrBL,KAAKF,QAAQqC,oBAAqB,CAClC,IAAIgB,EAAWnD,KAAKoD,iBAAmBpD,KAAKoD,gBAAgB1B,EAAOH,MACnEG,EAAOU,SAASiB,MAAMC,WAAaH,EAAW,UAAY,SAC1DzB,EAAOU,SAAST,aAAa,QAASwB,GAAY,IAItD,GAAInD,KAAKF,QAAQyC,uBACbb,EAAOtB,UAAU2B,OAAO,QACR/B,KAAK0C,YAAa1C,KAAK0C,WAAWhB,EAAOH,OAErDG,EAAOtB,UAAUC,IAAI,SAWrCX,EAAUd,UAAU2E,gBAAkB,SAASC,EAAYC,EAAaC,EAAgBC,GACpF3D,KAAKkD,YAAeM,EACpBxD,KAAKyB,aAAegC,EACpBzD,KAAKoD,gBAAkBM,EACvB1D,KAAK0C,WAAaiB,EAClB3D,KAAK4C,oBAGTzD,EAAIE,gBAAkBA,EACtBF,EAAIO,UAAkBA,G,ukDCvMDkE,E,sQAEjB,WAAYC,EAAQjE,EAAIC,EAAOC,GAAU,IAAD,G,4FAAA,SACpC,cAAM+D,EAAO1D,UAAWP,EAAIC,EAAOC,GAGnCA,EAAQyC,wBAAyB,EAEjC,EAAKsB,OAASA,EANsB,OAapC,EAAKN,iBAFc,SAAAhC,GAAI,OAAIA,EAAKuC,QAAU,EAAKC,iBAF5B,SAAAxC,GAAI,OAAIA,EAAKhE,OAIU,MAHvB,SAAAgE,GAAI,OAA2D,GAAvD,EAAKsC,OAAOG,mBAAmBC,QAAQ1C,EAAKuC,UAKvE,EAAKI,eAGL,EAAKC,oBAAsB,EAAKA,oBAAoB3F,KAAzB,MAC3B,EAAK4F,YAAc,EAAKA,YAAY5F,KAAjB,MACnB,EAAK6F,YAAc,EAAKA,YAAY7F,KAAjB,MACnB,EAAK8F,eAAiB,EAAKA,eAAe9F,KAApB,MACtB,EAAK+F,eAAiB,EAAKA,eAAe/F,KAApB,MACtB,EAAKgG,mBAAqB,EAAKA,mBAAmBhG,KAAxB,MAG1B,EAAKoD,iBAAiB3C,SAASC,QAAQE,GAAGC,gBAAgBE,wBAAyB,EAAK4E,qBAGxF,EAAKM,gBAAkB,kBAAM,EAAKP,gBAClC,EAAKL,OAAOjC,iBAAiB3C,SAASC,QAAQwF,wBAAyB,EAAKD,iBAC5E,EAAKZ,OAAOjC,iBAAiB3C,SAASC,QAAQyF,qBAAsB,EAAKF,iBAGzE,EAAKG,aAAc,EAGnB,EAAKC,sBAAuB,EAG5B,EAAKC,eAAiB,IAAIC,MAAMC,QAAQ,EAAE,EAAE,EAAE,KAxCV,E,4CA4CpC,iDAGAhF,KAAKiF,8BAA6B,GAElCjF,KAAK6D,OAAOqB,oBAAoBjG,SAASC,QAAQwF,wBAAyB1E,KAAKyE,iBAC/EzE,KAAK6D,OAAOqB,oBAAoBjG,SAASC,QAAQyF,qBAAsB3E,KAAKyE,mB,mDAK5EzE,KAAK4B,iBAAiB3C,SAASC,QAAQE,GAAGC,gBAAgBG,iBAAkBQ,KAAKoE,aACjFpE,KAAK4B,iBAAiB3C,SAASC,QAAQE,GAAGC,gBAAgBI,iBAAkBO,KAAKqE,aACjFrE,KAAK4B,iBAAiB3C,SAASC,QAAQE,GAAGC,gBAAgBC,YAAaU,KAAKuE,gBAG5EvE,KAAK6D,OAAOjC,iBAAiB3C,SAASC,QAAQiG,2BAA4BnF,KAAKsE,gBAC/EtE,KAAK6D,OAAOjC,iBAAiB3C,SAASC,QAAQkG,kCAAmCpF,KAAKwE,sB,qDAKtFxE,KAAKkF,oBAAoBjG,SAASC,QAAQE,GAAGC,gBAAgBG,iBAAkBQ,KAAKoE,aACpFpE,KAAKkF,oBAAoBjG,SAASC,QAAQE,GAAGC,gBAAgBI,iBAAkBO,KAAKqE,aACpFrE,KAAKkF,oBAAoBjG,SAASC,QAAQE,GAAGC,gBAAgBC,YAAaU,KAAKuE,gBAG/EvE,KAAK6D,OAAOqB,oBAAoBjG,SAASC,QAAQiG,2BAA4BnF,KAAKsE,gBAClFtE,KAAK6D,OAAOqB,oBAAoBjG,SAASC,QAAQkG,kCAAmCpF,KAAKwE,sB,mDAGhEa,GAErBA,IAAYrF,KAAK6E,uBAKhBQ,IACDrF,KAAK+D,cAAgB,MAIrBsB,EACArF,KAAKsF,6BAELtF,KAAKuF,+BAGTvF,KAAK6E,qBAAuBQ,EAE5BrF,KAAK4C,mBACL5C,KAAKwF,wB,uCAGQ1B,GACT9D,KAAK4E,cAIT5E,KAAK+D,cAAgBD,EACrB9D,KAAK4C,mBACL5C,KAAKwF,qBAKLxF,KAAK4E,aAAc,EACnB5E,KAAK6D,OAAO4B,iBACZzF,KAAK4E,aAAc,K,qCAInB,mD,qCAKA,IACMhE,EADSZ,KAAK6D,OAAO6B,eACNC,KAAI,SAAAvI,GACrB,MAAO,CACHG,KAAOH,EAAEwI,kBAAkBC,eAC3B/B,MAAO1G,MAUfwD,EAAMkF,MALS,SAACC,EAAOC,GACnB,IAAMC,EAAOF,EAAMxI,KAAK2I,cAClBC,EAAOH,EAAMzI,KAAK2I,cACxB,OAAOD,EAAKG,cAAcD,MAI9BnG,KAAKW,SAASC,K,0CAGEyF,GAChB,IAAMvC,EAAQuC,EAAM9E,KAAKuC,MACrBuC,EAAM1D,QACN3C,KAAK6D,OAAOyC,UAAUxC,GAEtB9D,KAAK6D,OAAO0C,UAAUzC,K,kCAKlBuC,GACR,IAAMvC,EAAQuC,EAAM9E,KAAKuC,MACzB9D,KAAK6D,OAAO2C,KAAKC,WAAWC,gBAAgB5C,EAAMlE,IAClDI,KAAK6D,OAAO2C,KAAKG,YAAW,GAAO,GAAO,K,kCAGlCN,GACRrG,KAAK6D,OAAO2C,KAAKI,mB,qCAGNP,GAGPA,EAAM9E,KAAKuC,QAAU9D,KAAK+D,cAC1B/D,KAAK6G,iBAAiB,MAEtB7G,KAAK6G,iBAAiBR,EAAM9E,KAAKuC,S,2CAMrC,GAAI9D,KAAK+D,cAAe,CACpB,IAAM+C,EAAS9G,KAAK+D,cAAcgD,YAClC/G,KAAK6D,OAAOmD,gBAAgBF,EAAQ9G,KAAK8E,eAAgB9E,KAAK+D,eAAe,GAIjF,IAAK,IAAI/G,EAAE,EAAGA,EAAEgD,KAAKY,MAAMkC,OAAQ9F,IAAK,CACpC,IAAM8G,EAAQ9D,KAAKY,MAAM5D,GAAG8G,MACxBA,IAAU9D,KAAK+D,eACf/D,KAAK6D,OAAOoD,mBAAmBnD,M,qCAM5BuC,GACX,IAAIvC,EAAQ9D,KAAK6D,OAAO2C,KAAKU,UAAUb,EAAMc,SAC7CnH,KAAKgD,cAAa,SAAAzB,GAAI,OAAIA,EAAKuC,QAAUA,KAQrCA,GACA9D,KAAK6D,OAAO2C,KAAKC,WAAWC,gBAAgB5C,EAAMlE,M,2CAMtD,IAAMwH,EAAYpH,KAAK6D,OAAOwD,wBAC9B,GAAwB,GAApBD,EAAUtE,OAAd,CAKA,IAAMgB,EAAQsD,EAAU,GAAGtD,MAC3B9D,KAAK6G,iBAAiB/C,QALlB9D,KAAK6G,iBAAiB,W,oCAjNOnH,G,k0CCSzC,IAGqB4H,E,0QACjB,WAAYzD,EAAQ/D,GAAU,O,4FAAA,qBACpB+D,EAAQ/D,G,0JAIdE,KAAKuH,MAAQ,IAAI3D,EAAY5D,KAAK6D,OAAQ,cAAe,SAAU7D,KAAKF,SACxEE,KAAKuH,MAAMC,YAAW,G,2SAIlBxH,KAAKuH,QACLvH,KAAKuH,MAAME,eACXzH,KAAKuH,MAAQ,W,8BAfdtI,SAASC,QAEiCwI,WAmBrDzI,SAASC,QAAQyI,oBAAoBC,kBAtBb,uBAsBgDN","file":"ModelsPanel/ModelsPanel.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 879);\n","\nvar av  = Autodesk.Viewing;\nvar avu = Autodesk.Viewing.UI;\n\n\nexport var ListPanelEvents = {\n\n    /**\n     * Fired when clicking on an item. (not fired when setting current item per code)\n     *  @property {Object} item  - data item being selected.\n     */\n    ITEM_SELECT: 'itemSelect',\n\n    /*\n     * Fired when toggling item visibility\n     *  @property {Object} item    - data item\n     *  @property {bool}   visible - whether item was toggled on or off\n     */\n    ITEM_VISIBILITY_CHANGED: 'itemVisibibilityChanged',\n\n    /**\n     * @property {Object} item - data item being selected.\n     */\n    ITEM_MOUSE_ENTER: 'itemMouseEnter',\n    ITEM_MOUSE_LEAVE: 'itemMouseLeave'\n};\n\nexport function ListPanel(parentContainer, id, title, options) {\n\n    avu.DockingPanel.call(this, parentContainer, id, title, options);\n\n    av.EventDispatcher.prototype.apply(this);\n\n    this.container.classList.add('list-panel');\n    this.container.dockRight = true;\n    this.createScrollContainer({left: false, heightAdjustment: 65, marginTop:0});\n}\n\nListPanel.prototype = Object.create(avu.DockingPanel.prototype);\n\n// @param {Object[]} items - Array order defines display order top-down.\nListPanel.prototype.setItems = function(items) {\n\n    this.buttons = [];\n    this.items   = items;\n\n    // remove old list\n    if (this.listDiv) {\n        this.scrollContainer.removeChild(this.listDiv);\n    }\n    var _document = this.getDocument();\n    this.listDiv = _document.createElement('div');\n    this.listDiv.classList.add('itemList');\n\n    this.scrollContainer.appendChild(this.listDiv);\n\n    var scope = this;\n\n    var createButton = function(item) {\n\n        var itemText = scope._getItemText ? scope._getItemText(item) : '<no item text>';\n\n        var button = _document.createElement('div');\n        button.classList.add('listItem');\n        button.item = item;\n        button.setAttribute('title', itemText);\n\n        button.addEventListener('click', function() {\n            scope.fireEvent({\n                type: ListPanelEvents.ITEM_SELECT,\n                item: item\n            });\n        });\n        button.addEventListener('mouseenter', function() {\n            scope.fireEvent({\n                type: ListPanelEvents.ITEM_MOUSE_ENTER,\n                item: item\n            });\n            button.classList.add('hover');\n        });\n        button.addEventListener('mouseleave', function() {\n            scope.fireEvent({\n                type: ListPanelEvents.ITEM_MOUSE_LEAVE,\n                item: item\n            });\n            button.classList.remove('hover');\n        });\n\n        var textSpan = _document.createElement('span');\n        textSpan.innerHTML = itemText;\n        textSpan.classList.add(\"text\");\n\n        // This container DIV is required to enable proper text fade-out for long texts.\n        var textContainerDiv = _document.createElement('div');\n        textContainerDiv.classList.add(\"textContainer\");\n        textContainerDiv.appendChild(textSpan);\n        button.appendChild(textContainerDiv);\n\n        // Optional: Enable warning symbol per item\n        if (scope.options.enableWarningSymbol) {\n            var warnSpan = _document.createElement('span');\n            warnSpan.classList.add(\"list-panel-item-warning\");\n            button.appendChild(warnSpan);\n            button.warnSpan = warnSpan;\n        }\n\n        // Optional: Show checkmark for selected items\n        if (scope.options.enableCheckmark) {\n            var checkSpan = _document.createElement('span');\n            checkSpan.classList.add(\"icon\");\n            button.appendChild(checkSpan);\n        }\n\n        // Optional: Show eye-symbol\n        if (scope.options.enableVisibilityToggle) {\n            var eyeSymbol = _document.createElement('div');\n            eyeSymbol.classList.add(\"visibility\");\n            button.appendChild(eyeSymbol);\n\n            eyeSymbol.addEventListener('click', function() {\n                const wasVisible = scope._isVisible ? scope._isVisible(button.item) : true;\n                scope.fireEvent({\n                    type: ListPanelEvents.ITEM_VISIBILITY_CHANGED,\n                    item: button.item,\n                    visible: !wasVisible\n                });\n                scope.updateItemStates();\n            });\n        }\n\n        return button;\n    };\n\n    for (var index=0; index<items.length; index++) {\n\n        var item   = items[index];\n        var button = createButton(item);\n\n        this.listDiv.appendChild(button);\n        this.buttons.push(button);\n    }\n\n    this.updateItemStates();\n};\n\n// Trigger mouse-over highlighting on item. \n//  @param {function} filter - gets an item\nListPanel.prototype.rollOverItem = function(filter) {\n    for (var i=0; i<this.buttons.length; i++) {\n        var button = this.buttons[i];\n        if (filter(button.item)) {\n            button.classList.add('hover');\n        } else {\n            button.classList.remove('hover');\n        }\n    }\n};\n\nListPanel.prototype.updateItemStates = function() {\n\n    if (!this.buttons) {\n        return;\n    }\n    for (var i=0; i<this.buttons.length; i++) {\n\n        // set/unset blue color for selected items and show optional checkmark\n        var button = this.buttons[i];\n        button.classList.remove(\"selected\");\n        if (this._isSelected && this._isSelected(button.item)) {\n            button.classList.add(\"selected\");\n        }\n\n        // set/unset warning symbol\n        if (this.options.enableWarningSymbol) {\n            var warnText = this._getWarningText && this._getWarningText(button.item);\n            button.warnSpan.style.visibility = warnText ? 'visible' : 'hidden';\n            button.warnSpan.setAttribute('title', warnText || '');\n        }\n\n        // set state of visibility toggle (eye symbol)\n        if (this.options.enableVisibilityToggle) {\n            button.classList.remove(\"dim\");\n            var isVisible = this._isVisible ? this._isVisible(button.item) : true;\n            if (!isVisible) {\n                button.classList.add('dim');\n            }\n        }\n    }\n};\n\n// Set functions to define how to handle each item\n//  @param {function(item)} isSelected       - takes a list item (see setItems) and returns true for 'selected state'\n//  @param {function(item)} getItemText      - returns the text to be displayed\n//  @param {function(item)} [getWarningText] - Optional: Display a warning symbol. Function defines tooltip text.\n//  @param {function(item)} [isVisible]      - Optional: State of visibility toggle. If set, an additional eye-symbol is shown to toggle visibility per item. \nListPanel.prototype.setItemHandlers = function(isSelected, getItemText, getWarningText, isVisible) {\n    this._isSelected  = isSelected;\n    this._getItemText = getItemText;\n    this._getWarningText = getWarningText;\n    this._isVisible = isVisible;\n    this.updateItemStates();\n};\n\navu.ListPanelEvents = ListPanelEvents;\navu.ListPanel       = ListPanel;\n","\n// Todo: If there are more uses of ListPanel, we should conisder moving it to LMV src/ui\n//       to avoid such cross-referencing.\nimport { ListPanel } from '../AEC/ui/ListPanel.js';\n\nexport default class ModelsPanel extends ListPanel {\n\n    constructor(viewer, id, title, options) {\n        super(viewer.container, id, title, options);\n\n        // Activate visibility toggles in ListPanel\n        options.enableVisibilityToggle = true;\n\n        this.viewer = viewer;\n\n        // Register item handlers for ListPanel\n        const getText    = item => item.name;\n        const isVisible  = item => this.viewer.getVisibleModels().indexOf(item.model) != -1;\n        const isSelected = item => item.model === this.selectedModel;\n \n        this.setItemHandlers(isSelected, getText, null, isVisible);\n\n        this.updateModels();\n\n        // Bind event handlers\n        this.onVisibilityToggled = this.onVisibilityToggled.bind(this);\n        this.onItemEnter = this.onItemEnter.bind(this);\n        this.onItemLeave = this.onItemLeave.bind(this);\n        this.onHoverChanged = this.onHoverChanged.bind(this);\n        this.onItemSelected = this.onItemSelected.bind(this);\n        this.onSelectionChanged = this.onSelectionChanged.bind(this);\n\n        // register item event listeners\n        this.addEventListener(Autodesk.Viewing.UI.ListPanelEvents.ITEM_VISIBILITY_CHANGED, this.onVisibilityToggled);\n\n        // register viewer event listeners\n        this.onModelsChanged = () => this.updateModels();\n        this.viewer.addEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT, this.onModelsChanged);\n        this.viewer.addEventListener(Autodesk.Viewing.MODEL_UNLOADED_EVENT, this.onModelsChanged);\n\n        // temporarily used to avoid recursive event handlers\n        this.blockEvents = false;\n\n        // In model-selection mode, we override object selection with full-model selection\n        this.modelSelectionActive = false;\n\n        // Color applied to selected models in selection mode\n        this.selectionColor = new THREE.Vector4(1,1,0,0.25);\n    }\n\n    dtor() {\n        super.uninitialize();\n\n        // Make sure that model-selection listeners are unregistered too\n        this.setModelSelectionModeEnabled(false);\n\n        this.viewer.removeEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT, this.onModelsChanged);\n        this.viewer.removeEventListener(Autodesk.Viewing.MODEL_UNLOADED_EVENT, this.onModelsChanged);\n    }\n\n    registerSelectionListeners() {\n        // Panel item listeners\n        this.addEventListener(Autodesk.Viewing.UI.ListPanelEvents.ITEM_MOUSE_ENTER, this.onItemEnter);\n        this.addEventListener(Autodesk.Viewing.UI.ListPanelEvents.ITEM_MOUSE_LEAVE, this.onItemLeave);\n        this.addEventListener(Autodesk.Viewing.UI.ListPanelEvents.ITEM_SELECT, this.onItemSelected);\n\n        // Viewer listeners\n        this.viewer.addEventListener(Autodesk.Viewing.OBJECT_UNDER_MOUSE_CHANGED, this.onHoverChanged);\n        this.viewer.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT, this.onSelectionChanged);\n    }\n\n    unregisterSelectionListeners() {\n        // Panel item listeners\n        this.removeEventListener(Autodesk.Viewing.UI.ListPanelEvents.ITEM_MOUSE_ENTER, this.onItemEnter);\n        this.removeEventListener(Autodesk.Viewing.UI.ListPanelEvents.ITEM_MOUSE_LEAVE, this.onItemLeave);\n        this.removeEventListener(Autodesk.Viewing.UI.ListPanelEvents.ITEM_SELECT, this.onItemSelected);\n\n        // Viewer listeners\n        this.viewer.removeEventListener(Autodesk.Viewing.OBJECT_UNDER_MOUSE_CHANGED, this.onHoverChanged);\n        this.viewer.removeEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT, this.onSelectionChanged);\n    }\n\n    setModelSelectionModeEnabled(enabled) {\n\n        if (enabled === this.modelSelectionActive) {\n            return;\n        }\n\n        // clear model selection on disable\n        if (!enabled) {\n            this.selectedModel = null;\n        }\n\n        // Register/deregister event listeners for model selection\n        if (enabled) {\n            this.registerSelectionListeners();\n        } else {\n            this.unregisterSelectionListeners();\n        }\n\n        this.modelSelectionActive = enabled;\n        \n        this.updateItemStates();\n        this.updateColorTheming();\n    }\n\n    setSelectedModel(model) {\n        if (this.blockEvents) {\n            return;\n        }\n\n        this.selectedModel = model;\n        this.updateItemStates();\n        this.updateColorTheming();\n\n        // Clear object selection so that we don't mix both types.\n        // Since we listen to selection changes, we must take care here that \n        // the selection-change does not unselect the model as well. \n        this.blockEvents = true;\n        this.viewer.clearSelection();\n        this.blockEvents = false;\n    }\n\n    uninitialize() {\n        super.uninitialize();\n    }\n\n    updateModels() {\n        // add all visible models as items\n        const models = this.viewer.getAllModels();\n        const items = models.map(m => {\n            return {\n                name:  m.getDocumentNode().getModelName(),\n                model: m\n            };\n        });\n        \n        // sort items by name to avoid them to be timing-dependend.\n        const byName = (item1, item2) => {\n            const key1 = item1.name.toUpperCase();\n            const key2 = item2.name.toUpperCase();\n            return key1.localeCompare(key2);\n        }; \n        items.sort(byName);\n\n        this.setItems(items);\n    }\n\n    onVisibilityToggled(event) {\n        const model = event.item.model;\n        if (event.visible) {\n            this.viewer.showModel(model);\n        } else {\n            this.viewer.hideModel(model);\n        }\n    };\n\n    // Trigger model mouse-over highlight\n    onItemEnter(event) {\n        const model = event.item.model;\n        this.viewer.impl.renderer().rollOverModelId(model.id);\n        this.viewer.impl.invalidate(false, false, true);\n    }\n\n    onItemLeave(event) {\n        this.viewer.impl.clearHighlight();\n    }\n\n    onItemSelected(event) {\n\n        // Click again to unselect\n        if (event.item.model === this.selectedModel) {\n            this.setSelectedModel(null);\n        } else {\n            this.setSelectedModel(event.item.model);\n        }\n    }\n\n    updateColorTheming() {\n        // colorize selected model\n        if (this.selectedModel) {\n            const rootId = this.selectedModel.getRootId();\n            this.viewer.setThemingColor(rootId, this.selectionColor, this.selectedModel, true);\n        }\n\n        // Make sure no other theming is leaked.\n        for (let i=0; i<this.items.length; i++) {\n            const model = this.items[i].model;\n            if (model !== this.selectedModel) {\n                this.viewer.clearThemingColors(model);\n            }\n        };\n    }\n\n    // When hovering over model in the canvas, we apply hover-highlight to corresponding model\n    onHoverChanged(event) {\n        var model = this.viewer.impl.findModel(event.modelId);\n        this.rollOverItem(item => item.model === model);\n\n        // Extend hover-highlight to full model\n        // Note that we call it on the renderer directly to avoid triggering an event again.\n        //\n        // TODO: This is a bit hacky and has drawbacks: E.g. hovering over the same model does\n        //       restart the fade-in on each mouse move. A better solution would be to temporarily\n        //       disable the automatic per-object highlighting here, instead of fighting against it.\n        if (model) {\n            this.viewer.impl.renderer().rollOverModelId(model.id);\n        }\n    }\n\n    // Handle viewer selection-changes: Always select whole models and keep panel in-sync\n    onSelectionChanged() {\n        const selection = this.viewer.getAggregateSelection();\n        if (selection.length != 1) {\n            this.setSelectedModel(null);\n            return;\n        }\n\n        const model = selection[0].model;\n        this.setSelectedModel(model);\n    }\n}\n","/** \n * ModelsPanel extension provides a simple panel for toggling model visibility in aggregated views.\n * \n * @example\n *   viewer.loadExtension('Autodesk.ModelsPanel')\n *\n * @memberof Autodesk.Viewing.Extensions\n * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n * @alias Autodesk.Viewing.Extensions.ModelsPanel\n * @class\n */\n\nimport ModelsPanel from './ModelsPanel.js';\n\nconst myExtensionName = 'Autodesk.ModelsPanel';\nconst av = Autodesk.Viewing;\n\nexport default class ModelsPanelExtension extends av.Extension {\n    constructor(viewer, options) {\n        super(viewer, options);\n    }\n\n    async load() {\n        this.panel = new ModelsPanel(this.viewer, 'ModelsPanel', 'Models', this.options);\n        this.panel.setVisible(true);\n    }\n\n    unload() {\n        if (this.panel) {\n            this.panel.uninitialize();\n            this.panel = null;\n        }\n    }\n}\n\n// Register the extension with the extension manager.\nAutodesk.Viewing.theExtensionManager.registerExtension(myExtensionName, ModelsPanelExtension);\n\n\n\n\n"],"sourceRoot":""}