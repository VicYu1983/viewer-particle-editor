{"version":3,"sources":["webpack://Autodesk.Extensions.[name]/webpack/bootstrap","webpack://Autodesk.Extensions.[name]/./extensions/Popout/thirdparty/popout.js","webpack://Autodesk.Extensions.[name]/./extensions/Popout/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_window","Autodesk","Viewing","getGlobal","generateWindowFeaturesString","optionsProp","options","left","top","height","width","location","menubar","resizable","scrollbars","status","toolbar","getOwnPropertyNames","map","val","String","join","globalContext","id","set","this","popouts","monitors","isChildWindowOpened","child","closed","setTimeout","monitor","props","onClose","clearTimeout","stop","Popout","container","setupAttempts","styleElement","styleCount","userAgent","document","head","unloadScriptContainer","createElement","onBeforeUnloadLogic","innerHTML","navigator","test","url","appendChild","setupCleanupCallbacks","setupOnCloseHandler","window","addEventListener","e","closeChildWindowIfOpened","evt","onBeforeUnload","setAttribute","type","html","write","copyStyles","getElementById","body","childHtml","styleSheets","length","styleSheet","cssText","setupStyleElement","rules","cssRules","rel","href","j","style","MutationObserver","mutations","forEach","mutation","nodeList","callback","scope","element","tagName","forEachStyleElement","addedNodes","targetDocument","cloned","hasAttributes","attribute","attributes","crossBrowserCloneNode","observe","childList","injectHtml","setupStyleObserver","Math","random","toString","slice","getWindowName","open","initializeChildWindow","onBlocked","close","parser","current","hostname","protocol","Error","validateUrl","hidden","openChildWindow","resetImageBlobUrls","el","images","querySelectorAll","img","src","indexOf","onload","URL","revokeObjectURL","canvas","ownerDocument","getContext","drawImage","canvasFromImage","toBlob","blob","createObjectURL","av","avp","Private","PopoutExtension","viewer","_viewer","_popoutInstance","_viewerParentNode","_onBeforeUnload","elementid","logger","elem","_isPoppedOut","info","setupChild","_moveViewerTo","error","args","apply","renderChildWindow","_moveViewerBack","parentNode","setWindow","resize","getWindow","opener","Extension","theExtensionManager","registerExtension"],"mappings":"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","file":"Popout/Popout.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 878);\n","\n// MIT License\n\n// Copyright (c) Microsoft Corporation. All rights reserved.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE\n\n\n/**\n * This is a modified version of poput source code without react dependency\n * from https://github.com/microsoft/react-popout-component\n */\n\n\nconst av = Autodesk.Viewing;\nconst _window = av.getGlobal();\n\n/**\n * Generates feature string for window open\n */\nfunction generateWindowFeaturesString(optionsProp) {\n  const valueOf = val => {\n    if (typeof val === 'boolean') {\n      return val ? '1' : '0';\n    } else if (val) {\n      return String(val);\n    }\n  };\n\n  let options = {\n    left: 0,\n    top: 0,\n    height: 600,\n    width: 800,\n    location: false,\n    menubar: false,\n    resizable: false,\n    scrollbars: false,\n    status: false,\n    toolbar: false\n  };\n\n  // merge options\n  options = { ...options, ...optionsProp };\n\n  return Object.getOwnPropertyNames(options)\n    .map(key => `${key}=${valueOf(options[key])}`)\n    .join(',');\n}\n\nfunction crossBrowserCloneNode(element, targetDocument) { \n  const cloned = targetDocument.createElement(element.tagName);\n  cloned.innerHTML = element.innerHTML;\n\n  if (element.hasAttributes()) {\n    let attribute;\n    for (let i = 0; i < element.attributes.length; i++) {\n      attribute = element.attributes[i];\n      cloned.setAttribute(attribute.name, attribute.value);\n    }\n  }\n\n  return cloned;\n}\n\nlet globalContext = {\n  id: '__$$VIEWER_POPOUT_COMPONENT$$__',\n\n  set: function(key, value) {\n    _window[this.id] = _window[this.id] || {};\n    _window[this.id][key] = value;\n  },\n\n  get: function(key) {\n    return _window[this.id] && _window[this.id][key];\n  }\n};\n\nconst popouts = {};\n\nconst monitors = {};\n\nconst delay = 250;\n\nfunction start(id /*: string*/) {\n  const monitor = () => {\n    if (popouts[id] && popouts[id].props.onClose) {\n      if (!popouts[id].child || popouts[id].child.closed) {\n        stop(id);\n        popouts[id].props.onClose();\n        popouts[id].child = null;\n      } else {\n        monitors[id] = setTimeout(monitor, delay);\n      }\n    }\n  };\n\n  monitors[id] = setTimeout(monitor, delay);\n}\n\nfunction stop(id /*: string*/) {\n  if (monitors[id]) {\n    clearTimeout(monitors[id]);\n    delete monitors[id];\n  }\n}\n\nglobalContext.set('startMonitor', start);\n\n/** Added by LMV */\nglobalContext.set('dispose', function dispose(id) {\n  delete popouts[id];\n});\n\nfunction validateUrl(url /*: string*/) {\n  if (!url) {\n    return;\n  }\n\n  const parser = document.createElement('a');\n  parser.href = url;\n\n  const current = _window.location;\n\n  if (\n    (parser.hostname && current.hostname != parser.hostname) ||\n    (parser.protocol && current.protocol != parser.protocol)\n  ) {\n    throw new Error(\n        `react-popup-component error: cross origin URLs are not supported (window=${\n            current.protocol\n        }//${current.hostname}; popout=${parser.protocol}//${parser.hostname})`\n    );\n  }\n}\n\nfunction validatePopupBlocker(child /*: Window*/) {\n  if (!child || child.closed || typeof child == 'undefined' || typeof child.closed == 'undefined') {\n    return null;\n  }\n\n  return child;\n}\n\nfunction isChildWindowOpened(child /*: Window | null*/) {\n  return child && !child.closed;\n}\n\nfunction getWindowName(name /*: string*/) {\n  return (\n    name ||\n    Math.random()\n      .toString(12)\n      .slice(2)\n  );\n}\n\nfunction forEachStyleElement(\n  nodeList /*: NodeList*/,\n  callback /*: (element: HTMLElement, index?: number) => void*/,\n  scope /*?: any*/\n) {\n  let element /*: HTMLElement*/;\n\n  for (let i = 0; i < nodeList.length; i++) {\n    element = nodeList[i] /* as HTMLElement*/;\n    if (element.tagName == 'STYLE') {\n      callback.call(scope, element, i);\n    }\n  }\n}\n\nfunction isBrowserIEOrEdge() {\n  const userAgent = typeof navigator != 'undefined' && navigator.userAgent ? navigator.userAgent : '';\n  return /Edge/.test(userAgent) || /Trident/.test(userAgent);\n}\n\nclass Popout {\n  constructor(props) {\n    this.container = null;\n    this.setupAttempts = 0;\n    this.styleElement = null;\n    this.child = null;\n\n    /* props\n\t\t\t{\n\t\t\t\thtml,\n\t\t\t\turl,\n\t\t\t\toptions,\n\t\t\t\tname,\n\t\t\t\tonBlocked,\n        hidden\n\t\t\t}\n\t\t\t*/\n    this.props = props;\n    this.styleCount = 0;\n  }\n\n  setupOnCloseHandler(id /*: string*/, child /*: Window*/) {\n    // For Edge, IE browsers, the document.head might not exist here yet. We will just simply attempt again when RAF is called\n    // For Firefox, on the setTimeout, the child window might actually be set to null after the first attempt if there is a popup blocker\n    if (this.setupAttempts >= 5) {\n      return;\n    }\n\n    if (child && child.document && child.document.head) {\n      const unloadScriptContainer = child.document.createElement('script');\n      const onBeforeUnloadLogic = `\n            window.onbeforeunload = function(e) {\n                var result = window.opener.${globalContext.id}.onBeforeUnload.call(window, '${id}', e);\n\n                if (result) {\n                    window.opener.${globalContext.id}.startMonitor.call(window.opener, '${id}');\n\n                    e.returnValue = result;\n                    return result;\n                } else {\n                    window.opener.${globalContext.id}.onChildClose.call(window.opener, '${id}');\n                }\n\n                // Added by LMV - free memory\n                window.opener.${globalContext.id}.dispose.call(window.opener, '${id}');\n            }`;\n\n      // Use onload for most URL scenarios to allow time for the page to load first\n      // Safari 11.1 is aggressive, so it will call onbeforeunload prior to the page being created.\n      unloadScriptContainer.innerHTML = `\n            window.onload = function(e) {\n                ${onBeforeUnloadLogic}\n            };\n            `;\n\n      // For edge and IE, they don't actually execute the onload logic, so we just want the onBeforeUnload logic.\n      // If this isn't a URL scenario, we have to bind onBeforeUnload directly too.\n      if (isBrowserIEOrEdge() || !this.props.url) {\n        unloadScriptContainer.innerHTML = onBeforeUnloadLogic;\n      }\n\n      child.document.head.appendChild(unloadScriptContainer);\n\n      this.setupCleanupCallbacks();\n    } else {\n      this.setupAttempts++;\n      setTimeout(() => this.setupOnCloseHandler(id, child), 50);\n    }\n  }\n\n  setupCleanupCallbacks() {\n    // Close the popout if main window is closed.\n    window.addEventListener('unload', e => this.closeChildWindowIfOpened());\n\n    globalContext.set('onChildClose', (id /*: string*/) => {\n      if (popouts[id] && popouts[id].props.onClose) {\n        popouts[id].props.onClose();\n      }\n    });\n\n    globalContext.set('onBeforeUnload', (id /*: string*/, evt /*: BeforeUnloadEvent*/) => {\n      if (popouts[id] && popouts[id].props.onBeforeUnload) {\n        return popouts[id].props.onBeforeUnload(evt);\n      }\n    });\n  }\n\n  setupStyleElement(child /*: Window*/) {\n    this.styleElement = child.document.createElement('style');\n    this.styleElement.setAttribute('data-this-styles', 'true');\n    this.styleElement.type = 'text/css';\n\n    child.document.head.appendChild(this.styleElement);\n  }\n\n  injectHtml(id /*: string*/, child /*: Window*/) {\n    let container /*: HTMLDivElement*/;\n\n    if (this.props.html) {\n      child.document.write(this.props.html);\n      this.copyStyles(child);\n      container = child.document.getElementById(id);\n      if (!container) {\n        container = child.document.createElement('div');\n        container.id = id;\n        child.document.body.appendChild(container);\n      }\n    } else {\n      let childHtml = '<!DOCTYPE html><html><head>';\n      for (let i = window.document.styleSheets.length - 1; i >= 0; i--) {\n        let styleSheet = window.document.styleSheets[i]; /* as CSSStyleSheet*/\n        try {\n          const cssText = styleSheet.cssText;\n          childHtml += `<style>${cssText}</style>`;\n        } catch {\n          // IE11 will throw a security exception sometimes when accessing cssText.\n          // There's no good way to detect this, so we capture the exception instead.\n        }\n      }\n      childHtml += `</head><body><div id=\"${id}\"></div></body></html>`;\n      child.document.write(childHtml);\n      container = child.document.getElementById(id) /*! as HTMLDivElement*/;\n    }\n\n    // Create a document with the styles of the parent window first\n    this.setupStyleElement(child);\n\n    return container;\n  }\n\n  /** Added by LMV */\n  copyStyles(child) {\n    const head = child.document.head;\n\n    let cssText = '';\n    let rules = null;\n\n    for (let i = _window.document.styleSheets.length - 1; i >= 0; i--) {\n      let styleSheet = _window.document.styleSheets[i]; /* as CSSStyleSheet*/\n      try {\n        rules = styleSheet.cssRules;\n      } catch {\n        // We're primarily looking for a security exception here.\n        // See https://bugs.chromium.org/p/chromium/issues/detail?id=775525\n        // Try to just embed the style element instead.\n        let styleElement = child.document.createElement('link');\n        styleElement.type = styleSheet.type;\n        styleElement.rel = 'stylesheet';\n        styleElement.href = styleSheet.href;\n        head.appendChild(styleElement);\n      } finally {\n        if (rules) {\n          for (let j = 0; j < rules.length; j++) {\n            try {\n              cssText += rules[j].cssText;\n            } catch {\n              // IE11 will throw a security exception sometimes when accessing cssText.\n              // There's no good way to detect this, so we capture the exception instead.\n            }\n          }\n        }\n      }\n\n      rules = null;\n    }\n\n    const style = child.document.createElement('style');\n    style.innerHTML = cssText;\n\n    head.appendChild(style);\n  }\n\n  setupStyleObserver(child /*: Window*/) {\n    // Add style observer for legacy style node additions\n    const observer = new MutationObserver(mutations => {\n      mutations.forEach(mutation => {\n        if (mutation.type == 'childList') {\n          forEachStyleElement(mutation.addedNodes, element => {\n            child.document.head.appendChild(crossBrowserCloneNode(element, child.document));\n          });\n        }\n      });\n    });\n\n    const config = { childList: true };\n\n    observer.observe(document.head, config);\n  }\n\n  initializeChildWindow(id /*: string*/, child /*: Window*/) {\n    popouts[id] = this;\n\n    if (!this.props.url) {\n      const container /*: HTMLDivElement*/ = this.injectHtml(id, child);\n      this.setupStyleObserver(child);\n      this.setupOnCloseHandler(id, child);\n      return container;\n    } else {\n      this.setupOnCloseHandler(id, child);\n\n      return null;\n    }\n  }\n\n  /** Added by LMV */\n  setupChild(element, child, setupStyleObserver) {\n    this.child = child;\n    this.container = element;\n    popouts[element.id] = this;\n    \n    setupStyleObserver && this.setupStyleObserver(child);\n    this.setupOnCloseHandler(element.id, child);\n  }\n\n  openChildWindow() {\n    const options = generateWindowFeaturesString(this.props.options || {});\n\n    const name = getWindowName(this.props.name);\n\n    this.child = validatePopupBlocker(window.open(this.props.url || 'about:blank', name, options));\n\n    if (!this.child) {\n      if (this.props.onBlocked) {\n        this.props.onBlocked();\n      }\n      this.container = null;\n    } else {\n      const id = `__${name}_container__`;\n      this.container = this.initializeChildWindow(id, this.child);\n    }\n  }\n\n  closeChildWindowIfOpened() {\n    if (isChildWindowOpened(this.child)) {\n      this.child.close();\n\n      // sometimes having the popup's dev console \n      // open may not close the popup\n      // calling close again should close it\n      this.child.close();\n\n      this.child = null;\n      if (this.props.onClose) {\n        this.props.onClose();\n      }\n    }\n  }\n\n  renderChildWindow() {\n    validateUrl(this.props.url);\n\n    if (!this.props.hidden) {\n      if (!isChildWindowOpened(this.child)) {\n        this.openChildWindow();\n      }\n    } else {\n      this.closeChildWindowIfOpened();\n    }\n  }\n\n}\n\n/** Added by LMV */\nfunction canvasFromImage(img) {\n  const canvas = img.ownerDocument.createElement('canvas');\n  canvas.width = img.width;\n  canvas.height = img.height;\n\n  let ctx = canvas.getContext('2d');\n  ctx.drawImage(img, 0, 0);\n\n  return canvas;\n}\n\n/** Added by LMV */\nfunction resetImageBlobUrls(el) {\n\n  // all img descendants of el\n  const images = el.querySelectorAll('img');\n  for (let i = 0; i < images.length; ++i) {\n\n    const img = images[i];\n\n    // Skip non-blobs\n    if (img.src.indexOf('blob:') !== 0) {\n      continue;\n    }\n    \n    img.onload = () => {\n      URL.revokeObjectURL(img.src);\n    };\n\n    // createObjectURLs from images\n    const canvas = canvasFromImage(img);\n    canvas.toBlob(blob => {\n      const url = URL.createObjectURL(blob);\n      img.src = url;\n    }, 'image/png');\n\n    // so we don't see console errors if image src contains\n    // previously revoked url\n    img.src = ''; \n\n  }\n\n}\n\nexport { Popout, resetImageBlobUrls };\n","import { Popout, resetImageBlobUrls } from './thirdparty/popout';\n\nconst av = Autodesk.Viewing;\nconst avp = av.Private;\n\n/**\n * Extension to popout the viewer into child windows\n * \n * The extension id is: `Autodesk.Viewing.Popout`\n * \n * @example\n *  viewer.loadExtension('Autodesk.Viewing.Popout');\n * \n * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n * @memberof Autodesk.Viewing.Extensions\n * @alias Autodesk.Viewing.Extensions.PopoutExtension\n */\nexport default class PopoutExtension extends av.Extension {\n  /**\n   * @class\n   * @param {Autodesk.Viewing.Viewer3D} viewer - Viewer instance.\n   * @param {object} options - Not used.\n   */\n  constructor(viewer, options = {}) {\n    super(viewer, options);\n    this._viewer = viewer;\n    this._popoutInstance = null;\n    this._viewerParentNode = null;\n    this._onBeforeUnload = this._onBeforeUnload.bind(this);\n  }\n\n  /**\n   * Extension interface method - loads the extension\n   *\n   * @alias Autodesk.Viewing.Extensions.PopoutExtension#load\n   * @returns {boolean}\n   */\n  load() {\n    return true;\n  }\n\n  /**\n   * Extension interface method - unloads the extension\n   *\n   * @alias Autodesk.Viewing.Extensions.PopoutExtension#unload\n   * @returns {boolean}\n   */\n  unload() {\n    return true;\n  }\n\n  /**\n   * Use this to pop the viewer out to an existing window\n   * \n   * @param {object} child - Already open window created with window.open()\n   * @param {string} elementid - The dom element id in the child where the viewer will be moved to\n   * @param {boolean} [copyStyles=true] - Flag to copy the styles from the current window to the child. \n   *                                      Set this to false if you intend to copy the styles yourself\n   * @param {boolean} [setupStyleObserver=true] -  Style observers clone dynamically added <style></style> (from extensions loading) into child.\n   *                                               This is required for extensions to work.\n   *                                               Set this to false if you intend to set up the cloning with mutation observers yourself\n   * \n   * @alias Autodesk.Viewing.Extensions.PopoutExtension#popoutToChild\n   */\n  popoutToChild(child, elementid, copyStyles = true, setupStyleObserver = true) {\n\n    const viewer = this.viewer;\n    const logger = avp.logger;\n\n    // validate input\n    if (!child) {\n      logger.error('Invalid child');\n      return;\n    }\n\n    const elem = child.document.getElementById(elementid);\n    if (!elem) {\n      logger.error(`Invalid element ${elementid}`);\n      return;\n    }\n\n    if (!viewer.container) {\n      logger.error('Viewer is not part of DOM');\n      return;\n    }\n\n    if (this._isPoppedOut()) {\n      logger.info('Already popped out');\n      return;\n    }\n\n    this._popoutInstance = new Popout({ hidden: false, onBeforeUnload: this._onBeforeUnload });\n\n    // Copy all styles\n    copyStyles && this._popoutInstance.copyStyles(child);\n    // Set up style observers and close handlers\n    this._popoutInstance.setupChild(elem, child, setupStyleObserver);\n    // Popout\n    this._moveViewerTo(child, elementid);\n  }\n\n  /**\n   * Use this to pop the viewer out to a new blank window\n   * \n   * @param {object} [options] - windowFeature options\n   * @param {Function} [onBeforeUnload] - Called before the popout window is unloaded\n   * @param {Function} [onClose] - Called when popout window is closed\n   * @param {Function} [onBlocked] - Called when popup blockers block creating child window\n   * \n   * @alias Autodesk.Viewing.Extensions.PopoutExtension#popoutToBlank\n   */\n  popoutToBlank(options, onBeforeUnload, onClose, onBlocked) {\n    const viewer = this.viewer;\n    const logger = avp.logger;\n\n    if (!viewer.container) {\n      logger.error('Viewer is not part of DOM');\n      return;\n    }\n    \n    if (this._isPoppedOut()) {\n      logger.info('Already popped out');\n      return;\n    }\n\n    // empty html body\n    const html = `<!DOCTYPE html><html><head></head><body></body></html>`;\n\n    // Callback for onbeforeunloa, which handles closing the popout window\n    const onBeforeUnloadCb = (...args) => {\n      // Call user's version first\n      if (onBeforeUnload) {\n        onBeforeUnload.apply(null, args);\n      }\n\n      // call ours\n      this._onBeforeUnload.apply(null, args);\n    };\n\n    // Create and show the popout\n    const props = {\n      options,\n      hidden: false,\n      html,\n      onBeforeUnload: onBeforeUnloadCb,\n      onClose,\n      onBlocked\n    };\n    this._popoutInstance = new Popout(props);\n    this._popoutInstance.renderChildWindow();\n\n    // pop out\n    if (this._popoutInstance.child && !this._popoutInstance.child.closed) {\n      this._moveViewerTo(this._popoutInstance.child, this._popoutInstance.container.id);\n    }\n  }\n\n  /**\n   * Closes the popout window and moves the viewer back to the main window\n   *\n   * @alias Autodesk.Viewing.Extensions.PopoutExtension#popin\n   */\n  popin() {\n    if (this._popoutInstance) {\n      this._popoutInstance.closeChildWindowIfOpened();\n    }\n  }\n\n  /**\n   * window.onbeforeunload callback\n   *\n   * @private\n   */\n  _onBeforeUnload() {\n    this._moveViewerBack();\n    this._popoutInstance = null;\n  }\n\n  /**\n   * Call this to pop the viewer into a child window\n   *\n   * For this to work,\n   *  1. The viewer's style.css link and other css added by the viewer  must be present in the child document's <head> tag and\n   *  2. A mutationobserver should be set up to clone the style elements into the child as they appear (from other extension loading)\n   *\n   * @param {object} child - popout window\n   * @param {*} elementid - the element id to append the viewer to\n   * @private\n   */\n  _moveViewerTo(child, elementid) {\n    if (this._isPoppedOut()) {\n      avp.logger.info('Already popped out');\n      return;\n    }\n\n    // Move the viewer element\n    const container = child.document.getElementById(elementid);\n    if (container) {\n      // Store parent node so we can come back\n      this._viewerParentNode = this.viewer.container.parentNode;\n\n      // re-get previously revoked image urls\n      resetImageBlobUrls(this.viewer.container);\n\n      // Move viewer dom into new container\n      container.appendChild(this.viewer.container);\n\n      // Change viewers window\n      this.setWindow(child);\n    }\n  }\n\n  /**\n   * Moves the viewer back to the main window\n   *\n   * @private\n   */\n  _moveViewerBack() {\n    if (!this._isPoppedOut()) {\n      avp.logger.info('Not popped out');\n      return;\n    }\n\n    // re-get previously revoked image urls\n    resetImageBlobUrls(this.viewer.container);\n\n    // Move viewer element from popout back into main window\n    this._viewerParentNode.appendChild(this.viewer.container);\n\n    // change viewers window from popout to main\n    this.setWindow(av.getGlobal());\n\n    // bring viewer back to original size\n    this.viewer.resize();\n  }\n\n  /**\n   * Returns true if viewer has been moved to a child window\n   *\n   * @private\n   */\n  _isPoppedOut() {\n    return this.getWindow().opener === av.getGlobal();\n  }\n}\n\nav.theExtensionManager.registerExtension('Autodesk.Viewing.Popout', PopoutExtension);\n\n"],"sourceRoot":""}